const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Employee-BT_ws9Q_.js","assets/ListDisplay-B9BmHlNl.js","assets/index-Dh1WwN9N.js","assets/forms-Lc3CRwVw.js","assets/index.esm-DyswK6GF.js","assets/sweetalert2.esm.all-CIewtpap.js","assets/ListDisplay-COatlqx_.css","assets/BreadCrumb-QusY3eB5.js","assets/BreadCrumb-D9Gl0lli.css","assets/Add-W5Yar_ZZ.js","assets/Edit-BW8fppNK.js","assets/View-kvb64s85.js","assets/DetailView-CX9BsI5f.js","assets/index-Ddm7-nYC.js","assets/Setting-BPUYQk20.js","assets/SideNav-Dc4KCjjK.js","assets/SideNav-3RIq33FG.css","assets/List-BZ4BNmpe.js","assets/utils-RVpx9FsL.js","assets/Status-SrFYIGJX.js","assets/List-B0Xro08H.css","assets/Add-C9OHZXUn.js","assets/Edit-B7zDAbhv.js","assets/Leave-BPlzRLFl.js","assets/AcceptorReject-DxrLWxaW.js","assets/Add-DotsiNdV.js","assets/forms-D_1mYhwY.js","assets/Edit-CJlMPAMV.js","assets/View-CGxaAPr3.js","assets/List-CXAQHsdy.js","assets/Payslip-D5VmHJSQ.js","assets/Payslip-Bhm6lMnj.css","assets/Payrolls-LRDVVIDe.js","assets/Main-awsGW3zB.js","assets/Add-CUs50zgK.js","assets/SalaryStructure-CeQmhM3o.js","assets/Add-WFJL_Rnr.js","assets/Add-naLqwkE-.css","assets/Edit-CiqGaM21.js","assets/Edit-DE4yvWCi.css","assets/List-CjNEaWIU.js","assets/Add-B_fwn0hp.js","assets/form-BqK9qc89.js","assets/Edit-C_9b11-L.js","assets/Attendance-CsY2ormi.js","assets/CheckIn-CG6MoemH.js","assets/CheckOut-DHXoHO_j.js","assets/Import-D4_QuTxb.js","assets/Add-iMs52Udr.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wa(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const He={},mi=[],Qt=()=>{},tp=()=>!1,Oo=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Ha=n=>n.startsWith("onUpdate:"),ot=Object.assign,ja=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},np=Object.prototype.hasOwnProperty,Pe=(n,e)=>np.call(n,e),ve=Array.isArray,vi=n=>_r(n)==="[object Map]",Li=n=>_r(n)==="[object Set]",Bl=n=>_r(n)==="[object Date]",Ae=n=>typeof n=="function",qe=n=>typeof n=="string",jt=n=>typeof n=="symbol",je=n=>n!==null&&typeof n=="object",Zu=n=>(je(n)||Ae(n))&&Ae(n.then)&&Ae(n.catch),eh=Object.prototype.toString,_r=n=>eh.call(n),ip=n=>_r(n).slice(8,-1),th=n=>_r(n)==="[object Object]",za=n=>qe(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ji=Wa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Io=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},rp=/-(\w)/g,It=Io(n=>n.replace(rp,(e,t)=>t?t.toUpperCase():"")),op=/\B([A-Z])/g,ii=Io(n=>n.replace(op,"-$1").toLowerCase()),Lr=Io(n=>n.charAt(0).toUpperCase()+n.slice(1)),no=Io(n=>n?`on${Lr(n)}`:""),Ln=(n,e)=>!Object.is(n,e),io=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},nh=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},fo=n=>{const e=parseFloat(n);return isNaN(e)?n:e},sp=n=>{const e=qe(n)?Number(n):NaN;return isNaN(e)?n:e};let Wl;const No=()=>Wl||(Wl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Fo(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=qe(i)?up(i):Fo(i);if(r)for(const l in r)e[l]=r[l]}return e}else if(qe(n)||je(n))return n}const ap=/;(?![^(]*\))/g,lp=/:([^]+)/,cp=/\/\*[^]*?\*\//g;function up(n){const e={};return n.replace(cp,"").split(ap).forEach(t=>{if(t){const i=t.split(lp);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function fn(n){let e="";if(qe(n))e=n;else if(ve(n))for(let t=0;t<n.length;t++){const i=fn(n[t]);i&&(e+=i+" ")}else if(je(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function Ft(n){if(!n)return null;let{class:e,style:t}=n;return e&&!qe(e)&&(n.class=fn(e)),t&&(n.style=Fo(t)),n}const hp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dp=Wa(hp);function ih(n){return!!n||n===""}function fp(n,e){if(n.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<n.length;i++)t=Rr(n[i],e[i]);return t}function Rr(n,e){if(n===e)return!0;let t=Bl(n),i=Bl(e);if(t||i)return t&&i?n.getTime()===e.getTime():!1;if(t=jt(n),i=jt(e),t||i)return n===e;if(t=ve(n),i=ve(e),t||i)return t&&i?fp(n,e):!1;if(t=je(n),i=je(e),t||i){if(!t||!i)return!1;const r=Object.keys(n).length,l=Object.keys(e).length;if(r!==l)return!1;for(const d in n){const g=n.hasOwnProperty(d),s=e.hasOwnProperty(d);if(g&&!s||!g&&s||!Rr(n[d],e[d]))return!1}}return String(n)===String(e)}function Ua(n,e){return n.findIndex(t=>Rr(t,e))}const rh=n=>!!(n&&n.__v_isRef===!0),it=n=>qe(n)?n:n==null?"":ve(n)||je(n)&&(n.toString===eh||!Ae(n.toString))?rh(n)?it(n.value):JSON.stringify(n,oh,2):String(n),oh=(n,e)=>rh(e)?oh(n,e.value):vi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],l)=>(t[cs(i,l)+" =>"]=r,t),{})}:Li(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>cs(t))}:jt(e)?cs(e):je(e)&&!ve(e)&&!th(e)?String(e):e,cs=(n,e="")=>{var t;return jt(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class sh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!e&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=ft;try{return ft=this,e()}finally{ft=t}}}on(){ft=this}off(){ft=this.parent}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function ah(n){return new sh(n)}function Va(){return ft}function Ka(n,e=!1){ft&&ft.cleanups.push(n)}let ze;const us=new WeakSet;class lh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,us.has(this)&&(us.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hl(this),hh(this);const e=ze,t=Ht;ze=this,Ht=!0;try{return this.fn()}finally{dh(this),ze=e,Ht=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)qa(e);this.deps=this.depsTail=void 0,Hl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?us.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ra(this)&&this.run()}get dirty(){return ra(this)}}let ch=0,Qi,Xi;function uh(n,e=!1){if(n.flags|=8,e){n.next=Xi,Xi=n;return}n.next=Qi,Qi=n}function Ga(){ch++}function Ya(){if(--ch>0)return;if(Xi){let e=Xi;for(Xi=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Qi;){let e=Qi;for(Qi=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function hh(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dh(n){let e,t=n.depsTail,i=t;for(;i;){const r=i.prevDep;i.version===-1?(i===t&&(t=r),qa(i),pp(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}n.deps=e,n.depsTail=t}function ra(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(fh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function fh(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===pr))return;n.globalVersion=pr;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!ra(n)){n.flags&=-3;return}const t=ze,i=Ht;ze=n,Ht=!0;try{hh(n);const r=n.fn(n._value);(e.version===0||Ln(r,n._value))&&(n._value=r,e.version++)}catch(r){throw e.version++,r}finally{ze=t,Ht=i,dh(n),n.flags&=-3}}function qa(n,e=!1){const{dep:t,prevSub:i,nextSub:r}=n;if(i&&(i.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let l=t.computed.deps;l;l=l.nextDep)qa(l,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function pp(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let Ht=!0;const ph=[];function On(){ph.push(Ht),Ht=!1}function In(){const n=ph.pop();Ht=n===void 0?!0:n}function Hl(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=ze;ze=void 0;try{e()}finally{ze=t}}}let pr=0;class gp{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Po{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ze||!Ht||ze===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ze)t=this.activeLink=new gp(ze,this),ze.deps?(t.prevDep=ze.depsTail,ze.depsTail.nextDep=t,ze.depsTail=t):ze.deps=ze.depsTail=t,gh(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=ze.depsTail,t.nextDep=void 0,ze.depsTail.nextDep=t,ze.depsTail=t,ze.deps===t&&(ze.deps=i)}return t}trigger(e){this.version++,pr++,this.notify(e)}notify(e){Ga();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Ya()}}}function gh(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)gh(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const po=new WeakMap,Yn=Symbol(""),oa=Symbol(""),gr=Symbol("");function lt(n,e,t){if(Ht&&ze){let i=po.get(n);i||po.set(n,i=new Map);let r=i.get(t);r||(i.set(t,r=new Po),r.map=i,r.key=t),r.track()}}function an(n,e,t,i,r,l){const d=po.get(n);if(!d){pr++;return}const g=s=>{s&&s.trigger()};if(Ga(),e==="clear")d.forEach(g);else{const s=ve(n),p=s&&za(t);if(s&&t==="length"){const o=Number(i);d.forEach((a,u)=>{(u==="length"||u===gr||!jt(u)&&u>=o)&&g(a)})}else switch((t!==void 0||d.has(void 0))&&g(d.get(t)),p&&g(d.get(gr)),e){case"add":s?p&&g(d.get("length")):(g(d.get(Yn)),vi(n)&&g(d.get(oa)));break;case"delete":s||(g(d.get(Yn)),vi(n)&&g(d.get(oa)));break;case"set":vi(n)&&g(d.get(Yn));break}}Ya()}function mp(n,e){const t=po.get(n);return t&&t.get(e)}function li(n){const e=$e(n);return e===n?e:(lt(e,"iterate",gr),Dt(n)?e:e.map(ct))}function Bo(n){return lt(n=$e(n),"iterate",gr),n}const vp={__proto__:null,[Symbol.iterator](){return hs(this,Symbol.iterator,ct)},concat(...n){return li(this).concat(...n.map(e=>ve(e)?li(e):e))},entries(){return hs(this,"entries",n=>(n[1]=ct(n[1]),n))},every(n,e){return en(this,"every",n,e,void 0,arguments)},filter(n,e){return en(this,"filter",n,e,t=>t.map(ct),arguments)},find(n,e){return en(this,"find",n,e,ct,arguments)},findIndex(n,e){return en(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return en(this,"findLast",n,e,ct,arguments)},findLastIndex(n,e){return en(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return en(this,"forEach",n,e,void 0,arguments)},includes(...n){return ds(this,"includes",n)},indexOf(...n){return ds(this,"indexOf",n)},join(n){return li(this).join(n)},lastIndexOf(...n){return ds(this,"lastIndexOf",n)},map(n,e){return en(this,"map",n,e,void 0,arguments)},pop(){return Ii(this,"pop")},push(...n){return Ii(this,"push",n)},reduce(n,...e){return jl(this,"reduce",n,e)},reduceRight(n,...e){return jl(this,"reduceRight",n,e)},shift(){return Ii(this,"shift")},some(n,e){return en(this,"some",n,e,void 0,arguments)},splice(...n){return Ii(this,"splice",n)},toReversed(){return li(this).toReversed()},toSorted(n){return li(this).toSorted(n)},toSpliced(...n){return li(this).toSpliced(...n)},unshift(...n){return Ii(this,"unshift",n)},values(){return hs(this,"values",ct)}};function hs(n,e,t){const i=Bo(n),r=i[e]();return i!==n&&!Dt(n)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.value&&(l.value=t(l.value)),l}),r}const yp=Array.prototype;function en(n,e,t,i,r,l){const d=Bo(n),g=d!==n&&!Dt(n),s=d[e];if(s!==yp[e]){const a=s.apply(n,l);return g?ct(a):a}let p=t;d!==n&&(g?p=function(a,u){return t.call(this,ct(a),u,n)}:t.length>2&&(p=function(a,u){return t.call(this,a,u,n)}));const o=s.call(d,p,i);return g&&r?r(o):o}function jl(n,e,t,i){const r=Bo(n);let l=t;return r!==n&&(Dt(n)?t.length>3&&(l=function(d,g,s){return t.call(this,d,g,s,n)}):l=function(d,g,s){return t.call(this,d,ct(g),s,n)}),r[e](l,...i)}function ds(n,e,t){const i=$e(n);lt(i,"iterate",gr);const r=i[e](...t);return(r===-1||r===!1)&&Xa(t[0])?(t[0]=$e(t[0]),i[e](...t)):r}function Ii(n,e,t=[]){On(),Ga();const i=$e(n)[e].apply(n,t);return Ya(),In(),i}const bp=Wa("__proto__,__v_isRef,__isVue"),mh=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(jt));function wp(n){jt(n)||(n=String(n));const e=$e(this);return lt(e,"has",n),e.hasOwnProperty(n)}class vh{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,l=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return l;if(t==="__v_raw")return i===(r?l?Rp:Ah:l?wh:bh).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const d=ve(e);if(!r){let s;if(d&&(s=vp[t]))return s;if(t==="hasOwnProperty")return wp}const g=Reflect.get(e,t,Ge(e)?e:i);return(jt(t)?mh.has(t):bp(t))||(r||lt(e,"get",t),l)?g:Ge(g)?d&&za(t)?g:g.value:je(g)?r?Wo(g):Mr(g):g}}class yh extends vh{constructor(e=!1){super(!1,e)}set(e,t,i,r){let l=e[t];if(!this._isShallow){const s=Xn(l);if(!Dt(i)&&!Xn(i)&&(l=$e(l),i=$e(i)),!ve(e)&&Ge(l)&&!Ge(i))return s?!1:(l.value=i,!0)}const d=ve(e)&&za(t)?Number(t)<e.length:Pe(e,t),g=Reflect.set(e,t,i,Ge(e)?e:r);return e===$e(r)&&(d?Ln(i,l)&&an(e,"set",t,i):an(e,"add",t,i)),g}deleteProperty(e,t){const i=Pe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&an(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!jt(t)||!mh.has(t))&&lt(e,"has",t),i}ownKeys(e){return lt(e,"iterate",ve(e)?"length":Yn),Reflect.ownKeys(e)}}class Ap extends vh{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Sp=new yh,Cp=new Ap,xp=new yh(!0);const sa=n=>n,jr=n=>Reflect.getPrototypeOf(n);function Ep(n,e,t){return function(...i){const r=this.__v_raw,l=$e(r),d=vi(l),g=n==="entries"||n===Symbol.iterator&&d,s=n==="keys"&&d,p=r[n](...i),o=t?sa:e?aa:ct;return!e&&lt(l,"iterate",s?oa:Yn),{next(){const{value:a,done:u}=p.next();return u?{value:a,done:u}:{value:g?[o(a[0]),o(a[1])]:o(a),done:u}},[Symbol.iterator](){return this}}}}function zr(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Tp(n,e){const t={get(r){const l=this.__v_raw,d=$e(l),g=$e(r);n||(Ln(r,g)&&lt(d,"get",r),lt(d,"get",g));const{has:s}=jr(d),p=e?sa:n?aa:ct;if(s.call(d,r))return p(l.get(r));if(s.call(d,g))return p(l.get(g));l!==d&&l.get(r)},get size(){const r=this.__v_raw;return!n&&lt($e(r),"iterate",Yn),Reflect.get(r,"size",r)},has(r){const l=this.__v_raw,d=$e(l),g=$e(r);return n||(Ln(r,g)&&lt(d,"has",r),lt(d,"has",g)),r===g?l.has(r):l.has(r)||l.has(g)},forEach(r,l){const d=this,g=d.__v_raw,s=$e(g),p=e?sa:n?aa:ct;return!n&&lt(s,"iterate",Yn),g.forEach((o,a)=>r.call(l,p(o),p(a),d))}};return ot(t,n?{add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear")}:{add(r){!e&&!Dt(r)&&!Xn(r)&&(r=$e(r));const l=$e(this);return jr(l).has.call(l,r)||(l.add(r),an(l,"add",r,r)),this},set(r,l){!e&&!Dt(l)&&!Xn(l)&&(l=$e(l));const d=$e(this),{has:g,get:s}=jr(d);let p=g.call(d,r);p||(r=$e(r),p=g.call(d,r));const o=s.call(d,r);return d.set(r,l),p?Ln(l,o)&&an(d,"set",r,l):an(d,"add",r,l),this},delete(r){const l=$e(this),{has:d,get:g}=jr(l);let s=d.call(l,r);s||(r=$e(r),s=d.call(l,r)),g&&g.call(l,r);const p=l.delete(r);return s&&an(l,"delete",r,void 0),p},clear(){const r=$e(this),l=r.size!==0,d=r.clear();return l&&an(r,"clear",void 0,void 0),d}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Ep(r,n,e)}),t}function Ja(n,e){const t=Tp(n,e);return(i,r,l)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Pe(t,r)&&r in i?t:i,r,l)}const kp={get:Ja(!1,!1)},_p={get:Ja(!1,!0)},Lp={get:Ja(!0,!1)};const bh=new WeakMap,wh=new WeakMap,Ah=new WeakMap,Rp=new WeakMap;function Mp(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(n){return n.__v_skip||!Object.isExtensible(n)?0:Mp(ip(n))}function Mr(n){return Xn(n)?n:Qa(n,!1,Sp,kp,bh)}function Sh(n){return Qa(n,!1,xp,_p,wh)}function Wo(n){return Qa(n,!0,Cp,Lp,Ah)}function Qa(n,e,t,i,r){if(!je(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const l=r.get(n);if(l)return l;const d=$p(n);if(d===0)return n;const g=new Proxy(n,d===2?i:t);return r.set(n,g),g}function un(n){return Xn(n)?un(n.__v_raw):!!(n&&n.__v_isReactive)}function Xn(n){return!!(n&&n.__v_isReadonly)}function Dt(n){return!!(n&&n.__v_isShallow)}function Xa(n){return n?!!n.__v_raw:!1}function $e(n){const e=n&&n.__v_raw;return e?$e(e):n}function Ho(n){return!Pe(n,"__v_skip")&&Object.isExtensible(n)&&nh(n,"__v_skip",!0),n}const ct=n=>je(n)?Mr(n):n,aa=n=>je(n)?Wo(n):n;function Ge(n){return n?n.__v_isRef===!0:!1}function Ie(n){return Ch(n,!1)}function Za(n){return Ch(n,!0)}function Ch(n,e){return Ge(n)?n:new Dp(n,e)}class Dp{constructor(e,t){this.dep=new Po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:$e(e),this._value=t?e:ct(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Dt(e)||Xn(e);e=i?e:$e(e),Ln(e,t)&&(this._rawValue=e,this._value=i?e:ct(e),this.dep.trigger())}}function ke(n){return Ge(n)?n.value:n}function Op(n){return Ae(n)?n():ke(n)}const Ip={get:(n,e,t)=>e==="__v_raw"?n:ke(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return Ge(r)&&!Ge(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function xh(n){return un(n)?n:new Proxy(n,Ip)}class Np{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Po,{get:i,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Fp(n){return new Np(n)}function Pp(n){const e=ve(n)?new Array(n.length):{};for(const t in n)e[t]=Th(n,t);return e}class Bp{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mp($e(this._object),this._key)}}class Wp{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Eh(n,e,t){return Ge(n)?n:Ae(n)?new Wp(n):je(n)&&arguments.length>1?Th(n,e,t):Ie(n)}function Th(n,e,t){const i=n[e];return Ge(i)?i:new Bp(n,e,t)}class Hp{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return uh(this,!0),!0}get value(){const e=this.dep.track();return fh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function jp(n,e,t=!1){let i,r;return Ae(n)?i=n:(i=n.get,r=n.set),new Hp(i,r,t)}const Ur={},go=new WeakMap;let jn;function zp(n,e=!1,t=jn){if(t){let i=go.get(t);i||go.set(t,i=[]),i.push(n)}}function Up(n,e,t=He){const{immediate:i,deep:r,once:l,scheduler:d,augmentJob:g,call:s}=t,p=x=>r?x:Dt(x)||r===!1||r===0?ln(x,1):ln(x);let o,a,u,c,h=!1,f=!1;if(Ge(n)?(a=()=>n.value,h=Dt(n)):un(n)?(a=()=>p(n),h=!0):ve(n)?(f=!0,h=n.some(x=>un(x)||Dt(x)),a=()=>n.map(x=>{if(Ge(x))return x.value;if(un(x))return p(x);if(Ae(x))return s?s(x,2):x()})):Ae(n)?e?a=s?()=>s(n,2):n:a=()=>{if(u){On();try{u()}finally{In()}}const x=jn;jn=o;try{return s?s(n,3,[c]):n(c)}finally{jn=x}}:a=Qt,e&&r){const x=a,C=r===!0?1/0:r;a=()=>ln(x(),C)}const v=Va(),b=()=>{o.stop(),v&&v.active&&ja(v.effects,o)};if(l&&e){const x=e;e=(...C)=>{x(...C),b()}}let S=f?new Array(n.length).fill(Ur):Ur;const R=x=>{if(!(!(o.flags&1)||!o.dirty&&!x))if(e){const C=o.run();if(r||h||(f?C.some((y,T)=>Ln(y,S[T])):Ln(C,S))){u&&u();const y=jn;jn=o;try{const T=[C,S===Ur?void 0:f&&S[0]===Ur?[]:S,c];s?s(e,3,T):e(...T),S=C}finally{jn=y}}}else o.run()};return g&&g(R),o=new lh(a),o.scheduler=d?()=>d(R,!1):R,c=x=>zp(x,!1,o),u=o.onStop=()=>{const x=go.get(o);if(x){if(s)s(x,4);else for(const C of x)C();go.delete(o)}},e?i?R(!0):S=o.run():d?d(R.bind(null,!0),!0):o.run(),b.pause=o.pause.bind(o),b.resume=o.resume.bind(o),b.stop=b,b}function ln(n,e=1/0,t){if(e<=0||!je(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Ge(n))ln(n.value,e,t);else if(ve(n))for(let i=0;i<n.length;i++)ln(n[i],e,t);else if(Li(n)||vi(n))n.forEach(i=>{ln(i,e,t)});else if(th(n)){for(const i in n)ln(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&ln(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $r(n,e,t,i){try{return i?n(...i):n()}catch(r){jo(r,e,t)}}function zt(n,e,t,i){if(Ae(n)){const r=$r(n,e,t,i);return r&&Zu(r)&&r.catch(l=>{jo(l,e,t)}),r}if(ve(n)){const r=[];for(let l=0;l<n.length;l++)r.push(zt(n[l],e,t,i));return r}}function jo(n,e,t,i=!0){const r=e?e.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:d}=e&&e.appContext.config||He;if(e){let g=e.parent;const s=e.proxy,p=`https://vuejs.org/error-reference/#runtime-${t}`;for(;g;){const o=g.ec;if(o){for(let a=0;a<o.length;a++)if(o[a](n,s,p)===!1)return}g=g.parent}if(l){On(),$r(l,null,10,[n,s,p]),In();return}}Vp(n,t,r,i,d)}function Vp(n,e,t,i=!0,r=!1){if(r)throw n;console.error(n)}const gt=[];let Yt=-1;const yi=[];let Sn=null,di=0;const kh=Promise.resolve();let mo=null;function Ri(n){const e=mo||kh;return n?e.then(this?n.bind(this):n):e}function Kp(n){let e=Yt+1,t=gt.length;for(;e<t;){const i=e+t>>>1,r=gt[i],l=mr(r);l<n||l===n&&r.flags&2?e=i+1:t=i}return e}function el(n){if(!(n.flags&1)){const e=mr(n),t=gt[gt.length-1];!t||!(n.flags&2)&&e>=mr(t)?gt.push(n):gt.splice(Kp(e),0,n),n.flags|=1,_h()}}function _h(){mo||(mo=kh.then(Rh))}function Gp(n){ve(n)?yi.push(...n):Sn&&n.id===-1?Sn.splice(di+1,0,n):n.flags&1||(yi.push(n),n.flags|=1),_h()}function zl(n,e,t=Yt+1){for(;t<gt.length;t++){const i=gt[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;gt.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Lh(n){if(yi.length){const e=[...new Set(yi)].sort((t,i)=>mr(t)-mr(i));if(yi.length=0,Sn){Sn.push(...e);return}for(Sn=e,di=0;di<Sn.length;di++){const t=Sn[di];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Sn=null,di=0}}const mr=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Rh(n){try{for(Yt=0;Yt<gt.length;Yt++){const e=gt[Yt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),$r(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Yt<gt.length;Yt++){const e=gt[Yt];e&&(e.flags&=-2)}Yt=-1,gt.length=0,Lh(),mo=null,(gt.length||yi.length)&&Rh()}}let tt=null,Mh=null;function vo(n){const e=tt;return tt=n,Mh=n&&n.type.__scopeId||null,e}function Rn(n,e=tt,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&ec(-1);const l=vo(e);let d;try{d=n(...r)}finally{vo(l),i._d&&ec(1)}return d};return i._n=!0,i._c=!0,i._d=!0,i}function Mt(n,e){if(tt===null)return n;const t=qo(tt),i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[l,d,g,s=He]=e[r];l&&(Ae(l)&&(l={mounted:l,updated:l}),l.deep&&ln(d),i.push({dir:l,instance:t,value:d,oldValue:void 0,arg:g,modifiers:s}))}return n}function Fn(n,e,t,i){const r=n.dirs,l=e&&e.dirs;for(let d=0;d<r.length;d++){const g=r[d];l&&(g.oldValue=l[d].value);let s=g.dir[i];s&&(On(),zt(s,t,8,[n.el,g,n,e]),In())}}const Yp=Symbol("_vte"),$h=n=>n.__isTeleport,Cn=Symbol("_leaveCb"),Vr=Symbol("_enterCb");function qp(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return gn(()=>{n.isMounted=!0}),Wh(()=>{n.isUnmounting=!0}),n}const Rt=[Function,Array],Dh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},Oh=n=>{const e=n.subTree;return e.component?Oh(e.component):e},Jp={name:"BaseTransition",props:Dh,setup(n,{slots:e}){const t=sl(),i=qp();return()=>{const r=e.default&&Fh(e.default(),!0);if(!r||!r.length)return;const l=Ih(r),d=$e(n),{mode:g}=d;if(i.isLeaving)return fs(l);const s=Ul(l);if(!s)return fs(l);let p=la(s,d,i,t,a=>p=a);s.type!==mt&&vr(s,p);let o=t.subTree&&Ul(t.subTree);if(o&&o.type!==mt&&!Un(s,o)&&Oh(t).type!==mt){let a=la(o,d,i,t);if(vr(o,a),g==="out-in"&&s.type!==mt)return i.isLeaving=!0,a.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete a.afterLeave,o=void 0},fs(l);g==="in-out"&&s.type!==mt?a.delayLeave=(u,c,h)=>{const f=Nh(i,o);f[String(o.key)]=o,u[Cn]=()=>{c(),u[Cn]=void 0,delete p.delayedLeave,o=void 0},p.delayedLeave=()=>{h(),delete p.delayedLeave,o=void 0}}:o=void 0}else o&&(o=void 0);return l}}};function Ih(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==mt){e=t;break}}return e}const Qp=Jp;function Nh(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function la(n,e,t,i,r){const{appear:l,mode:d,persisted:g=!1,onBeforeEnter:s,onEnter:p,onAfterEnter:o,onEnterCancelled:a,onBeforeLeave:u,onLeave:c,onAfterLeave:h,onLeaveCancelled:f,onBeforeAppear:v,onAppear:b,onAfterAppear:S,onAppearCancelled:R}=e,x=String(n.key),C=Nh(t,n),y=(_,k)=>{_&&zt(_,i,9,k)},T=(_,k)=>{const I=k[1];y(_,k),ve(_)?_.every(w=>w.length<=1)&&I():_.length<=1&&I()},L={mode:d,persisted:g,beforeEnter(_){let k=s;if(!t.isMounted)if(l)k=v||s;else return;_[Cn]&&_[Cn](!0);const I=C[x];I&&Un(n,I)&&I.el[Cn]&&I.el[Cn](),y(k,[_])},enter(_){let k=p,I=o,w=a;if(!t.isMounted)if(l)k=b||p,I=S||o,w=R||a;else return;let m=!1;const A=_[Vr]=E=>{m||(m=!0,E?y(w,[_]):y(I,[_]),L.delayedLeave&&L.delayedLeave(),_[Vr]=void 0)};k?T(k,[_,A]):A()},leave(_,k){const I=String(n.key);if(_[Vr]&&_[Vr](!0),t.isUnmounting)return k();y(u,[_]);let w=!1;const m=_[Cn]=A=>{w||(w=!0,k(),A?y(f,[_]):y(h,[_]),_[Cn]=void 0,C[I]===n&&delete C[I])};C[I]=n,c?T(c,[_,m]):m()},clone(_){const k=la(_,e,t,i,r);return r&&r(k),k}};return L}function fs(n){if(Uo(n))return n=Mn(n),n.children=null,n}function Ul(n){if(!Uo(n))return $h(n.type)&&n.children?Ih(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&Ae(t.default))return t.default()}}function vr(n,e){n.shapeFlag&6&&n.component?(n.transition=e,vr(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Fh(n,e=!1,t){let i=[],r=0;for(let l=0;l<n.length;l++){let d=n[l];const g=t==null?d.key:String(t)+String(d.key!=null?d.key:l);d.type===Ve?(d.patchFlag&128&&r++,i=i.concat(Fh(d.children,e,g))):(e||d.type!==mt)&&i.push(g!=null?Mn(d,{key:g}):d)}if(r>1)for(let l=0;l<i.length;l++)i[l].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function zo(n,e){return Ae(n)?ot({name:n.name},e,{setup:n}):n}function Ph(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Xp(n){const e=sl(),t=Za(null);if(e){const r=e.refs===He?e.refs={}:e.refs;Object.defineProperty(r,n,{enumerable:!0,get:()=>t.value,set:l=>t.value=l})}return t}function yo(n,e,t,i,r=!1){if(ve(n)){n.forEach((h,f)=>yo(h,e&&(ve(e)?e[f]:e),t,i,r));return}if(bi(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&yo(n,e,t,i.component.subTree);return}const l=i.shapeFlag&4?qo(i.component):i.el,d=r?null:l,{i:g,r:s}=n,p=e&&e.r,o=g.refs===He?g.refs={}:g.refs,a=g.setupState,u=$e(a),c=a===He?()=>!1:h=>Pe(u,h);if(p!=null&&p!==s&&(qe(p)?(o[p]=null,c(p)&&(a[p]=null)):Ge(p)&&(p.value=null)),Ae(s))$r(s,g,12,[d,o]);else{const h=qe(s),f=Ge(s);if(h||f){const v=()=>{if(n.f){const b=h?c(s)?a[s]:o[s]:s.value;r?ve(b)&&ja(b,l):ve(b)?b.includes(l)||b.push(l):h?(o[s]=[l],c(s)&&(a[s]=o[s])):(s.value=[l],n.k&&(o[n.k]=s.value))}else h?(o[s]=d,c(s)&&(a[s]=d)):f&&(s.value=d,n.k&&(o[n.k]=d))};d?(v.id=-1,Ct(v,t)):v()}}}No().requestIdleCallback;No().cancelIdleCallback;const bi=n=>!!n.type.__asyncLoader,Uo=n=>n.type.__isKeepAlive;function Zp(n,e){Bh(n,"a",e)}function eg(n,e){Bh(n,"da",e)}function Bh(n,e,t=rt){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Vo(e,i,t),t){let r=t.parent;for(;r&&r.parent;)Uo(r.parent.vnode)&&tg(i,e,t,r),r=r.parent}}function tg(n,e,t,i){const r=Vo(e,n,i,!0);Ko(()=>{ja(i[e],r)},t)}function Vo(n,e,t=rt,i=!1){if(t){const r=t[n]||(t[n]=[]),l=e.__weh||(e.__weh=(...d)=>{On();const g=Dr(t),s=zt(e,t,n,d);return g(),In(),s});return i?r.unshift(l):r.push(l),l}}const pn=n=>(e,t=rt)=>{(!Ar||n==="sp")&&Vo(n,(...i)=>e(...i),t)},ng=pn("bm"),gn=pn("m"),ig=pn("bu"),rg=pn("u"),Wh=pn("bum"),Ko=pn("um"),og=pn("sp"),sg=pn("rtg"),ag=pn("rtc");function lg(n,e=rt){Vo("ec",n,e)}const tl="components",cg="directives";function Hh(n,e){return nl(tl,n,!0,e)||n}const jh=Symbol.for("v-ndc");function ro(n){return qe(n)?nl(tl,n,!1)||n:n||jh}function ug(n){return nl(cg,n)}function nl(n,e,t=!0,i=!1){const r=tt||rt;if(r){const l=r.type;if(n===tl){const g=Jg(l,!1);if(g&&(g===e||g===It(e)||g===Lr(It(e))))return l}const d=Vl(r[n]||l[n],e)||Vl(r.appContext[n],e);return!d&&i?l:d}}function Vl(n,e){return n&&(n[e]||n[It(e)]||n[Lr(It(e))])}function yr(n,e,t,i){let r;const l=t,d=ve(n);if(d||qe(n)){const g=d&&un(n);let s=!1;g&&(s=!Dt(n),n=Bo(n)),r=new Array(n.length);for(let p=0,o=n.length;p<o;p++)r[p]=e(s?ct(n[p]):n[p],p,void 0,l)}else if(typeof n=="number"){r=new Array(n);for(let g=0;g<n;g++)r[g]=e(g+1,g,void 0,l)}else if(je(n))if(n[Symbol.iterator])r=Array.from(n,(g,s)=>e(g,s,void 0,l));else{const g=Object.keys(n);r=new Array(g.length);for(let s=0,p=g.length;s<p;s++){const o=g[s];r[s]=e(n[o],o,s,l)}}else r=[];return r}function St(n,e,t={},i,r){if(tt.ce||tt.parent&&bi(tt.parent)&&tt.parent.ce)return e!=="default"&&(t.name=e),he(),st(Ve,null,[Ke("slot",t,i&&i())],64);let l=n[e];l&&l._c&&(l._d=!1),he();const d=l&&zh(l(t)),g=t.key||d&&d.key,s=st(Ve,{key:(g&&!jt(g)?g:`_${e}`)+(!d&&i?"_fb":"")},d||(i?i():[]),d&&n._===1?64:-2);return s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),l&&l._c&&(l._d=!0),s}function zh(n){return n.some(e=>wr(e)?!(e.type===mt||e.type===Ve&&!zh(e.children)):!0)?n:null}function hg(n,e){const t={};for(const i in n)t[no(i)]=n[i];return t}const ca=n=>n?cd(n)?qo(n):ca(n.parent):null,Zi=ot(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>ca(n.parent),$root:n=>ca(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Vh(n),$forceUpdate:n=>n.f||(n.f=()=>{el(n.update)}),$nextTick:n=>n.n||(n.n=Ri.bind(n.proxy)),$watch:n=>Dg.bind(n)}),ps=(n,e)=>n!==He&&!n.__isScriptSetup&&Pe(n,e),dg={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:r,props:l,accessCache:d,type:g,appContext:s}=n;let p;if(e[0]!=="$"){const c=d[e];if(c!==void 0)switch(c){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return l[e]}else{if(ps(i,e))return d[e]=1,i[e];if(r!==He&&Pe(r,e))return d[e]=2,r[e];if((p=n.propsOptions[0])&&Pe(p,e))return d[e]=3,l[e];if(t!==He&&Pe(t,e))return d[e]=4,t[e];ua&&(d[e]=0)}}const o=Zi[e];let a,u;if(o)return e==="$attrs"&&lt(n.attrs,"get",""),o(n);if((a=g.__cssModules)&&(a=a[e]))return a;if(t!==He&&Pe(t,e))return d[e]=4,t[e];if(u=s.config.globalProperties,Pe(u,e))return u[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:l}=n;return ps(r,e)?(r[e]=t,!0):i!==He&&Pe(i,e)?(i[e]=t,!0):Pe(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(l[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:l}},d){let g;return!!t[d]||n!==He&&Pe(n,d)||ps(e,d)||(g=l[0])&&Pe(g,d)||Pe(i,d)||Pe(Zi,d)||Pe(r.config.globalProperties,d)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Pe(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function Kl(n){return ve(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let ua=!0;function fg(n){const e=Vh(n),t=n.proxy,i=n.ctx;ua=!1,e.beforeCreate&&Gl(e.beforeCreate,n,"bc");const{data:r,computed:l,methods:d,watch:g,provide:s,inject:p,created:o,beforeMount:a,mounted:u,beforeUpdate:c,updated:h,activated:f,deactivated:v,beforeDestroy:b,beforeUnmount:S,destroyed:R,unmounted:x,render:C,renderTracked:y,renderTriggered:T,errorCaptured:L,serverPrefetch:_,expose:k,inheritAttrs:I,components:w,directives:m,filters:A}=e;if(p&&pg(p,i,null),d)for(const O in d){const $=d[O];Ae($)&&(i[O]=$.bind(t))}if(r){const O=r.call(t,t);je(O)&&(n.data=Mr(O))}if(ua=!0,l)for(const O in l){const $=l[O],D=Ae($)?$.bind(t,t):Ae($.get)?$.get.bind(t,t):Qt,N=!Ae($)&&Ae($.set)?$.set.bind(t):Qt,F=vt({get:D,set:N});Object.defineProperty(i,O,{enumerable:!0,configurable:!0,get:()=>F.value,set:z=>F.value=z})}if(g)for(const O in g)Uh(g[O],i,t,O);if(s){const O=Ae(s)?s.call(t):s;Reflect.ownKeys(O).forEach($=>{oo($,O[$])})}o&&Gl(o,n,"c");function M(O,$){ve($)?$.forEach(D=>O(D.bind(t))):$&&O($.bind(t))}if(M(ng,a),M(gn,u),M(ig,c),M(rg,h),M(Zp,f),M(eg,v),M(lg,L),M(ag,y),M(sg,T),M(Wh,S),M(Ko,x),M(og,_),ve(k))if(k.length){const O=n.exposed||(n.exposed={});k.forEach($=>{Object.defineProperty(O,$,{get:()=>t[$],set:D=>t[$]=D})})}else n.exposed||(n.exposed={});C&&n.render===Qt&&(n.render=C),I!=null&&(n.inheritAttrs=I),w&&(n.components=w),m&&(n.directives=m),_&&Ph(n)}function pg(n,e,t=Qt){ve(n)&&(n=ha(n));for(const i in n){const r=n[i];let l;je(r)?"default"in r?l=Ot(r.from||i,r.default,!0):l=Ot(r.from||i):l=Ot(r),Ge(l)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:d=>l.value=d}):e[i]=l}}function Gl(n,e,t){zt(ve(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function Uh(n,e,t,i){let r=i.includes(".")?rd(t,i):()=>t[i];if(qe(n)){const l=e[n];Ae(l)&&Et(r,l)}else if(Ae(n))Et(r,n.bind(t));else if(je(n))if(ve(n))n.forEach(l=>Uh(l,e,t,i));else{const l=Ae(n.handler)?n.handler.bind(t):e[n.handler];Ae(l)&&Et(r,l,n)}}function Vh(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:l,config:{optionMergeStrategies:d}}=n.appContext,g=l.get(e);let s;return g?s=g:!r.length&&!t&&!i?s=e:(s={},r.length&&r.forEach(p=>bo(s,p,d,!0)),bo(s,e,d)),je(e)&&l.set(e,s),s}function bo(n,e,t,i=!1){const{mixins:r,extends:l}=e;l&&bo(n,l,t,!0),r&&r.forEach(d=>bo(n,d,t,!0));for(const d in e)if(!(i&&d==="expose")){const g=gg[d]||t&&t[d];n[d]=g?g(n[d],e[d]):e[d]}return n}const gg={data:Yl,props:ql,emits:ql,methods:Gi,computed:Gi,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:Gi,directives:Gi,watch:vg,provide:Yl,inject:mg};function Yl(n,e){return e?n?function(){return ot(Ae(n)?n.call(this,this):n,Ae(e)?e.call(this,this):e)}:e:n}function mg(n,e){return Gi(ha(n),ha(e))}function ha(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function dt(n,e){return n?[...new Set([].concat(n,e))]:e}function Gi(n,e){return n?ot(Object.create(null),n,e):e}function ql(n,e){return n?ve(n)&&ve(e)?[...new Set([...n,...e])]:ot(Object.create(null),Kl(n),Kl(e??{})):e}function vg(n,e){if(!n)return e;if(!e)return n;const t=ot(Object.create(null),n);for(const i in e)t[i]=dt(n[i],e[i]);return t}function Kh(){return{app:null,config:{isNativeTag:tp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yg=0;function bg(n,e){return function(i,r=null){Ae(i)||(i=ot({},i)),r!=null&&!je(r)&&(r=null);const l=Kh(),d=new WeakSet,g=[];let s=!1;const p=l.app={_uid:yg++,_component:i,_props:r,_container:null,_context:l,_instance:null,version:Xg,get config(){return l.config},set config(o){},use(o,...a){return d.has(o)||(o&&Ae(o.install)?(d.add(o),o.install(p,...a)):Ae(o)&&(d.add(o),o(p,...a))),p},mixin(o){return l.mixins.includes(o)||l.mixins.push(o),p},component(o,a){return a?(l.components[o]=a,p):l.components[o]},directive(o,a){return a?(l.directives[o]=a,p):l.directives[o]},mount(o,a,u){if(!s){const c=p._ceVNode||Ke(i,r);return c.appContext=l,u===!0?u="svg":u===!1&&(u=void 0),n(c,o,u),s=!0,p._container=o,o.__vue_app__=p,qo(c.component)}},onUnmount(o){g.push(o)},unmount(){s&&(zt(g,p._instance,16),n(null,p._container),delete p._container.__vue_app__)},provide(o,a){return l.provides[o]=a,p},runWithContext(o){const a=qn;qn=p;try{return o()}finally{qn=a}}};return p}}let qn=null;function oo(n,e){if(rt){let t=rt.provides;const i=rt.parent&&rt.parent.provides;i===t&&(t=rt.provides=Object.create(i)),t[n]=e}}function Ot(n,e,t=!1){const i=rt||tt;if(i||qn){const r=qn?qn._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Ae(e)?e.call(i&&i.proxy):e}}function wg(){return!!(rt||tt||qn)}const Gh={},Yh=()=>Object.create(Gh),qh=n=>Object.getPrototypeOf(n)===Gh;function Ag(n,e,t,i=!1){const r={},l=Yh();n.propsDefaults=Object.create(null),Jh(n,e,r,l);for(const d in n.propsOptions[0])d in r||(r[d]=void 0);t?n.props=i?r:Sh(r):n.type.props?n.props=r:n.props=l,n.attrs=l}function Sg(n,e,t,i){const{props:r,attrs:l,vnode:{patchFlag:d}}=n,g=$e(r),[s]=n.propsOptions;let p=!1;if((i||d>0)&&!(d&16)){if(d&8){const o=n.vnode.dynamicProps;for(let a=0;a<o.length;a++){let u=o[a];if(Go(n.emitsOptions,u))continue;const c=e[u];if(s)if(Pe(l,u))c!==l[u]&&(l[u]=c,p=!0);else{const h=It(u);r[h]=da(s,g,h,c,n,!1)}else c!==l[u]&&(l[u]=c,p=!0)}}}else{Jh(n,e,r,l)&&(p=!0);let o;for(const a in g)(!e||!Pe(e,a)&&((o=ii(a))===a||!Pe(e,o)))&&(s?t&&(t[a]!==void 0||t[o]!==void 0)&&(r[a]=da(s,g,a,void 0,n,!0)):delete r[a]);if(l!==g)for(const a in l)(!e||!Pe(e,a))&&(delete l[a],p=!0)}p&&an(n.attrs,"set","")}function Jh(n,e,t,i){const[r,l]=n.propsOptions;let d=!1,g;if(e)for(let s in e){if(Ji(s))continue;const p=e[s];let o;r&&Pe(r,o=It(s))?!l||!l.includes(o)?t[o]=p:(g||(g={}))[o]=p:Go(n.emitsOptions,s)||(!(s in i)||p!==i[s])&&(i[s]=p,d=!0)}if(l){const s=$e(t),p=g||He;for(let o=0;o<l.length;o++){const a=l[o];t[a]=da(r,s,a,p[a],n,!Pe(p,a))}}return d}function da(n,e,t,i,r,l){const d=n[t];if(d!=null){const g=Pe(d,"default");if(g&&i===void 0){const s=d.default;if(d.type!==Function&&!d.skipFactory&&Ae(s)){const{propsDefaults:p}=r;if(t in p)i=p[t];else{const o=Dr(r);i=p[t]=s.call(null,e),o()}}else i=s;r.ce&&r.ce._setProp(t,i)}d[0]&&(l&&!g?i=!1:d[1]&&(i===""||i===ii(t))&&(i=!0))}return i}const Cg=new WeakMap;function Qh(n,e,t=!1){const i=t?Cg:e.propsCache,r=i.get(n);if(r)return r;const l=n.props,d={},g=[];let s=!1;if(!Ae(n)){const o=a=>{s=!0;const[u,c]=Qh(a,e,!0);ot(d,u),c&&g.push(...c)};!t&&e.mixins.length&&e.mixins.forEach(o),n.extends&&o(n.extends),n.mixins&&n.mixins.forEach(o)}if(!l&&!s)return je(n)&&i.set(n,mi),mi;if(ve(l))for(let o=0;o<l.length;o++){const a=It(l[o]);Jl(a)&&(d[a]=He)}else if(l)for(const o in l){const a=It(o);if(Jl(a)){const u=l[o],c=d[a]=ve(u)||Ae(u)?{type:u}:ot({},u),h=c.type;let f=!1,v=!0;if(ve(h))for(let b=0;b<h.length;++b){const S=h[b],R=Ae(S)&&S.name;if(R==="Boolean"){f=!0;break}else R==="String"&&(v=!1)}else f=Ae(h)&&h.name==="Boolean";c[0]=f,c[1]=v,(f||Pe(c,"default"))&&g.push(a)}}const p=[d,g];return je(n)&&i.set(n,p),p}function Jl(n){return n[0]!=="$"&&!Ji(n)}const Xh=n=>n[0]==="_"||n==="$stable",il=n=>ve(n)?n.map(qt):[qt(n)],xg=(n,e,t)=>{if(e._n)return e;const i=Rn((...r)=>il(e(...r)),t);return i._c=!1,i},Zh=(n,e,t)=>{const i=n._ctx;for(const r in n){if(Xh(r))continue;const l=n[r];if(Ae(l))e[r]=xg(r,l,i);else if(l!=null){const d=il(l);e[r]=()=>d}}},ed=(n,e)=>{const t=il(e);n.slots.default=()=>t},td=(n,e,t)=>{for(const i in e)(t||i!=="_")&&(n[i]=e[i])},Eg=(n,e,t)=>{const i=n.slots=Yh();if(n.vnode.shapeFlag&32){const r=e._;r?(td(i,e,t),t&&nh(i,"_",r,!0)):Zh(e,i)}else e&&ed(n,e)},Tg=(n,e,t)=>{const{vnode:i,slots:r}=n;let l=!0,d=He;if(i.shapeFlag&32){const g=e._;g?t&&g===1?l=!1:td(r,e,t):(l=!e.$stable,Zh(e,r)),d=e}else e&&(ed(n,e),d={default:1});if(l)for(const g in r)!Xh(g)&&d[g]==null&&delete r[g]},Ct=Wg;function kg(n){return _g(n)}function _g(n,e){const t=No();t.__VUE__=!0;const{insert:i,remove:r,patchProp:l,createElement:d,createText:g,createComment:s,setText:p,setElementText:o,parentNode:a,nextSibling:u,setScopeId:c=Qt,insertStaticContent:h}=n,f=(B,U,K,X=null,ee=null,Z=null,ie=void 0,se=null,oe=!!U.dynamicChildren)=>{if(B===U)return;B&&!Un(B,U)&&(X=W(B),z(B,ee,Z,!0),B=null),U.patchFlag===-2&&(oe=!1,U.dynamicChildren=null);const{type:te,ref:fe,shapeFlag:le}=U;switch(te){case Yo:v(B,U,K,X);break;case mt:b(B,U,K,X);break;case ms:B==null&&S(U,K,X,ie);break;case Ve:w(B,U,K,X,ee,Z,ie,se,oe);break;default:le&1?C(B,U,K,X,ee,Z,ie,se,oe):le&6?m(B,U,K,X,ee,Z,ie,se,oe):(le&64||le&128)&&te.process(B,U,K,X,ee,Z,ie,se,oe,J)}fe!=null&&ee&&yo(fe,B&&B.ref,Z,U||B,!U)},v=(B,U,K,X)=>{if(B==null)i(U.el=g(U.children),K,X);else{const ee=U.el=B.el;U.children!==B.children&&p(ee,U.children)}},b=(B,U,K,X)=>{B==null?i(U.el=s(U.children||""),K,X):U.el=B.el},S=(B,U,K,X)=>{[B.el,B.anchor]=h(B.children,U,K,X,B.el,B.anchor)},R=({el:B,anchor:U},K,X)=>{let ee;for(;B&&B!==U;)ee=u(B),i(B,K,X),B=ee;i(U,K,X)},x=({el:B,anchor:U})=>{let K;for(;B&&B!==U;)K=u(B),r(B),B=K;r(U)},C=(B,U,K,X,ee,Z,ie,se,oe)=>{U.type==="svg"?ie="svg":U.type==="math"&&(ie="mathml"),B==null?y(U,K,X,ee,Z,ie,se,oe):_(B,U,ee,Z,ie,se,oe)},y=(B,U,K,X,ee,Z,ie,se)=>{let oe,te;const{props:fe,shapeFlag:le,transition:de,dirs:ge}=B;if(oe=B.el=d(B.type,Z,fe&&fe.is,fe),le&8?o(oe,B.children):le&16&&L(B.children,oe,null,X,ee,gs(B,Z),ie,se),ge&&Fn(B,null,X,"created"),T(oe,B,B.scopeId,ie,X),fe){for(const re in fe)re!=="value"&&!Ji(re)&&l(oe,re,null,fe[re],Z,X);"value"in fe&&l(oe,"value",null,fe.value,Z),(te=fe.onVnodeBeforeMount)&&Gt(te,X,B)}ge&&Fn(B,null,X,"beforeMount");const Q=Lg(ee,de);Q&&de.beforeEnter(oe),i(oe,U,K),((te=fe&&fe.onVnodeMounted)||Q||ge)&&Ct(()=>{te&&Gt(te,X,B),Q&&de.enter(oe),ge&&Fn(B,null,X,"mounted")},ee)},T=(B,U,K,X,ee)=>{if(K&&c(B,K),X)for(let Z=0;Z<X.length;Z++)c(B,X[Z]);if(ee){let Z=ee.subTree;if(U===Z||sd(Z.type)&&(Z.ssContent===U||Z.ssFallback===U)){const ie=ee.vnode;T(B,ie,ie.scopeId,ie.slotScopeIds,ee.parent)}}},L=(B,U,K,X,ee,Z,ie,se,oe=0)=>{for(let te=oe;te<B.length;te++){const fe=B[te]=se?xn(B[te]):qt(B[te]);f(null,fe,U,K,X,ee,Z,ie,se)}},_=(B,U,K,X,ee,Z,ie)=>{const se=U.el=B.el;let{patchFlag:oe,dynamicChildren:te,dirs:fe}=U;oe|=B.patchFlag&16;const le=B.props||He,de=U.props||He;let ge;if(K&&Pn(K,!1),(ge=de.onVnodeBeforeUpdate)&&Gt(ge,K,U,B),fe&&Fn(U,B,K,"beforeUpdate"),K&&Pn(K,!0),(le.innerHTML&&de.innerHTML==null||le.textContent&&de.textContent==null)&&o(se,""),te?k(B.dynamicChildren,te,se,K,X,gs(U,ee),Z):ie||$(B,U,se,null,K,X,gs(U,ee),Z,!1),oe>0){if(oe&16)I(se,le,de,K,ee);else if(oe&2&&le.class!==de.class&&l(se,"class",null,de.class,ee),oe&4&&l(se,"style",le.style,de.style,ee),oe&8){const Q=U.dynamicProps;for(let re=0;re<Q.length;re++){const ae=Q[re],me=le[ae],we=de[ae];(we!==me||ae==="value")&&l(se,ae,me,we,ee,K)}}oe&1&&B.children!==U.children&&o(se,U.children)}else!ie&&te==null&&I(se,le,de,K,ee);((ge=de.onVnodeUpdated)||fe)&&Ct(()=>{ge&&Gt(ge,K,U,B),fe&&Fn(U,B,K,"updated")},X)},k=(B,U,K,X,ee,Z,ie)=>{for(let se=0;se<U.length;se++){const oe=B[se],te=U[se],fe=oe.el&&(oe.type===Ve||!Un(oe,te)||oe.shapeFlag&70)?a(oe.el):K;f(oe,te,fe,null,X,ee,Z,ie,!0)}},I=(B,U,K,X,ee)=>{if(U!==K){if(U!==He)for(const Z in U)!Ji(Z)&&!(Z in K)&&l(B,Z,U[Z],null,ee,X);for(const Z in K){if(Ji(Z))continue;const ie=K[Z],se=U[Z];ie!==se&&Z!=="value"&&l(B,Z,se,ie,ee,X)}"value"in K&&l(B,"value",U.value,K.value,ee)}},w=(B,U,K,X,ee,Z,ie,se,oe)=>{const te=U.el=B?B.el:g(""),fe=U.anchor=B?B.anchor:g("");let{patchFlag:le,dynamicChildren:de,slotScopeIds:ge}=U;ge&&(se=se?se.concat(ge):ge),B==null?(i(te,K,X),i(fe,K,X),L(U.children||[],K,fe,ee,Z,ie,se,oe)):le>0&&le&64&&de&&B.dynamicChildren?(k(B.dynamicChildren,de,K,ee,Z,ie,se),(U.key!=null||ee&&U===ee.subTree)&&nd(B,U,!0)):$(B,U,K,fe,ee,Z,ie,se,oe)},m=(B,U,K,X,ee,Z,ie,se,oe)=>{U.slotScopeIds=se,B==null?U.shapeFlag&512?ee.ctx.activate(U,K,X,ie,oe):A(U,K,X,ee,Z,ie,oe):E(B,U,oe)},A=(B,U,K,X,ee,Z,ie)=>{const se=B.component=Vg(B,X,ee);if(Uo(B)&&(se.ctx.renderer=J),Kg(se,!1,ie),se.asyncDep){if(ee&&ee.registerDep(se,M,ie),!B.el){const oe=se.subTree=Ke(mt);b(null,oe,U,K)}}else M(se,B,U,K,ee,Z,ie)},E=(B,U,K)=>{const X=U.component=B.component;if(Pg(B,U,K))if(X.asyncDep&&!X.asyncResolved){O(X,U,K);return}else X.next=U,X.update();else U.el=B.el,X.vnode=U},M=(B,U,K,X,ee,Z,ie)=>{const se=()=>{if(B.isMounted){let{next:le,bu:de,u:ge,parent:Q,vnode:re}=B;{const Le=id(B);if(Le){le&&(le.el=re.el,O(B,le,ie)),Le.asyncDep.then(()=>{B.isUnmounted||se()});return}}let ae=le,me;Pn(B,!1),le?(le.el=re.el,O(B,le,ie)):le=re,de&&io(de),(me=le.props&&le.props.onVnodeBeforeUpdate)&&Gt(me,Q,le,re),Pn(B,!0);const we=Xl(B),_e=B.subTree;B.subTree=we,f(_e,we,a(_e.el),W(_e),B,ee,Z),le.el=we.el,ae===null&&Bg(B,we.el),ge&&Ct(ge,ee),(me=le.props&&le.props.onVnodeUpdated)&&Ct(()=>Gt(me,Q,le,re),ee)}else{let le;const{el:de,props:ge}=U,{bm:Q,m:re,parent:ae,root:me,type:we}=B,_e=bi(U);Pn(B,!1),Q&&io(Q),!_e&&(le=ge&&ge.onVnodeBeforeMount)&&Gt(le,ae,U),Pn(B,!0);{me.ce&&me.ce._injectChildStyle(we);const Le=B.subTree=Xl(B);f(null,Le,K,X,B,ee,Z),U.el=Le.el}if(re&&Ct(re,ee),!_e&&(le=ge&&ge.onVnodeMounted)){const Le=U;Ct(()=>Gt(le,ae,Le),ee)}(U.shapeFlag&256||ae&&bi(ae.vnode)&&ae.vnode.shapeFlag&256)&&B.a&&Ct(B.a,ee),B.isMounted=!0,U=K=X=null}};B.scope.on();const oe=B.effect=new lh(se);B.scope.off();const te=B.update=oe.run.bind(oe),fe=B.job=oe.runIfDirty.bind(oe);fe.i=B,fe.id=B.uid,oe.scheduler=()=>el(fe),Pn(B,!0),te()},O=(B,U,K)=>{U.component=B;const X=B.vnode.props;B.vnode=U,B.next=null,Sg(B,U.props,X,K),Tg(B,U.children,K),On(),zl(B),In()},$=(B,U,K,X,ee,Z,ie,se,oe=!1)=>{const te=B&&B.children,fe=B?B.shapeFlag:0,le=U.children,{patchFlag:de,shapeFlag:ge}=U;if(de>0){if(de&128){N(te,le,K,X,ee,Z,ie,se,oe);return}else if(de&256){D(te,le,K,X,ee,Z,ie,se,oe);return}}ge&8?(fe&16&&H(te,ee,Z),le!==te&&o(K,le)):fe&16?ge&16?N(te,le,K,X,ee,Z,ie,se,oe):H(te,ee,Z,!0):(fe&8&&o(K,""),ge&16&&L(le,K,X,ee,Z,ie,se,oe))},D=(B,U,K,X,ee,Z,ie,se,oe)=>{B=B||mi,U=U||mi;const te=B.length,fe=U.length,le=Math.min(te,fe);let de;for(de=0;de<le;de++){const ge=U[de]=oe?xn(U[de]):qt(U[de]);f(B[de],ge,K,null,ee,Z,ie,se,oe)}te>fe?H(B,ee,Z,!0,!1,le):L(U,K,X,ee,Z,ie,se,oe,le)},N=(B,U,K,X,ee,Z,ie,se,oe)=>{let te=0;const fe=U.length;let le=B.length-1,de=fe-1;for(;te<=le&&te<=de;){const ge=B[te],Q=U[te]=oe?xn(U[te]):qt(U[te]);if(Un(ge,Q))f(ge,Q,K,null,ee,Z,ie,se,oe);else break;te++}for(;te<=le&&te<=de;){const ge=B[le],Q=U[de]=oe?xn(U[de]):qt(U[de]);if(Un(ge,Q))f(ge,Q,K,null,ee,Z,ie,se,oe);else break;le--,de--}if(te>le){if(te<=de){const ge=de+1,Q=ge<fe?U[ge].el:X;for(;te<=de;)f(null,U[te]=oe?xn(U[te]):qt(U[te]),K,Q,ee,Z,ie,se,oe),te++}}else if(te>de)for(;te<=le;)z(B[te],ee,Z,!0),te++;else{const ge=te,Q=te,re=new Map;for(te=Q;te<=de;te++){const be=U[te]=oe?xn(U[te]):qt(U[te]);be.key!=null&&re.set(be.key,te)}let ae,me=0;const we=de-Q+1;let _e=!1,Le=0;const De=new Array(we);for(te=0;te<we;te++)De[te]=0;for(te=ge;te<=le;te++){const be=B[te];if(me>=we){z(be,ee,Z,!0);continue}let Be;if(be.key!=null)Be=re.get(be.key);else for(ae=Q;ae<=de;ae++)if(De[ae-Q]===0&&Un(be,U[ae])){Be=ae;break}Be===void 0?z(be,ee,Z,!0):(De[Be-Q]=te+1,Be>=Le?Le=Be:_e=!0,f(be,U[Be],K,null,ee,Z,ie,se,oe),me++)}const xe=_e?Rg(De):mi;for(ae=xe.length-1,te=we-1;te>=0;te--){const be=Q+te,Be=U[be],Lt=be+1<fe?U[be+1].el:X;De[te]===0?f(null,Be,K,Lt,ee,Z,ie,se,oe):_e&&(ae<0||te!==xe[ae]?F(Be,K,Lt,2):ae--)}}},F=(B,U,K,X,ee=null)=>{const{el:Z,type:ie,transition:se,children:oe,shapeFlag:te}=B;if(te&6){F(B.component.subTree,U,K,X);return}if(te&128){B.suspense.move(U,K,X);return}if(te&64){ie.move(B,U,K,J);return}if(ie===Ve){i(Z,U,K);for(let le=0;le<oe.length;le++)F(oe[le],U,K,X);i(B.anchor,U,K);return}if(ie===ms){R(B,U,K);return}if(X!==2&&te&1&&se)if(X===0)se.beforeEnter(Z),i(Z,U,K),Ct(()=>se.enter(Z),ee);else{const{leave:le,delayLeave:de,afterLeave:ge}=se,Q=()=>i(Z,U,K),re=()=>{le(Z,()=>{Q(),ge&&ge()})};de?de(Z,Q,re):re()}else i(Z,U,K)},z=(B,U,K,X=!1,ee=!1)=>{const{type:Z,props:ie,ref:se,children:oe,dynamicChildren:te,shapeFlag:fe,patchFlag:le,dirs:de,cacheIndex:ge}=B;if(le===-2&&(ee=!1),se!=null&&yo(se,null,K,B,!0),ge!=null&&(U.renderCache[ge]=void 0),fe&256){U.ctx.deactivate(B);return}const Q=fe&1&&de,re=!bi(B);let ae;if(re&&(ae=ie&&ie.onVnodeBeforeUnmount)&&Gt(ae,U,B),fe&6)G(B.component,K,X);else{if(fe&128){B.suspense.unmount(K,X);return}Q&&Fn(B,null,U,"beforeUnmount"),fe&64?B.type.remove(B,U,K,J,X):te&&!te.hasOnce&&(Z!==Ve||le>0&&le&64)?H(te,U,K,!1,!0):(Z===Ve&&le&384||!ee&&fe&16)&&H(oe,U,K),X&&P(B)}(re&&(ae=ie&&ie.onVnodeUnmounted)||Q)&&Ct(()=>{ae&&Gt(ae,U,B),Q&&Fn(B,null,U,"unmounted")},K)},P=B=>{const{type:U,el:K,anchor:X,transition:ee}=B;if(U===Ve){j(K,X);return}if(U===ms){x(B);return}const Z=()=>{r(K),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(B.shapeFlag&1&&ee&&!ee.persisted){const{leave:ie,delayLeave:se}=ee,oe=()=>ie(K,Z);se?se(B.el,Z,oe):oe()}else Z()},j=(B,U)=>{let K;for(;B!==U;)K=u(B),r(B),B=K;r(U)},G=(B,U,K)=>{const{bum:X,scope:ee,job:Z,subTree:ie,um:se,m:oe,a:te}=B;Ql(oe),Ql(te),X&&io(X),ee.stop(),Z&&(Z.flags|=8,z(ie,B,U,K)),se&&Ct(se,U),Ct(()=>{B.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve())},H=(B,U,K,X=!1,ee=!1,Z=0)=>{for(let ie=Z;ie<B.length;ie++)z(B[ie],U,K,X,ee)},W=B=>{if(B.shapeFlag&6)return W(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const U=u(B.anchor||B.el),K=U&&U[Yp];return K?u(K):U};let Y=!1;const q=(B,U,K)=>{B==null?U._vnode&&z(U._vnode,null,null,!0):f(U._vnode||null,B,U,null,null,null,K),U._vnode=B,Y||(Y=!0,zl(),Lh(),Y=!1)},J={p:f,um:z,m:F,r:P,mt:A,mc:L,pc:$,pbc:k,n:W,o:n};return{render:q,hydrate:void 0,createApp:bg(q)}}function gs({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Pn({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function Lg(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function nd(n,e,t=!1){const i=n.children,r=e.children;if(ve(i)&&ve(r))for(let l=0;l<i.length;l++){const d=i[l];let g=r[l];g.shapeFlag&1&&!g.dynamicChildren&&((g.patchFlag<=0||g.patchFlag===32)&&(g=r[l]=xn(r[l]),g.el=d.el),!t&&g.patchFlag!==-2&&nd(d,g)),g.type===Yo&&(g.el=d.el)}}function Rg(n){const e=n.slice(),t=[0];let i,r,l,d,g;const s=n.length;for(i=0;i<s;i++){const p=n[i];if(p!==0){if(r=t[t.length-1],n[r]<p){e[i]=r,t.push(i);continue}for(l=0,d=t.length-1;l<d;)g=l+d>>1,n[t[g]]<p?l=g+1:d=g;p<n[t[l]]&&(l>0&&(e[i]=t[l-1]),t[l]=i)}}for(l=t.length,d=t[l-1];l-- >0;)t[l]=d,d=e[d];return t}function id(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:id(e)}function Ql(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const Mg=Symbol.for("v-scx"),$g=()=>Ot(Mg);function qS(n,e){return rl(n,null,e)}function Et(n,e,t){return rl(n,e,t)}function rl(n,e,t=He){const{immediate:i,deep:r,flush:l,once:d}=t,g=ot({},t),s=e&&i||!e&&l!=="post";let p;if(Ar){if(l==="sync"){const c=$g();p=c.__watcherHandles||(c.__watcherHandles=[])}else if(!s){const c=()=>{};return c.stop=Qt,c.resume=Qt,c.pause=Qt,c}}const o=rt;g.call=(c,h,f)=>zt(c,o,h,f);let a=!1;l==="post"?g.scheduler=c=>{Ct(c,o&&o.suspense)}:l!=="sync"&&(a=!0,g.scheduler=(c,h)=>{h?c():el(c)}),g.augmentJob=c=>{e&&(c.flags|=4),a&&(c.flags|=2,o&&(c.id=o.uid,c.i=o))};const u=Up(n,e,g);return Ar&&(p?p.push(u):s&&u()),u}function Dg(n,e,t){const i=this.proxy,r=qe(n)?n.includes(".")?rd(i,n):()=>i[n]:n.bind(i,i);let l;Ae(e)?l=e:(l=e.handler,t=e);const d=Dr(this),g=rl(r,l.bind(i),t);return d(),g}function rd(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}const Og=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${It(e)}Modifiers`]||n[`${ii(e)}Modifiers`];function Ig(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||He;let r=t;const l=e.startsWith("update:"),d=l&&Og(i,e.slice(7));d&&(d.trim&&(r=t.map(o=>qe(o)?o.trim():o)),d.number&&(r=t.map(fo)));let g,s=i[g=no(e)]||i[g=no(It(e))];!s&&l&&(s=i[g=no(ii(e))]),s&&zt(s,n,6,r);const p=i[g+"Once"];if(p){if(!n.emitted)n.emitted={};else if(n.emitted[g])return;n.emitted[g]=!0,zt(p,n,6,r)}}function od(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const l=n.emits;let d={},g=!1;if(!Ae(n)){const s=p=>{const o=od(p,e,!0);o&&(g=!0,ot(d,o))};!t&&e.mixins.length&&e.mixins.forEach(s),n.extends&&s(n.extends),n.mixins&&n.mixins.forEach(s)}return!l&&!g?(je(n)&&i.set(n,null),null):(ve(l)?l.forEach(s=>d[s]=null):ot(d,l),je(n)&&i.set(n,d),d)}function Go(n,e){return!n||!Oo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Pe(n,e[0].toLowerCase()+e.slice(1))||Pe(n,ii(e))||Pe(n,e))}function Xl(n){const{type:e,vnode:t,proxy:i,withProxy:r,propsOptions:[l],slots:d,attrs:g,emit:s,render:p,renderCache:o,props:a,data:u,setupState:c,ctx:h,inheritAttrs:f}=n,v=vo(n);let b,S;try{if(t.shapeFlag&4){const x=r||i,C=x;b=qt(p.call(C,x,o,a,c,u,h)),S=g}else{const x=e;b=qt(x.length>1?x(a,{attrs:g,slots:d,emit:s}):x(a,null)),S=e.props?g:Ng(g)}}catch(x){er.length=0,jo(x,n,1),b=Ke(mt)}let R=b;if(S&&f!==!1){const x=Object.keys(S),{shapeFlag:C}=R;x.length&&C&7&&(l&&x.some(Ha)&&(S=Fg(S,l)),R=Mn(R,S,!1,!0))}return t.dirs&&(R=Mn(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(t.dirs):t.dirs),t.transition&&vr(R,t.transition),b=R,vo(v),b}const Ng=n=>{let e;for(const t in n)(t==="class"||t==="style"||Oo(t))&&((e||(e={}))[t]=n[t]);return e},Fg=(n,e)=>{const t={};for(const i in n)(!Ha(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function Pg(n,e,t){const{props:i,children:r,component:l}=n,{props:d,children:g,patchFlag:s}=e,p=l.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&s>=0){if(s&1024)return!0;if(s&16)return i?Zl(i,d,p):!!d;if(s&8){const o=e.dynamicProps;for(let a=0;a<o.length;a++){const u=o[a];if(d[u]!==i[u]&&!Go(p,u))return!0}}}else return(r||g)&&(!g||!g.$stable)?!0:i===d?!1:i?d?Zl(i,d,p):!0:!!d;return!1}function Zl(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const l=i[r];if(e[l]!==n[l]&&!Go(t,l))return!0}return!1}function Bg({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const sd=n=>n.__isSuspense;function Wg(n,e){e&&e.pendingBranch?ve(n)?e.effects.push(...n):e.effects.push(n):Gp(n)}const Ve=Symbol.for("v-fgt"),Yo=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),ms=Symbol.for("v-stc"),er=[];let xt=null;function he(n=!1){er.push(xt=n?null:[])}function Hg(){er.pop(),xt=er[er.length-1]||null}let br=1;function ec(n,e=!1){br+=n,n<0&&xt&&e&&(xt.hasOnce=!0)}function ad(n){return n.dynamicChildren=br>0?xt||mi:null,Hg(),br>0&&xt&&xt.push(n),n}function ye(n,e,t,i,r,l){return ad(ue(n,e,t,i,r,l,!0))}function st(n,e,t,i,r){return ad(Ke(n,e,t,i,r,!0))}function wr(n){return n?n.__v_isVNode===!0:!1}function Un(n,e){return n.type===e.type&&n.key===e.key}const ld=({key:n})=>n??null,so=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?qe(n)||Ge(n)||Ae(n)?{i:tt,r:n,k:e,f:!!t}:n:null);function ue(n,e=null,t=null,i=0,r=null,l=n===Ve?0:1,d=!1,g=!1){const s={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&ld(e),ref:e&&so(e),scopeId:Mh,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:tt};return g?(ol(s,t),l&128&&n.normalize(s)):t&&(s.shapeFlag|=qe(t)?8:16),br>0&&!d&&xt&&(s.patchFlag>0||l&6)&&s.patchFlag!==32&&xt.push(s),s}const Ke=jg;function jg(n,e=null,t=null,i=0,r=null,l=!1){if((!n||n===jh)&&(n=mt),wr(n)){const g=Mn(n,e,!0);return t&&ol(g,t),br>0&&!l&&xt&&(g.shapeFlag&6?xt[xt.indexOf(n)]=g:xt.push(g)),g.patchFlag=-2,g}if(Qg(n)&&(n=n.__vccOpts),e){e=Pt(e);let{class:g,style:s}=e;g&&!qe(g)&&(e.class=fn(g)),je(s)&&(Xa(s)&&!ve(s)&&(s=ot({},s)),e.style=Fo(s))}const d=qe(n)?1:sd(n)?128:$h(n)?64:je(n)?4:Ae(n)?2:0;return ue(n,e,t,i,r,d,l,!0)}function Pt(n){return n?Xa(n)||qh(n)?ot({},n):n:null}function Mn(n,e,t=!1,i=!1){const{props:r,ref:l,patchFlag:d,children:g,transition:s}=n,p=e?fa(r||{},e):r,o={__v_isVNode:!0,__v_skip:!0,type:n.type,props:p,key:p&&ld(p),ref:e&&e.ref?t&&l?ve(l)?l.concat(so(e)):[l,so(e)]:so(e):l,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:g,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ve?d===-1?16:d|16:d,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:s,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Mn(n.ssContent),ssFallback:n.ssFallback&&Mn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return s&&i&&vr(o,s.clone(o)),o}function Ci(n=" ",e=0){return Ke(Yo,null,n,e)}function Me(n="",e=!1){return e?(he(),st(mt,null,n)):Ke(mt,null,n)}function qt(n){return n==null||typeof n=="boolean"?Ke(mt):ve(n)?Ke(Ve,null,n.slice()):wr(n)?xn(n):Ke(Yo,null,String(n))}function xn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Mn(n)}function ol(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(ve(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),ol(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!qh(e)?e._ctx=tt:r===3&&tt&&(tt.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:tt},t=32):(e=String(e),i&64?(t=16,e=[Ci(e)]):t=8);n.children=e,n.shapeFlag|=t}function fa(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=fn([e.class,i.class]));else if(r==="style")e.style=Fo([e.style,i.style]);else if(Oo(r)){const l=e[r],d=i[r];d&&l!==d&&!(ve(l)&&l.includes(d))&&(e[r]=l?[].concat(l,d):d)}else r!==""&&(e[r]=i[r])}return e}function Gt(n,e,t,i=null){zt(n,e,7,[t,i])}const zg=Kh();let Ug=0;function Vg(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||zg,l={uid:Ug++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qh(i,r),emitsOptions:od(i,r),emit:null,emitted:null,propsDefaults:He,inheritAttrs:i.inheritAttrs,ctx:He,data:He,props:He,attrs:He,slots:He,refs:He,setupState:He,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=e?e.root:l,l.emit=Ig.bind(null,l),n.ce&&n.ce(l),l}let rt=null;const sl=()=>rt||tt;let wo,pa;{const n=No(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),l=>{r.length>1?r.forEach(d=>d(l)):r[0](l)}};wo=e("__VUE_INSTANCE_SETTERS__",t=>rt=t),pa=e("__VUE_SSR_SETTERS__",t=>Ar=t)}const Dr=n=>{const e=rt;return wo(n),n.scope.on(),()=>{n.scope.off(),wo(e)}},tc=()=>{rt&&rt.scope.off(),wo(null)};function cd(n){return n.vnode.shapeFlag&4}let Ar=!1;function Kg(n,e=!1,t=!1){e&&pa(e);const{props:i,children:r}=n.vnode,l=cd(n);Ag(n,i,l,e),Eg(n,r,t);const d=l?Gg(n,e):void 0;return e&&pa(!1),d}function Gg(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,dg);const{setup:i}=t;if(i){On();const r=n.setupContext=i.length>1?qg(n):null,l=Dr(n),d=$r(i,n,0,[n.props,r]),g=Zu(d);if(In(),l(),(g||n.sp)&&!bi(n)&&Ph(n),g){if(d.then(tc,tc),e)return d.then(s=>{nc(n,s)}).catch(s=>{jo(s,n,0)});n.asyncDep=d}else nc(n,d)}else ud(n)}function nc(n,e,t){Ae(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:je(e)&&(n.setupState=xh(e)),ud(n)}function ud(n,e,t){const i=n.type;n.render||(n.render=i.render||Qt);{const r=Dr(n);On();try{fg(n)}finally{In(),r()}}}const Yg={get(n,e){return lt(n,"get",""),n[e]}};function qg(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,Yg),slots:n.slots,emit:n.emit,expose:e}}function qo(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(xh(Ho(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Zi)return Zi[t](n)},has(e,t){return t in e||t in Zi}})):n.proxy}function Jg(n,e=!0){return Ae(n)?n.displayName||n.name:n.name||e&&n.__name}function Qg(n){return Ae(n)&&"__vccOpts"in n}const vt=(n,e)=>jp(n,e,Ar);function Or(n,e,t){const i=arguments.length;return i===2?je(e)&&!ve(e)?wr(e)?Ke(n,null,[e]):Ke(n,e):Ke(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&wr(t)&&(t=[t]),Ke(n,e,t))}const Xg="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ga;const ic=typeof window<"u"&&window.trustedTypes;if(ic)try{ga=ic.createPolicy("vue",{createHTML:n=>n})}catch{}const hd=ga?n=>ga.createHTML(n):n=>n,Zg="http://www.w3.org/2000/svg",em="http://www.w3.org/1998/Math/MathML",on=typeof document<"u"?document:null,rc=on&&on.createElement("template"),tm={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?on.createElementNS(Zg,n):e==="mathml"?on.createElementNS(em,n):t?on.createElement(n,{is:t}):on.createElement(n);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>on.createTextNode(n),createComment:n=>on.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>on.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,l){const d=t?t.previousSibling:e.lastChild;if(r&&(r===l||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===l||!(r=r.nextSibling)););else{rc.innerHTML=hd(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const g=rc.content;if(i==="svg"||i==="mathml"){const s=g.firstChild;for(;s.firstChild;)g.appendChild(s.firstChild);g.removeChild(s)}e.insertBefore(g,t)}return[d?d.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},mn="transition",Ni="animation",Sr=Symbol("_vtc"),dd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nm=ot({},Dh,dd),im=n=>(n.displayName="Transition",n.props=nm,n),fd=im((n,{slots:e})=>Or(Qp,rm(n),e)),Bn=(n,e=[])=>{ve(n)?n.forEach(t=>t(...e)):n&&n(...e)},oc=n=>n?ve(n)?n.some(e=>e.length>1):n.length>1:!1;function rm(n){const e={};for(const w in n)w in dd||(e[w]=n[w]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:l=`${t}-enter-from`,enterActiveClass:d=`${t}-enter-active`,enterToClass:g=`${t}-enter-to`,appearFromClass:s=l,appearActiveClass:p=d,appearToClass:o=g,leaveFromClass:a=`${t}-leave-from`,leaveActiveClass:u=`${t}-leave-active`,leaveToClass:c=`${t}-leave-to`}=n,h=om(r),f=h&&h[0],v=h&&h[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:R,onLeave:x,onLeaveCancelled:C,onBeforeAppear:y=b,onAppear:T=S,onAppearCancelled:L=R}=e,_=(w,m,A,E)=>{w._enterCancelled=E,Wn(w,m?o:g),Wn(w,m?p:d),A&&A()},k=(w,m)=>{w._isLeaving=!1,Wn(w,a),Wn(w,c),Wn(w,u),m&&m()},I=w=>(m,A)=>{const E=w?T:S,M=()=>_(m,w,A);Bn(E,[m,M]),sc(()=>{Wn(m,w?s:l),tn(m,w?o:g),oc(E)||ac(m,i,f,M)})};return ot(e,{onBeforeEnter(w){Bn(b,[w]),tn(w,l),tn(w,d)},onBeforeAppear(w){Bn(y,[w]),tn(w,s),tn(w,p)},onEnter:I(!1),onAppear:I(!0),onLeave(w,m){w._isLeaving=!0;const A=()=>k(w,m);tn(w,a),w._enterCancelled?(tn(w,u),uc()):(uc(),tn(w,u)),sc(()=>{w._isLeaving&&(Wn(w,a),tn(w,c),oc(x)||ac(w,i,v,A))}),Bn(x,[w,A])},onEnterCancelled(w){_(w,!1,void 0,!0),Bn(R,[w])},onAppearCancelled(w){_(w,!0,void 0,!0),Bn(L,[w])},onLeaveCancelled(w){k(w),Bn(C,[w])}})}function om(n){if(n==null)return null;if(je(n))return[vs(n.enter),vs(n.leave)];{const e=vs(n);return[e,e]}}function vs(n){return sp(n)}function tn(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Sr]||(n[Sr]=new Set)).add(e)}function Wn(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[Sr];t&&(t.delete(e),t.size||(n[Sr]=void 0))}function sc(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let sm=0;function ac(n,e,t,i){const r=n._endId=++sm,l=()=>{r===n._endId&&i()};if(t!=null)return setTimeout(l,t);const{type:d,timeout:g,propCount:s}=am(n,e);if(!d)return i();const p=d+"end";let o=0;const a=()=>{n.removeEventListener(p,u),l()},u=c=>{c.target===n&&++o>=s&&a()};setTimeout(()=>{o<s&&a()},g+1),n.addEventListener(p,u)}function am(n,e){const t=window.getComputedStyle(n),i=h=>(t[h]||"").split(", "),r=i(`${mn}Delay`),l=i(`${mn}Duration`),d=lc(r,l),g=i(`${Ni}Delay`),s=i(`${Ni}Duration`),p=lc(g,s);let o=null,a=0,u=0;e===mn?d>0&&(o=mn,a=d,u=l.length):e===Ni?p>0&&(o=Ni,a=p,u=s.length):(a=Math.max(d,p),o=a>0?d>p?mn:Ni:null,u=o?o===mn?l.length:s.length:0);const c=o===mn&&/\b(transform|all)(,|$)/.test(i(`${mn}Property`).toString());return{type:o,timeout:a,propCount:u,hasTransform:c}}function lc(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>cc(t)+cc(n[i])))}function cc(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function uc(){return document.body.offsetHeight}function lm(n,e,t){const i=n[Sr];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Ao=Symbol("_vod"),pd=Symbol("_vsh"),hc={beforeMount(n,{value:e},{transition:t}){n[Ao]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Fi(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),Fi(n,!0),i.enter(n)):i.leave(n,()=>{Fi(n,!1)}):Fi(n,e))},beforeUnmount(n,{value:e}){Fi(n,e)}};function Fi(n,e){n.style.display=e?n[Ao]:"none",n[pd]=!e}const cm=Symbol(""),um=/(^|;)\s*display\s*:/;function hm(n,e,t){const i=n.style,r=qe(t);let l=!1;if(t&&!r){if(e)if(qe(e))for(const d of e.split(";")){const g=d.slice(0,d.indexOf(":")).trim();t[g]==null&&ao(i,g,"")}else for(const d in e)t[d]==null&&ao(i,d,"");for(const d in t)d==="display"&&(l=!0),ao(i,d,t[d])}else if(r){if(e!==t){const d=i[cm];d&&(t+=";"+d),i.cssText=t,l=um.test(t)}}else e&&n.removeAttribute("style");Ao in n&&(n[Ao]=l?i.display:"",n[pd]&&(i.display="none"))}const dc=/\s*!important$/;function ao(n,e,t){if(ve(t))t.forEach(i=>ao(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=dm(n,e);dc.test(t)?n.setProperty(ii(i),t.replace(dc,""),"important"):n[i]=t}}const fc=["Webkit","Moz","ms"],ys={};function dm(n,e){const t=ys[e];if(t)return t;let i=It(e);if(i!=="filter"&&i in n)return ys[e]=i;i=Lr(i);for(let r=0;r<fc.length;r++){const l=fc[r]+i;if(l in n)return ys[e]=l}return e}const pc="http://www.w3.org/1999/xlink";function gc(n,e,t,i,r,l=dp(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(pc,e.slice(6,e.length)):n.setAttributeNS(pc,e,t):t==null||l&&!ih(t)?n.removeAttribute(e):n.setAttribute(e,l?"":jt(t)?String(t):t)}function mc(n,e,t,i,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?hd(t):t);return}const l=n.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const g=l==="OPTION"?n.getAttribute("value")||"":n.value,s=t==null?n.type==="checkbox"?"on":"":String(t);(g!==s||!("_value"in n))&&(n.value=s),t==null&&n.removeAttribute(e),n._value=t;return}let d=!1;if(t===""||t==null){const g=typeof n[e];g==="boolean"?t=ih(t):t==null&&g==="string"?(t="",d=!0):g==="number"&&(t=0,d=!0)}try{n[e]=t}catch{}d&&n.removeAttribute(r||e)}function kn(n,e,t,i){n.addEventListener(e,t,i)}function fm(n,e,t,i){n.removeEventListener(e,t,i)}const vc=Symbol("_vei");function pm(n,e,t,i,r=null){const l=n[vc]||(n[vc]={}),d=l[e];if(i&&d)d.value=i;else{const[g,s]=gm(e);if(i){const p=l[e]=ym(i,r);kn(n,g,p,s)}else d&&(fm(n,g,d,s),l[e]=void 0)}}const yc=/(?:Once|Passive|Capture)$/;function gm(n){let e;if(yc.test(n)){e={};let i;for(;i=n.match(yc);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ii(n.slice(2)),e]}let bs=0;const mm=Promise.resolve(),vm=()=>bs||(mm.then(()=>bs=0),bs=Date.now());function ym(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;zt(bm(i,t.value),e,5,[i])};return t.value=n,t.attached=vm(),t}function bm(n,e){if(ve(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const bc=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,wm=(n,e,t,i,r,l)=>{const d=r==="svg";e==="class"?lm(n,i,d):e==="style"?hm(n,t,i):Oo(e)?Ha(e)||pm(n,e,t,i,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Am(n,e,i,d))?(mc(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&gc(n,e,i,d,l,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!qe(i))?mc(n,It(e),i,l,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),gc(n,e,i,d))};function Am(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&bc(e)&&Ae(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return bc(e)&&qe(t)?!1:e in n}const xi=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ve(e)?t=>io(e,t):e};function Sm(n){n.target.composing=!0}function wc(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hn=Symbol("_assign"),fi={created(n,{modifiers:{lazy:e,trim:t,number:i}},r){n[hn]=xi(r);const l=i||r.props&&r.props.type==="number";kn(n,e?"change":"input",d=>{if(d.target.composing)return;let g=n.value;t&&(g=g.trim()),l&&(g=fo(g)),n[hn](g)}),t&&kn(n,"change",()=>{n.value=n.value.trim()}),e||(kn(n,"compositionstart",Sm),kn(n,"compositionend",wc),kn(n,"change",wc))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:i,trim:r,number:l}},d){if(n[hn]=xi(d),n.composing)return;const g=(l||n.type==="number")&&!/^0\d/.test(n.value)?fo(n.value):n.value,s=e??"";g!==s&&(document.activeElement===n&&n.type!=="range"&&(i&&e===t||r&&n.value.trim()===s)||(n.value=s))}},Cm={deep:!0,created(n,e,t){n[hn]=xi(t),kn(n,"change",()=>{const i=n._modelValue,r=Cr(n),l=n.checked,d=n[hn];if(ve(i)){const g=Ua(i,r),s=g!==-1;if(l&&!s)d(i.concat(r));else if(!l&&s){const p=[...i];p.splice(g,1),d(p)}}else if(Li(i)){const g=new Set(i);l?g.add(r):g.delete(r),d(g)}else d(gd(n,l))})},mounted:Ac,beforeUpdate(n,e,t){n[hn]=xi(t),Ac(n,e,t)}};function Ac(n,{value:e,oldValue:t},i){n._modelValue=e;let r;if(ve(e))r=Ua(e,i.props.value)>-1;else if(Li(e))r=e.has(i.props.value);else{if(e===t)return;r=Rr(e,gd(n,!0))}n.checked!==r&&(n.checked=r)}const xm={deep:!0,created(n,{value:e,modifiers:{number:t}},i){const r=Li(e);kn(n,"change",()=>{const l=Array.prototype.filter.call(n.options,d=>d.selected).map(d=>t?fo(Cr(d)):Cr(d));n[hn](n.multiple?r?new Set(l):l:l[0]),n._assigning=!0,Ri(()=>{n._assigning=!1})}),n[hn]=xi(i)},mounted(n,{value:e}){Sc(n,e)},beforeUpdate(n,e,t){n[hn]=xi(t)},updated(n,{value:e}){n._assigning||Sc(n,e)}};function Sc(n,e){const t=n.multiple,i=ve(e);if(!(t&&!i&&!Li(e))){for(let r=0,l=n.options.length;r<l;r++){const d=n.options[r],g=Cr(d);if(t)if(i){const s=typeof g;s==="string"||s==="number"?d.selected=e.some(p=>String(p)===String(g)):d.selected=Ua(e,g)>-1}else d.selected=e.has(g);else if(Rr(Cr(d),e)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Cr(n){return"_value"in n?n._value:n.value}function gd(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const Em=["ctrl","shift","alt","meta"],Tm={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Em.some(t=>n[`${t}Key`]&&!e.includes(t))},ma=(n,e)=>{const t=n._withMods||(n._withMods={}),i=e.join(".");return t[i]||(t[i]=(r,...l)=>{for(let d=0;d<e.length;d++){const g=Tm[e[d]];if(g&&g(r,e))return}return n(r,...l)})},km=ot({patchProp:wm},tm);let Cc;function _m(){return Cc||(Cc=kg(km))}const Lm=(...n)=>{const e=_m().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=Mm(i);if(!r)return;const l=e._component;!Ae(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const d=t(r,!1,Rm(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),d},e};function Rm(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Mm(n){return qe(n)?document.querySelector(n):n}var $m=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let md;const Jo=n=>md=n,vd=Symbol();function va(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var tr;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(tr||(tr={}));function Dm(){const n=ah(!0),e=n.run(()=>Ie({}));let t=[],i=[];const r=Ho({install(l){Jo(r),r._a=l,l.provide(vd,r),l.config.globalProperties.$pinia=r,i.forEach(d=>t.push(d)),i=[]},use(l){return!this._a&&!$m?i.push(l):t.push(l),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return r}const yd=()=>{};function xc(n,e,t,i=yd){n.push(e);const r=()=>{const l=n.indexOf(e);l>-1&&(n.splice(l,1),i())};return!t&&Va()&&Ka(r),r}function ci(n,...e){n.slice().forEach(t=>{t(...e)})}const Om=n=>n(),Ec=Symbol(),ws=Symbol();function ya(n,e){n instanceof Map&&e instanceof Map?e.forEach((t,i)=>n.set(i,t)):n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],r=n[t];va(r)&&va(i)&&n.hasOwnProperty(t)&&!Ge(i)&&!un(i)?n[t]=ya(r,i):n[t]=i}return n}const Im=Symbol();function Nm(n){return!va(n)||!n.hasOwnProperty(Im)}const{assign:wn}=Object;function Fm(n){return!!(Ge(n)&&n.effect)}function Pm(n,e,t,i){const{state:r,actions:l,getters:d}=e,g=t.state.value[n];let s;function p(){g||(t.state.value[n]=r?r():{});const o=Pp(t.state.value[n]);return wn(o,l,Object.keys(d||{}).reduce((a,u)=>(a[u]=Ho(vt(()=>{Jo(t);const c=t._s.get(n);return d[u].call(c,c)})),a),{}))}return s=bd(n,p,e,t,i,!0),s}function bd(n,e,t={},i,r,l){let d;const g=wn({actions:{}},t),s={deep:!0};let p,o,a=[],u=[],c;const h=i.state.value[n];!l&&!h&&(i.state.value[n]={}),Ie({});let f;function v(L){let _;p=o=!1,typeof L=="function"?(L(i.state.value[n]),_={type:tr.patchFunction,storeId:n,events:c}):(ya(i.state.value[n],L),_={type:tr.patchObject,payload:L,storeId:n,events:c});const k=f=Symbol();Ri().then(()=>{f===k&&(p=!0)}),o=!0,ci(a,_,i.state.value[n])}const b=l?function(){const{state:_}=t,k=_?_():{};this.$patch(I=>{wn(I,k)})}:yd;function S(){d.stop(),a=[],u=[],i._s.delete(n)}const R=(L,_="")=>{if(Ec in L)return L[ws]=_,L;const k=function(){Jo(i);const I=Array.from(arguments),w=[],m=[];function A(O){w.push(O)}function E(O){m.push(O)}ci(u,{args:I,name:k[ws],store:C,after:A,onError:E});let M;try{M=L.apply(this&&this.$id===n?this:C,I)}catch(O){throw ci(m,O),O}return M instanceof Promise?M.then(O=>(ci(w,O),O)).catch(O=>(ci(m,O),Promise.reject(O))):(ci(w,M),M)};return k[Ec]=!0,k[ws]=_,k},x={_p:i,$id:n,$onAction:xc.bind(null,u),$patch:v,$reset:b,$subscribe(L,_={}){const k=xc(a,L,_.detached,()=>I()),I=d.run(()=>Et(()=>i.state.value[n],w=>{(_.flush==="sync"?o:p)&&L({storeId:n,type:tr.direct,events:c},w)},wn({},s,_)));return k},$dispose:S},C=Mr(x);i._s.set(n,C);const T=(i._a&&i._a.runWithContext||Om)(()=>i._e.run(()=>(d=ah()).run(()=>e({action:R}))));for(const L in T){const _=T[L];if(Ge(_)&&!Fm(_)||un(_))l||(h&&Nm(_)&&(Ge(_)?_.value=h[L]:ya(_,h[L])),i.state.value[n][L]=_);else if(typeof _=="function"){const k=R(_,L);T[L]=k,g.actions[L]=_}}return wn(C,T),wn($e(C),T),Object.defineProperty(C,"$state",{get:()=>i.state.value[n],set:L=>{v(_=>{wn(_,L)})}}),i._p.forEach(L=>{wn(C,d.run(()=>L({store:C,app:i._a,pinia:i,options:g})))}),h&&l&&t.hydrate&&t.hydrate(C.$state,h),p=!0,o=!0,C}/*! #__NO_SIDE_EFFECTS__ */function wd(n,e,t){let i,r;const l=typeof e=="function";typeof n=="string"?(i=n,r=l?t:e):(r=n,i=n.id);function d(g,s){const p=wg();return g=g||(p?Ot(vd,null):null),g&&Jo(g),g=md,g._s.has(i)||(l?bd(i,e,r,g):Pm(i,r,g)),g._s.get(i)}return d.$id=i,d}function Qo(n){{const e=$e(n),t={};for(const i in e){const r=e[i];r.effect?t[i]=vt({get:()=>n[i],set(l){n[i]=l}}):(Ge(r)||un(r))&&(t[i]=Eh(n,i))}return t}}const Bm="/assets/logo_transparent-hUjHW9j4.png";/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const pi=typeof document<"u";function Ad(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Wm(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Ad(n.default)}const Fe=Object.assign;function As(n,e){const t={};for(const i in e){const r=e[i];t[i]=Ut(r)?r.map(n):n(r)}return t}const nr=()=>{},Ut=Array.isArray,Sd=/#/g,Hm=/&/g,jm=/\//g,zm=/=/g,Um=/\?/g,Cd=/\+/g,Vm=/%5B/g,Km=/%5D/g,xd=/%5E/g,Gm=/%60/g,Ed=/%7B/g,Ym=/%7C/g,Td=/%7D/g,qm=/%20/g;function al(n){return encodeURI(""+n).replace(Ym,"|").replace(Vm,"[").replace(Km,"]")}function Jm(n){return al(n).replace(Ed,"{").replace(Td,"}").replace(xd,"^")}function ba(n){return al(n).replace(Cd,"%2B").replace(qm,"+").replace(Sd,"%23").replace(Hm,"%26").replace(Gm,"`").replace(Ed,"{").replace(Td,"}").replace(xd,"^")}function Qm(n){return ba(n).replace(zm,"%3D")}function Xm(n){return al(n).replace(Sd,"%23").replace(Um,"%3F")}function Zm(n){return n==null?"":Xm(n).replace(jm,"%2F")}function xr(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const ev=/\/$/,tv=n=>n.replace(ev,"");function Ss(n,e,t="/"){let i,r={},l="",d="";const g=e.indexOf("#");let s=e.indexOf("?");return g<s&&g>=0&&(s=-1),s>-1&&(i=e.slice(0,s),l=e.slice(s+1,g>-1?g:e.length),r=n(l)),g>-1&&(i=i||e.slice(0,g),d=e.slice(g,e.length)),i=ov(i??e,t),{fullPath:i+(l&&"?")+l+d,path:i,query:r,hash:xr(d)}}function nv(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Tc(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function iv(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&Ei(e.matched[i],t.matched[r])&&kd(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function Ei(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function kd(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!rv(n[t],e[t]))return!1;return!0}function rv(n,e){return Ut(n)?kc(n,e):Ut(e)?kc(e,n):n===e}function kc(n,e){return Ut(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function ov(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let l=t.length-1,d,g;for(d=0;d<i.length;d++)if(g=i[d],g!==".")if(g==="..")l>1&&l--;else break;return t.slice(0,l).join("/")+"/"+i.slice(d).join("/")}const vn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Er;(function(n){n.pop="pop",n.push="push"})(Er||(Er={}));var ir;(function(n){n.back="back",n.forward="forward",n.unknown=""})(ir||(ir={}));function sv(n){if(!n)if(pi){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),tv(n)}const av=/^[^#]+#/;function lv(n,e){return n.replace(av,"#")+e}function cv(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const Xo=()=>({left:window.scrollX,top:window.scrollY});function uv(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=cv(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function _c(n,e){return(history.state?history.state.position-e:-1)+n}const wa=new Map;function hv(n,e){wa.set(n,e)}function dv(n){const e=wa.get(n);return wa.delete(n),e}let fv=()=>location.protocol+"//"+location.host;function _d(n,e){const{pathname:t,search:i,hash:r}=e,l=n.indexOf("#");if(l>-1){let g=r.includes(n.slice(l))?n.slice(l).length:1,s=r.slice(g);return s[0]!=="/"&&(s="/"+s),Tc(s,"")}return Tc(t,n)+i+r}function pv(n,e,t,i){let r=[],l=[],d=null;const g=({state:u})=>{const c=_d(n,location),h=t.value,f=e.value;let v=0;if(u){if(t.value=c,e.value=u,d&&d===h){d=null;return}v=f?u.position-f.position:0}else i(c);r.forEach(b=>{b(t.value,h,{delta:v,type:Er.pop,direction:v?v>0?ir.forward:ir.back:ir.unknown})})};function s(){d=t.value}function p(u){r.push(u);const c=()=>{const h=r.indexOf(u);h>-1&&r.splice(h,1)};return l.push(c),c}function o(){const{history:u}=window;u.state&&u.replaceState(Fe({},u.state,{scroll:Xo()}),"")}function a(){for(const u of l)u();l=[],window.removeEventListener("popstate",g),window.removeEventListener("beforeunload",o)}return window.addEventListener("popstate",g),window.addEventListener("beforeunload",o,{passive:!0}),{pauseListeners:s,listen:p,destroy:a}}function Lc(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?Xo():null}}function gv(n){const{history:e,location:t}=window,i={value:_d(n,t)},r={value:e.state};r.value||l(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function l(s,p,o){const a=n.indexOf("#"),u=a>-1?(t.host&&document.querySelector("base")?n:n.slice(a))+s:fv()+n+s;try{e[o?"replaceState":"pushState"](p,"",u),r.value=p}catch(c){console.error(c),t[o?"replace":"assign"](u)}}function d(s,p){const o=Fe({},e.state,Lc(r.value.back,s,r.value.forward,!0),p,{position:r.value.position});l(s,o,!0),i.value=s}function g(s,p){const o=Fe({},r.value,e.state,{forward:s,scroll:Xo()});l(o.current,o,!0);const a=Fe({},Lc(i.value,s,null),{position:o.position+1},p);l(s,a,!1),i.value=s}return{location:i,state:r,push:g,replace:d}}function mv(n){n=sv(n);const e=gv(n),t=pv(n,e.state,e.location,e.replace);function i(l,d=!0){d||t.pauseListeners(),history.go(l)}const r=Fe({location:"",base:n,go:i,createHref:lv.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function vv(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),mv(n)}function yv(n){return typeof n=="string"||n&&typeof n=="object"}function Ld(n){return typeof n=="string"||typeof n=="symbol"}const Rd=Symbol("");var Rc;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Rc||(Rc={}));function Ti(n,e){return Fe(new Error,{type:n,[Rd]:!0},e)}function nn(n,e){return n instanceof Error&&Rd in n&&(e==null||!!(n.type&e))}const Mc="[^/]+?",bv={sensitive:!1,strict:!1,start:!0,end:!0},wv=/[.+*?^${}()[\]/\\]/g;function Av(n,e){const t=Fe({},bv,e),i=[];let r=t.start?"^":"";const l=[];for(const p of n){const o=p.length?[]:[90];t.strict&&!p.length&&(r+="/");for(let a=0;a<p.length;a++){const u=p[a];let c=40+(t.sensitive?.25:0);if(u.type===0)a||(r+="/"),r+=u.value.replace(wv,"\\$&"),c+=40;else if(u.type===1){const{value:h,repeatable:f,optional:v,regexp:b}=u;l.push({name:h,repeatable:f,optional:v});const S=b||Mc;if(S!==Mc){c+=10;try{new RegExp(`(${S})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${h}" (${S}): `+x.message)}}let R=f?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;a||(R=v&&p.length<2?`(?:/${R})`:"/"+R),v&&(R+="?"),r+=R,c+=20,v&&(c+=-8),f&&(c+=-20),S===".*"&&(c+=-50)}o.push(c)}i.push(o)}if(t.strict&&t.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const d=new RegExp(r,t.sensitive?"":"i");function g(p){const o=p.match(d),a={};if(!o)return null;for(let u=1;u<o.length;u++){const c=o[u]||"",h=l[u-1];a[h.name]=c&&h.repeatable?c.split("/"):c}return a}function s(p){let o="",a=!1;for(const u of n){(!a||!o.endsWith("/"))&&(o+="/"),a=!1;for(const c of u)if(c.type===0)o+=c.value;else if(c.type===1){const{value:h,repeatable:f,optional:v}=c,b=h in p?p[h]:"";if(Ut(b)&&!f)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const S=Ut(b)?b.join("/"):b;if(!S)if(v)u.length<2&&(o.endsWith("/")?o=o.slice(0,-1):a=!0);else throw new Error(`Missing required param "${h}"`);o+=S}}return o||"/"}return{re:d,score:i,keys:l,parse:g,stringify:s}}function Sv(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Md(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const l=Sv(i[t],r[t]);if(l)return l;t++}if(Math.abs(r.length-i.length)===1){if($c(i))return 1;if($c(r))return-1}return r.length-i.length}function $c(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const Cv={type:0,value:""},xv=/[a-zA-Z0-9_]/;function Ev(n){if(!n)return[[]];if(n==="/")return[[Cv]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(c){throw new Error(`ERR (${t})/"${p}": ${c}`)}let t=0,i=t;const r=[];let l;function d(){l&&r.push(l),l=[]}let g=0,s,p="",o="";function a(){p&&(t===0?l.push({type:0,value:p}):t===1||t===2||t===3?(l.length>1&&(s==="*"||s==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:p,regexp:o,repeatable:s==="*"||s==="+",optional:s==="*"||s==="?"})):e("Invalid state to consume buffer"),p="")}function u(){p+=s}for(;g<n.length;){if(s=n[g++],s==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:s==="/"?(p&&a(),d()):s===":"?(a(),t=1):u();break;case 4:u(),t=i;break;case 1:s==="("?t=2:xv.test(s)?u():(a(),t=0,s!=="*"&&s!=="?"&&s!=="+"&&g--);break;case 2:s===")"?o[o.length-1]=="\\"?o=o.slice(0,-1)+s:t=3:o+=s;break;case 3:a(),t=0,s!=="*"&&s!=="?"&&s!=="+"&&g--,o="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${p}"`),a(),d(),r}function Tv(n,e,t){const i=Av(Ev(n.path),t),r=Fe(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function kv(n,e){const t=[],i=new Map;e=Nc({strict:!1,end:!0,sensitive:!1},e);function r(a){return i.get(a)}function l(a,u,c){const h=!c,f=Oc(a);f.aliasOf=c&&c.record;const v=Nc(e,a),b=[f];if("alias"in a){const x=typeof a.alias=="string"?[a.alias]:a.alias;for(const C of x)b.push(Oc(Fe({},f,{components:c?c.record.components:f.components,path:C,aliasOf:c?c.record:f})))}let S,R;for(const x of b){const{path:C}=x;if(u&&C[0]!=="/"){const y=u.record.path,T=y[y.length-1]==="/"?"":"/";x.path=u.record.path+(C&&T+C)}if(S=Tv(x,u,v),c?c.alias.push(S):(R=R||S,R!==S&&R.alias.push(S),h&&a.name&&!Ic(S)&&d(a.name)),$d(S)&&s(S),f.children){const y=f.children;for(let T=0;T<y.length;T++)l(y[T],S,c&&c.children[T])}c=c||S}return R?()=>{d(R)}:nr}function d(a){if(Ld(a)){const u=i.get(a);u&&(i.delete(a),t.splice(t.indexOf(u),1),u.children.forEach(d),u.alias.forEach(d))}else{const u=t.indexOf(a);u>-1&&(t.splice(u,1),a.record.name&&i.delete(a.record.name),a.children.forEach(d),a.alias.forEach(d))}}function g(){return t}function s(a){const u=Rv(a,t);t.splice(u,0,a),a.record.name&&!Ic(a)&&i.set(a.record.name,a)}function p(a,u){let c,h={},f,v;if("name"in a&&a.name){if(c=i.get(a.name),!c)throw Ti(1,{location:a});v=c.record.name,h=Fe(Dc(u.params,c.keys.filter(R=>!R.optional).concat(c.parent?c.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),a.params&&Dc(a.params,c.keys.map(R=>R.name))),f=c.stringify(h)}else if(a.path!=null)f=a.path,c=t.find(R=>R.re.test(f)),c&&(h=c.parse(f),v=c.record.name);else{if(c=u.name?i.get(u.name):t.find(R=>R.re.test(u.path)),!c)throw Ti(1,{location:a,currentLocation:u});v=c.record.name,h=Fe({},u.params,a.params),f=c.stringify(h)}const b=[];let S=c;for(;S;)b.unshift(S.record),S=S.parent;return{name:v,path:f,params:h,matched:b,meta:Lv(b)}}n.forEach(a=>l(a));function o(){t.length=0,i.clear()}return{addRoute:l,resolve:p,removeRoute:d,clearRoutes:o,getRoutes:g,getRecordMatcher:r}}function Dc(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function Oc(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:_v(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _v(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function Ic(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Lv(n){return n.reduce((e,t)=>Fe(e,t.meta),{})}function Nc(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function Rv(n,e){let t=0,i=e.length;for(;t!==i;){const l=t+i>>1;Md(n,e[l])<0?i=l:t=l+1}const r=Mv(n);return r&&(i=e.lastIndexOf(r,i-1)),i}function Mv(n){let e=n;for(;e=e.parent;)if($d(e)&&Md(n,e)===0)return e}function $d({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function $v(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const l=i[r].replace(Cd," "),d=l.indexOf("="),g=xr(d<0?l:l.slice(0,d)),s=d<0?null:xr(l.slice(d+1));if(g in e){let p=e[g];Ut(p)||(p=e[g]=[p]),p.push(s)}else e[g]=s}return e}function Fc(n){let e="";for(let t in n){const i=n[t];if(t=Qm(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(Ut(i)?i.map(l=>l&&ba(l)):[i&&ba(i)]).forEach(l=>{l!==void 0&&(e+=(e.length?"&":"")+t,l!=null&&(e+="="+l))})}return e}function Dv(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=Ut(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const Ov=Symbol(""),Pc=Symbol(""),Zo=Symbol(""),ll=Symbol(""),Aa=Symbol("");function Pi(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function En(n,e,t,i,r,l=d=>d()){const d=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((g,s)=>{const p=u=>{u===!1?s(Ti(4,{from:t,to:e})):u instanceof Error?s(u):yv(u)?s(Ti(2,{from:e,to:u})):(d&&i.enterCallbacks[r]===d&&typeof u=="function"&&d.push(u),g())},o=l(()=>n.call(i&&i.instances[r],e,t,p));let a=Promise.resolve(o);n.length<3&&(a=a.then(p)),a.catch(u=>s(u))})}function Cs(n,e,t,i,r=l=>l()){const l=[];for(const d of n)for(const g in d.components){let s=d.components[g];if(!(e!=="beforeRouteEnter"&&!d.instances[g]))if(Ad(s)){const o=(s.__vccOpts||s)[e];o&&l.push(En(o,t,i,d,g,r))}else{let p=s();l.push(()=>p.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${g}" at "${d.path}"`);const a=Wm(o)?o.default:o;d.mods[g]=o,d.components[g]=a;const c=(a.__vccOpts||a)[e];return c&&En(c,t,i,d,g,r)()}))}}return l}function Bc(n){const e=Ot(Zo),t=Ot(ll),i=vt(()=>{const s=ke(n.to);return e.resolve(s)}),r=vt(()=>{const{matched:s}=i.value,{length:p}=s,o=s[p-1],a=t.matched;if(!o||!a.length)return-1;const u=a.findIndex(Ei.bind(null,o));if(u>-1)return u;const c=Wc(s[p-2]);return p>1&&Wc(o)===c&&a[a.length-1].path!==c?a.findIndex(Ei.bind(null,s[p-2])):u}),l=vt(()=>r.value>-1&&Pv(t.params,i.value.params)),d=vt(()=>r.value>-1&&r.value===t.matched.length-1&&kd(t.params,i.value.params));function g(s={}){if(Fv(s)){const p=e[ke(n.replace)?"replace":"push"](ke(n.to)).catch(nr);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>p),p}return Promise.resolve()}return{route:i,href:vt(()=>i.value.href),isActive:l,isExactActive:d,navigate:g}}function Iv(n){return n.length===1?n[0]:n}const Nv=zo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Bc,setup(n,{slots:e}){const t=Mr(Bc(n)),{options:i}=Ot(Zo),r=vt(()=>({[Hc(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[Hc(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const l=e.default&&Iv(e.default(t));return n.custom?l:Or("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},l)}}}),Dd=Nv;function Fv(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function Pv(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!Ut(r)||r.length!==i.length||i.some((l,d)=>l!==r[d]))return!1}return!0}function Wc(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Hc=(n,e,t)=>n??e??t,Bv=zo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=Ot(Aa),r=vt(()=>n.route||i.value),l=Ot(Pc,0),d=vt(()=>{let p=ke(l);const{matched:o}=r.value;let a;for(;(a=o[p])&&!a.components;)p++;return p}),g=vt(()=>r.value.matched[d.value]);oo(Pc,vt(()=>d.value+1)),oo(Ov,g),oo(Aa,r);const s=Ie();return Et(()=>[s.value,g.value,n.name],([p,o,a],[u,c,h])=>{o&&(o.instances[a]=p,c&&c!==o&&p&&p===u&&(o.leaveGuards.size||(o.leaveGuards=c.leaveGuards),o.updateGuards.size||(o.updateGuards=c.updateGuards))),p&&o&&(!c||!Ei(o,c)||!u)&&(o.enterCallbacks[a]||[]).forEach(f=>f(p))},{flush:"post"}),()=>{const p=r.value,o=n.name,a=g.value,u=a&&a.components[o];if(!u)return jc(t.default,{Component:u,route:p});const c=a.props[o],h=c?c===!0?p.params:typeof c=="function"?c(p):c:null,v=Or(u,Fe({},h,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(a.instances[o]=null)},ref:s}));return jc(t.default,{Component:v,route:p})||v}}});function jc(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const Wv=Bv;function Hv(n){const e=kv(n.routes,n),t=n.parseQuery||$v,i=n.stringifyQuery||Fc,r=n.history,l=Pi(),d=Pi(),g=Pi(),s=Za(vn);let p=vn;pi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const o=As.bind(null,W=>""+W),a=As.bind(null,Zm),u=As.bind(null,xr);function c(W,Y){let q,J;return Ld(W)?(q=e.getRecordMatcher(W),J=Y):J=W,e.addRoute(J,q)}function h(W){const Y=e.getRecordMatcher(W);Y&&e.removeRoute(Y)}function f(){return e.getRoutes().map(W=>W.record)}function v(W){return!!e.getRecordMatcher(W)}function b(W,Y){if(Y=Fe({},Y||s.value),typeof W=="string"){const K=Ss(t,W,Y.path),X=e.resolve({path:K.path},Y),ee=r.createHref(K.fullPath);return Fe(K,X,{params:u(X.params),hash:xr(K.hash),redirectedFrom:void 0,href:ee})}let q;if(W.path!=null)q=Fe({},W,{path:Ss(t,W.path,Y.path).path});else{const K=Fe({},W.params);for(const X in K)K[X]==null&&delete K[X];q=Fe({},W,{params:a(K)}),Y.params=a(Y.params)}const J=e.resolve(q,Y),ne=W.hash||"";J.params=o(u(J.params));const B=nv(i,Fe({},W,{hash:Jm(ne),path:J.path})),U=r.createHref(B);return Fe({fullPath:B,hash:ne,query:i===Fc?Dv(W.query):W.query||{}},J,{redirectedFrom:void 0,href:U})}function S(W){return typeof W=="string"?Ss(t,W,s.value.path):Fe({},W)}function R(W,Y){if(p!==W)return Ti(8,{from:Y,to:W})}function x(W){return T(W)}function C(W){return x(Fe(S(W),{replace:!0}))}function y(W){const Y=W.matched[W.matched.length-1];if(Y&&Y.redirect){const{redirect:q}=Y;let J=typeof q=="function"?q(W):q;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=S(J):{path:J},J.params={}),Fe({query:W.query,hash:W.hash,params:J.path!=null?{}:W.params},J)}}function T(W,Y){const q=p=b(W),J=s.value,ne=W.state,B=W.force,U=W.replace===!0,K=y(q);if(K)return T(Fe(S(K),{state:typeof K=="object"?Fe({},ne,K.state):ne,force:B,replace:U}),Y||q);const X=q;X.redirectedFrom=Y;let ee;return!B&&iv(i,J,q)&&(ee=Ti(16,{to:X,from:J}),F(J,J,!0,!1)),(ee?Promise.resolve(ee):k(X,J)).catch(Z=>nn(Z)?nn(Z,2)?Z:N(Z):$(Z,X,J)).then(Z=>{if(Z){if(nn(Z,2))return T(Fe({replace:U},S(Z.to),{state:typeof Z.to=="object"?Fe({},ne,Z.to.state):ne,force:B}),Y||X)}else Z=w(X,J,!0,U,ne);return I(X,J,Z),Z})}function L(W,Y){const q=R(W,Y);return q?Promise.reject(q):Promise.resolve()}function _(W){const Y=j.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(W):W()}function k(W,Y){let q;const[J,ne,B]=jv(W,Y);q=Cs(J.reverse(),"beforeRouteLeave",W,Y);for(const K of J)K.leaveGuards.forEach(X=>{q.push(En(X,W,Y))});const U=L.bind(null,W,Y);return q.push(U),H(q).then(()=>{q=[];for(const K of l.list())q.push(En(K,W,Y));return q.push(U),H(q)}).then(()=>{q=Cs(ne,"beforeRouteUpdate",W,Y);for(const K of ne)K.updateGuards.forEach(X=>{q.push(En(X,W,Y))});return q.push(U),H(q)}).then(()=>{q=[];for(const K of B)if(K.beforeEnter)if(Ut(K.beforeEnter))for(const X of K.beforeEnter)q.push(En(X,W,Y));else q.push(En(K.beforeEnter,W,Y));return q.push(U),H(q)}).then(()=>(W.matched.forEach(K=>K.enterCallbacks={}),q=Cs(B,"beforeRouteEnter",W,Y,_),q.push(U),H(q))).then(()=>{q=[];for(const K of d.list())q.push(En(K,W,Y));return q.push(U),H(q)}).catch(K=>nn(K,8)?K:Promise.reject(K))}function I(W,Y,q){g.list().forEach(J=>_(()=>J(W,Y,q)))}function w(W,Y,q,J,ne){const B=R(W,Y);if(B)return B;const U=Y===vn,K=pi?history.state:{};q&&(J||U?r.replace(W.fullPath,Fe({scroll:U&&K&&K.scroll},ne)):r.push(W.fullPath,ne)),s.value=W,F(W,Y,q,U),N()}let m;function A(){m||(m=r.listen((W,Y,q)=>{if(!G.listening)return;const J=b(W),ne=y(J);if(ne){T(Fe(ne,{replace:!0,force:!0}),J).catch(nr);return}p=J;const B=s.value;pi&&hv(_c(B.fullPath,q.delta),Xo()),k(J,B).catch(U=>nn(U,12)?U:nn(U,2)?(T(Fe(S(U.to),{force:!0}),J).then(K=>{nn(K,20)&&!q.delta&&q.type===Er.pop&&r.go(-1,!1)}).catch(nr),Promise.reject()):(q.delta&&r.go(-q.delta,!1),$(U,J,B))).then(U=>{U=U||w(J,B,!1),U&&(q.delta&&!nn(U,8)?r.go(-q.delta,!1):q.type===Er.pop&&nn(U,20)&&r.go(-1,!1)),I(J,B,U)}).catch(nr)}))}let E=Pi(),M=Pi(),O;function $(W,Y,q){N(W);const J=M.list();return J.length?J.forEach(ne=>ne(W,Y,q)):console.error(W),Promise.reject(W)}function D(){return O&&s.value!==vn?Promise.resolve():new Promise((W,Y)=>{E.add([W,Y])})}function N(W){return O||(O=!W,A(),E.list().forEach(([Y,q])=>W?q(W):Y()),E.reset()),W}function F(W,Y,q,J){const{scrollBehavior:ne}=n;if(!pi||!ne)return Promise.resolve();const B=!q&&dv(_c(W.fullPath,0))||(J||!q)&&history.state&&history.state.scroll||null;return Ri().then(()=>ne(W,Y,B)).then(U=>U&&uv(U)).catch(U=>$(U,W,Y))}const z=W=>r.go(W);let P;const j=new Set,G={currentRoute:s,listening:!0,addRoute:c,removeRoute:h,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:f,resolve:b,options:n,push:x,replace:C,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:l.add,beforeResolve:d.add,afterEach:g.add,onError:M.add,isReady:D,install(W){const Y=this;W.component("RouterLink",Dd),W.component("RouterView",Wv),W.config.globalProperties.$router=Y,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>ke(s)}),pi&&!P&&s.value===vn&&(P=!0,x(r.location).catch(ne=>{}));const q={};for(const ne in vn)Object.defineProperty(q,ne,{get:()=>s.value[ne],enumerable:!0});W.provide(Zo,Y),W.provide(ll,Sh(q)),W.provide(Aa,s);const J=W.unmount;j.add(W),W.unmount=function(){j.delete(W),j.size<1&&(p=vn,m&&m(),m=null,s.value=vn,P=!1,O=!1),J()}}};function H(W){return W.reduce((Y,q)=>Y.then(()=>_(q)),Promise.resolve())}return G}function jv(n,e){const t=[],i=[],r=[],l=Math.max(e.matched.length,n.matched.length);for(let d=0;d<l;d++){const g=e.matched[d];g&&(n.matched.find(p=>Ei(p,g))?i.push(g):t.push(g));const s=n.matched[d];s&&(e.matched.find(p=>Ei(p,s))||r.push(s))}return[t,i,r]}function JS(){return Ot(Zo)}function zv(n){return Ot(ll)}class Tt extends Error{constructor(e){var t,i,r,l;super("ClientResponseError"),this.url="",this.status=0,this.response={},this.isAbort=!1,this.originalError=null,Object.setPrototypeOf(this,Tt.prototype),e!==null&&typeof e=="object"&&(this.url=typeof e.url=="string"?e.url:"",this.status=typeof e.status=="number"?e.status:0,this.isAbort=!!e.isAbort,this.originalError=e.originalError,e.response!==null&&typeof e.response=="object"?this.response=e.response:e.data!==null&&typeof e.data=="object"?this.response=e.data:this.response={}),this.originalError||e instanceof Tt||(this.originalError=e),typeof DOMException<"u"&&e instanceof DOMException&&(this.isAbort=!0),this.name="ClientResponseError "+this.status,this.message=(t=this.response)==null?void 0:t.message,this.message||(this.isAbort?this.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":(l=(r=(i=this.originalError)==null?void 0:i.cause)==null?void 0:r.message)!=null&&l.includes("ECONNREFUSED ::1")?this.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":this.message="Something went wrong while processing your request.")}get data(){return this.response}toJSON(){return{...this}}}const Kr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Uv(n,e){const t={};if(typeof n!="string")return t;const i=Object.assign({},{}).decode||Vv;let r=0;for(;r<n.length;){const l=n.indexOf("=",r);if(l===-1)break;let d=n.indexOf(";",r);if(d===-1)d=n.length;else if(d<l){r=n.lastIndexOf(";",l-1)+1;continue}const g=n.slice(r,l).trim();if(t[g]===void 0){let s=n.slice(l+1,d).trim();s.charCodeAt(0)===34&&(s=s.slice(1,-1));try{t[g]=i(s)}catch{t[g]=s}}r=d+1}return t}function zc(n,e,t){const i=Object.assign({},t||{}),r=i.encode||Kv;if(!Kr.test(n))throw new TypeError("argument name is invalid");const l=r(e);if(l&&!Kr.test(l))throw new TypeError("argument val is invalid");let d=n+"="+l;if(i.maxAge!=null){const g=i.maxAge-0;if(isNaN(g)||!isFinite(g))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(g)}if(i.domain){if(!Kr.test(i.domain))throw new TypeError("option domain is invalid");d+="; Domain="+i.domain}if(i.path){if(!Kr.test(i.path))throw new TypeError("option path is invalid");d+="; Path="+i.path}if(i.expires){if(!function(s){return Object.prototype.toString.call(s)==="[object Date]"||s instanceof Date}(i.expires)||isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");d+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(d+="; HttpOnly"),i.secure&&(d+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return d}function Vv(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function Kv(n){return encodeURIComponent(n)}const Gv=typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal;let Od;function wi(n){if(n)try{const e=decodeURIComponent(Od(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Id(n,e=0){let t=wi(n);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Od=typeof atob!="function"||Gv?n=>{let e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,i,r=0,l=0,d="";i=e.charAt(l++);~i&&(t=r%4?64*t+i:i,r++%4)?d+=String.fromCharCode(255&t>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return d}:atob;const Uc="pb_auth";class cl{constructor(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}get token(){return this.baseToken}get record(){return this.baseModel}get model(){return this.baseModel}get isValid(){return!Id(this.token)}get isSuperuser(){var t,i;let e=wi(this.token);return e.type=="auth"&&(((t=this.record)==null?void 0:t.collectionName)=="_superusers"||!((i=this.record)!=null&&i.collectionName)&&e.collectionId=="pbc_3142635823")}get isAdmin(){return console.warn("Please replace pb.authStore.isAdmin with pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),this.isSuperuser}get isAuthRecord(){return console.warn("Please replace pb.authStore.isAuthRecord with !pb.authStore.isSuperuser OR simply check the value of pb.authStore.record?.collectionName"),wi(this.token).type=="auth"&&!this.isSuperuser}save(e,t){this.baseToken=e||"",this.baseModel=t||null,this.triggerChange()}clear(){this.baseToken="",this.baseModel=null,this.triggerChange()}loadFromCookie(e,t=Uc){const i=Uv(e||"")[t]||"";let r={};try{r=JSON.parse(i),(typeof r===null||typeof r!="object"||Array.isArray(r))&&(r={})}catch{}this.save(r.token||"",r.record||r.model||null)}exportToCookie(e,t=Uc){var s,p;const i={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},r=wi(this.token);i.expires=r!=null&&r.exp?new Date(1e3*r.exp):new Date("1970-01-01"),e=Object.assign({},i,e);const l={token:this.token,record:this.record?JSON.parse(JSON.stringify(this.record)):null};let d=zc(t,JSON.stringify(l),e);const g=typeof Blob<"u"?new Blob([d]).size:d.length;if(l.record&&g>4096){l.record={id:(s=l.record)==null?void 0:s.id,email:(p=l.record)==null?void 0:p.email};const o=["collectionId","collectionName","verified"];for(const a in this.record)o.includes(a)&&(l.record[a]=this.record[a]);d=zc(t,JSON.stringify(l),e)}return d}onChange(e,t=!1){return this._onChangeCallbacks.push(e),t&&e(this.token,this.record),()=>{for(let i=this._onChangeCallbacks.length-1;i>=0;i--)if(this._onChangeCallbacks[i]==e)return delete this._onChangeCallbacks[i],void this._onChangeCallbacks.splice(i,1)}}triggerChange(){for(const e of this._onChangeCallbacks)e&&e(this.token,this.record)}}class Yv extends cl{constructor(e="pocketbase_auth"){super(),this.storageFallback={},this.storageKey=e,this._bindStorageEvent()}get token(){return(this._storageGet(this.storageKey)||{}).token||""}get record(){const e=this._storageGet(this.storageKey)||{};return e.record||e.model||null}get model(){return this.record}save(e,t){this._storageSet(this.storageKey,{token:e,record:t}),super.save(e,t)}clear(){this._storageRemove(this.storageKey),super.clear()}_storageGet(e){if(typeof window<"u"&&(window!=null&&window.localStorage)){const t=window.localStorage.getItem(e)||"";try{return JSON.parse(t)}catch{return t}}return this.storageFallback[e]}_storageSet(e,t){if(typeof window<"u"&&(window!=null&&window.localStorage)){let i=t;typeof t!="string"&&(i=JSON.stringify(t)),window.localStorage.setItem(e,i)}else this.storageFallback[e]=t}_storageRemove(e){var t;typeof window<"u"&&(window!=null&&window.localStorage)&&((t=window.localStorage)==null||t.removeItem(e)),delete this.storageFallback[e]}_bindStorageEvent(){typeof window<"u"&&(window!=null&&window.localStorage)&&window.addEventListener&&window.addEventListener("storage",e=>{if(e.key!=this.storageKey)return;const t=this._storageGet(this.storageKey)||{};super.save(t.token||"",t.record||t.model||null)})}}class Nn{constructor(e){this.client=e}}class qv extends Nn{async getAll(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/settings",e)}async update(e,t){return t=Object.assign({method:"PATCH",body:e},t),this.client.send("/api/settings",t)}async testS3(e="storage",t){return t=Object.assign({method:"POST",body:{filesystem:e}},t),this.client.send("/api/settings/test/s3",t).then(()=>!0)}async testEmail(e,t,i,r){return r=Object.assign({method:"POST",body:{email:t,template:i,collection:e}},r),this.client.send("/api/settings/test/email",r).then(()=>!0)}async generateAppleClientSecret(e,t,i,r,l,d){return d=Object.assign({method:"POST",body:{clientId:e,teamId:t,keyId:i,privateKey:r,duration:l}},d),this.client.send("/api/settings/apple/generate-client-secret",d)}}const Jv=["requestKey","$cancelKey","$autoCancel","fetch","headers","body","query","params","cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","signal","window"];function ul(n){if(n){n.query=n.query||{};for(let e in n)Jv.includes(e)||(n.query[e]=n[e],delete n[e])}}function Nd(n){const e=[];for(const t in n){if(n[t]===null)continue;const i=n[t],r=encodeURIComponent(t);if(Array.isArray(i))for(const l of i)e.push(r+"="+encodeURIComponent(l));else i instanceof Date?e.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?e.push(r+"="+encodeURIComponent(JSON.stringify(i))):e.push(r+"="+encodeURIComponent(i))}return e.join("&")}class Fd extends Nn{constructor(){super(...arguments),this.clientId="",this.eventSource=null,this.subscriptions={},this.lastSentSubscriptions=[],this.maxConnectTimeout=15e3,this.reconnectAttempts=0,this.maxReconnectAttempts=1/0,this.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],this.pendingConnects=[]}get isConnected(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length}async subscribe(e,t,i){var d;if(!e)throw new Error("topic must be set.");let r=e;if(i){ul(i=Object.assign({},i));const g="options="+encodeURIComponent(JSON.stringify({query:i.query,headers:i.headers}));r+=(r.includes("?")?"&":"?")+g}const l=function(g){const s=g;let p;try{p=JSON.parse(s==null?void 0:s.data)}catch{}t(p||{})};return this.subscriptions[r]||(this.subscriptions[r]=[]),this.subscriptions[r].push(l),this.isConnected?this.subscriptions[r].length===1?await this.submitSubscriptions():(d=this.eventSource)==null||d.addEventListener(r,l):await this.connect(),async()=>this.unsubscribeByTopicAndListener(e,l)}async unsubscribe(e){var i;let t=!1;if(e){const r=this.getSubscriptionsByTopic(e);for(let l in r)if(this.hasSubscriptionListeners(l)){for(let d of this.subscriptions[l])(i=this.eventSource)==null||i.removeEventListener(l,d);delete this.subscriptions[l],t||(t=!0)}}else this.subscriptions={};this.hasSubscriptionListeners()?t&&await this.submitSubscriptions():this.disconnect()}async unsubscribeByPrefix(e){var i;let t=!1;for(let r in this.subscriptions)if((r+"?").startsWith(e)){t=!0;for(let l of this.subscriptions[r])(i=this.eventSource)==null||i.removeEventListener(r,l);delete this.subscriptions[r]}t&&(this.hasSubscriptionListeners()?await this.submitSubscriptions():this.disconnect())}async unsubscribeByTopicAndListener(e,t){var l;let i=!1;const r=this.getSubscriptionsByTopic(e);for(let d in r){if(!Array.isArray(this.subscriptions[d])||!this.subscriptions[d].length)continue;let g=!1;for(let s=this.subscriptions[d].length-1;s>=0;s--)this.subscriptions[d][s]===t&&(g=!0,delete this.subscriptions[d][s],this.subscriptions[d].splice(s,1),(l=this.eventSource)==null||l.removeEventListener(d,t));g&&(this.subscriptions[d].length||delete this.subscriptions[d],i||this.hasSubscriptionListeners(d)||(i=!0))}this.hasSubscriptionListeners()?i&&await this.submitSubscriptions():this.disconnect()}hasSubscriptionListeners(e){var t,i;if(this.subscriptions=this.subscriptions||{},e)return!!((t=this.subscriptions[e])!=null&&t.length);for(let r in this.subscriptions)if((i=this.subscriptions[r])!=null&&i.length)return!0;return!1}async submitSubscriptions(){if(this.clientId)return this.addAllSubscriptionListeners(),this.lastSentSubscriptions=this.getNonEmptySubscriptionKeys(),this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentSubscriptions},requestKey:this.getSubscriptionsCancelKey()}).catch(e=>{if(!(e!=null&&e.isAbort))throw e})}getSubscriptionsCancelKey(){return"realtime_"+this.clientId}getSubscriptionsByTopic(e){const t={};e=e.includes("?")?e:e+"?";for(let i in this.subscriptions)(i+"?").startsWith(e)&&(t[i]=this.subscriptions[i]);return t}getNonEmptySubscriptionKeys(){const e=[];for(let t in this.subscriptions)this.subscriptions[t].length&&e.push(t);return e}addAllSubscriptionListeners(){if(this.eventSource){this.removeAllSubscriptionListeners();for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.addEventListener(e,t)}}removeAllSubscriptionListeners(){if(this.eventSource)for(let e in this.subscriptions)for(let t of this.subscriptions[e])this.eventSource.removeEventListener(e,t)}async connect(){if(!(this.reconnectAttempts>0))return new Promise((e,t)=>{this.pendingConnects.push({resolve:e,reject:t}),this.pendingConnects.length>1||this.initConnect()})}initConnect(){this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(()=>{this.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildURL("/api/realtime")),this.eventSource.onerror=e=>{this.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",e=>{const t=e;this.clientId=t==null?void 0:t.lastEventId,this.submitSubscriptions().then(async()=>{let i=3;for(;this.hasUnsentSubscriptions()&&i>0;)i--,await this.submitSubscriptions()}).then(()=>{for(let r of this.pendingConnects)r.resolve();this.pendingConnects=[],this.reconnectAttempts=0,clearTimeout(this.reconnectTimeoutId),clearTimeout(this.connectTimeoutId);const i=this.getSubscriptionsByTopic("PB_CONNECT");for(let r in i)for(let l of i[r])l(e)}).catch(i=>{this.clientId="",this.connectErrorHandler(i)})})}hasUnsentSubscriptions(){const e=this.getNonEmptySubscriptionKeys();if(e.length!=this.lastSentSubscriptions.length)return!0;for(const t of e)if(!this.lastSentSubscriptions.includes(t))return!0;return!1}connectErrorHandler(e){if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(let i of this.pendingConnects)i.reject(new Tt(e));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);const t=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(()=>{this.initConnect()},t)}disconnect(e=!1){var t;if(this.clientId&&this.onDisconnect&&this.onDisconnect(Object.keys(this.subscriptions)),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(t=this.eventSource)==null||t.close(),this.eventSource=null,this.clientId="",!e){this.reconnectAttempts=0;for(let i of this.pendingConnects)i.resolve();this.pendingConnects=[]}}}class Pd extends Nn{decode(e){return e}async getFullList(e,t){if(typeof e=="number")return this._getFullList(e,t);let i=500;return(t=Object.assign({},e,t)).batch&&(i=t.batch,delete t.batch),this._getFullList(i,t)}async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send(this.baseCrudPath,i).then(r=>{var l;return r.items=((l=r.items)==null?void 0:l.map(d=>this.decode(d)))||[],r})}async getFirstListItem(e,t){return(t=Object.assign({requestKey:"one_by_filter_"+this.baseCrudPath+"_"+e},t)).query=Object.assign({filter:e,skipTotal:1},t.query),this.getList(1,1,t).then(i=>{var r;if(!((r=i==null?void 0:i.items)!=null&&r.length))throw new Tt({status:404,response:{code:404,message:"The requested resource wasn't found.",data:{}}});return i.items[0]})}async getOne(e,t){if(!e)throw new Tt({url:this.client.buildURL(this.baseCrudPath+"/"),status:404,response:{code:404,message:"Missing required record id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(i=>this.decode(i))}async create(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send(this.baseCrudPath,t).then(i=>this.decode(i))}async update(e,t,i){return i=Object.assign({method:"PATCH",body:t},i),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),i).then(r=>this.decode(r))}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e),t).then(()=>!0)}_getFullList(e=500,t){(t=t||{}).query=Object.assign({skipTotal:1},t.query);let i=[],r=async l=>this.getList(l,e||500,t).then(d=>{const g=d.items;return i=i.concat(g),g.length==d.perPage?r(l+1):i});return r(1)}}function yn(n,e,t,i){const r=i!==void 0;return r||t!==void 0?r?(console.warn(n),e.body=Object.assign({},e.body,t),e.query=Object.assign({},e.query,i),e):Object.assign(e,t):e}function xs(n){var e;(e=n._resetAutoRefresh)==null||e.call(n)}class Qv extends Pd{constructor(e,t){super(e),this.collectionIdOrName=t}get baseCrudPath(){return this.baseCollectionPath+"/records"}get baseCollectionPath(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)}get isSuperusers(){return this.collectionIdOrName=="_superusers"||this.collectionIdOrName=="_pbc_2773867675"}async subscribe(e,t,i){if(!e)throw new Error("Missing topic.");if(!t)throw new Error("Missing subscription callback.");return this.client.realtime.subscribe(this.collectionIdOrName+"/"+e,t,i)}async unsubscribe(e){return e?this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+e):this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)}async getFullList(e,t){if(typeof e=="number")return super.getFullList(e,t);const i=Object.assign({},e,t);return super.getFullList(i)}async getList(e=1,t=30,i){return super.getList(e,t,i)}async getFirstListItem(e,t){return super.getFirstListItem(e,t)}async getOne(e,t){return super.getOne(e,t)}async create(e,t){return super.create(e,t)}async update(e,t,i){return super.update(e,t,i).then(r=>{var l,d,g;if(((l=this.client.authStore.record)==null?void 0:l.id)===(r==null?void 0:r.id)&&(((d=this.client.authStore.record)==null?void 0:d.collectionId)===this.collectionIdOrName||((g=this.client.authStore.record)==null?void 0:g.collectionName)===this.collectionIdOrName)){let s=Object.assign({},this.client.authStore.record.expand),p=Object.assign({},this.client.authStore.record,r);s&&(p.expand=Object.assign(s,r.expand)),this.client.authStore.save(this.client.authStore.token,p)}return r})}async delete(e,t){return super.delete(e,t).then(i=>{var r,l,d;return!i||((r=this.client.authStore.record)==null?void 0:r.id)!==e||((l=this.client.authStore.record)==null?void 0:l.collectionId)!==this.collectionIdOrName&&((d=this.client.authStore.record)==null?void 0:d.collectionName)!==this.collectionIdOrName||this.client.authStore.clear(),i})}authResponse(e){const t=this.decode((e==null?void 0:e.record)||{});return this.client.authStore.save(e==null?void 0:e.token,t),Object.assign({},e,{token:(e==null?void 0:e.token)||"",record:t})}async listAuthMethods(e){return e=Object.assign({method:"GET",fields:"mfa,otp,password,oauth2"},e),this.client.send(this.baseCollectionPath+"/auth-methods",e)}async authWithPassword(e,t,i){let r;i=Object.assign({method:"POST",body:{identity:e,password:t}},i),this.isSuperusers&&(r=i.autoRefreshThreshold,delete i.autoRefreshThreshold,i.autoRefresh||xs(this.client));let l=await this.client.send(this.baseCollectionPath+"/auth-with-password",i);return l=this.authResponse(l),r&&this.isSuperusers&&function(g,s,p,o){xs(g);const a=g.beforeSend,u=g.authStore.record,c=g.authStore.onChange((h,f)=>{(!h||(f==null?void 0:f.id)!=(u==null?void 0:u.id)||(f!=null&&f.collectionId||u!=null&&u.collectionId)&&(f==null?void 0:f.collectionId)!=(u==null?void 0:u.collectionId))&&xs(g)});g._resetAutoRefresh=function(){c(),g.beforeSend=a,delete g._resetAutoRefresh},g.beforeSend=async(h,f)=>{var R;const v=g.authStore.token;if((R=f.query)!=null&&R.autoRefresh)return a?a(h,f):{url:h,sendOptions:f};let b=g.authStore.isValid;if(b&&Id(g.authStore.token,s))try{await p()}catch{b=!1}b||await o();const S=f.headers||{};for(let x in S)if(x.toLowerCase()=="authorization"&&v==S[x]&&g.authStore.token){S[x]=g.authStore.token;break}return f.headers=S,a?a(h,f):{url:h,sendOptions:f}}}(this.client,r,()=>this.authRefresh({autoRefresh:!0}),()=>this.authWithPassword(e,t,Object.assign({autoRefresh:!0},i))),l}async authWithOAuth2Code(e,t,i,r,l,d,g){let s={method:"POST",body:{provider:e,code:t,codeVerifier:i,redirectURL:r,createData:l}};return s=yn("This form of authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, body?, query?) is deprecated. Consider replacing it with authWithOAuth2Code(provider, code, codeVerifier, redirectURL, createData?, options?).",s,d,g),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",s).then(p=>this.authResponse(p))}authWithOAuth2(...e){if(e.length>1||typeof(e==null?void 0:e[0])=="string")return console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),this.authWithOAuth2Code((e==null?void 0:e[0])||"",(e==null?void 0:e[1])||"",(e==null?void 0:e[2])||"",(e==null?void 0:e[3])||"",(e==null?void 0:e[4])||{},(e==null?void 0:e[5])||{},(e==null?void 0:e[6])||{});const t=(e==null?void 0:e[0])||{};let i=null;t.urlCallback||(i=Vc(void 0));const r=new Fd(this.client);function l(){i==null||i.close(),r.unsubscribe()}const d={},g=t.requestKey;return g&&(d.requestKey=g),this.listAuthMethods(d).then(s=>{var u;const p=s.oauth2.providers.find(c=>c.name===t.provider);if(!p)throw new Tt(new Error(`Missing or invalid provider "${t.provider}".`));const o=this.client.buildURL("/api/oauth2-redirect"),a=g?(u=this.client.cancelControllers)==null?void 0:u[g]:void 0;return a&&(a.signal.onabort=()=>{l()}),new Promise(async(c,h)=>{var f;try{await r.subscribe("@oauth2",async R=>{var C;const x=r.clientId;try{if(!R.state||x!==R.state)throw new Error("State parameters don't match.");if(R.error||!R.code)throw new Error("OAuth2 redirect error or missing code: "+R.error);const y=Object.assign({},t);delete y.provider,delete y.scopes,delete y.createData,delete y.urlCallback,(C=a==null?void 0:a.signal)!=null&&C.onabort&&(a.signal.onabort=null);const T=await this.authWithOAuth2Code(p.name,R.code,p.codeVerifier,o,t.createData,y);c(T)}catch(y){h(new Tt(y))}l()});const v={state:r.clientId};(f=t.scopes)!=null&&f.length&&(v.scope=t.scopes.join(" "));const b=this._replaceQueryParams(p.authURL+o,v);await(t.urlCallback||function(R){i?i.location.href=R:i=Vc(R)})(b)}catch(v){l(),h(new Tt(v))}})}).catch(s=>{throw l(),s})}async authRefresh(e,t){let i={method:"POST"};return i=yn("This form of authRefresh(body?, query?) is deprecated. Consider replacing it with authRefresh(options?).",i,e,t),this.client.send(this.baseCollectionPath+"/auth-refresh",i).then(r=>this.authResponse(r))}async requestPasswordReset(e,t,i){let r={method:"POST",body:{email:e}};return r=yn("This form of requestPasswordReset(email, body?, query?) is deprecated. Consider replacing it with requestPasswordReset(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-password-reset",r).then(()=>!0)}async confirmPasswordReset(e,t,i,r,l){let d={method:"POST",body:{token:e,password:t,passwordConfirm:i}};return d=yn("This form of confirmPasswordReset(token, password, passwordConfirm, body?, query?) is deprecated. Consider replacing it with confirmPasswordReset(token, password, passwordConfirm, options?).",d,r,l),this.client.send(this.baseCollectionPath+"/confirm-password-reset",d).then(()=>!0)}async requestVerification(e,t,i){let r={method:"POST",body:{email:e}};return r=yn("This form of requestVerification(email, body?, query?) is deprecated. Consider replacing it with requestVerification(email, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-verification",r).then(()=>!0)}async confirmVerification(e,t,i){let r={method:"POST",body:{token:e}};return r=yn("This form of confirmVerification(token, body?, query?) is deprecated. Consider replacing it with confirmVerification(token, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/confirm-verification",r).then(()=>{const l=wi(e),d=this.client.authStore.record;return d&&!d.verified&&d.id===l.id&&d.collectionId===l.collectionId&&(d.verified=!0,this.client.authStore.save(this.client.authStore.token,d)),!0})}async requestEmailChange(e,t,i){let r={method:"POST",body:{newEmail:e}};return r=yn("This form of requestEmailChange(newEmail, body?, query?) is deprecated. Consider replacing it with requestEmailChange(newEmail, options?).",r,t,i),this.client.send(this.baseCollectionPath+"/request-email-change",r).then(()=>!0)}async confirmEmailChange(e,t,i,r){let l={method:"POST",body:{token:e,password:t}};return l=yn("This form of confirmEmailChange(token, password, body?, query?) is deprecated. Consider replacing it with confirmEmailChange(token, password, options?).",l,i,r),this.client.send(this.baseCollectionPath+"/confirm-email-change",l).then(()=>{const d=wi(e),g=this.client.authStore.record;return g&&g.id===d.id&&g.collectionId===d.collectionId&&this.client.authStore.clear(),!0})}async listExternalAuths(e,t){return this.client.collection("_externalAuths").getFullList(Object.assign({},t,{filter:this.client.filter("recordRef = {:id}",{id:e})}))}async unlinkExternalAuth(e,t,i){const r=await this.client.collection("_externalAuths").getFirstListItem(this.client.filter("recordRef = {:recordId} && provider = {:provider}",{recordId:e,provider:t}));return this.client.collection("_externalAuths").delete(r.id,i).then(()=>!0)}async requestOTP(e,t){return t=Object.assign({method:"POST",body:{email:e}},t),this.client.send(this.baseCollectionPath+"/request-otp",t)}async authWithOTP(e,t,i){return i=Object.assign({method:"POST",body:{otpId:e,password:t}},i),this.client.send(this.baseCollectionPath+"/auth-with-otp",i).then(r=>this.authResponse(r))}async impersonate(e,t,i){(i=Object.assign({method:"POST",body:{duration:t}},i)).headers=i.headers||{},i.headers.Authorization||(i.headers.Authorization=this.client.authStore.token);const r=new Bd(this.client.baseURL,new cl,this.client.lang),l=await r.send(this.baseCollectionPath+"/impersonate/"+encodeURIComponent(e),i);return r.authStore.save(l==null?void 0:l.token,this.decode((l==null?void 0:l.record)||{})),r}_replaceQueryParams(e,t={}){let i=e,r="";e.indexOf("?")>=0&&(i=e.substring(0,e.indexOf("?")),r=e.substring(e.indexOf("?")+1));const l={},d=r.split("&");for(const g of d){if(g=="")continue;const s=g.split("=");l[decodeURIComponent(s[0].replace(/\+/g," "))]=decodeURIComponent((s[1]||"").replace(/\+/g," "))}for(let g in t)t.hasOwnProperty(g)&&(t[g]==null?delete l[g]:l[g]=t[g]);r="";for(let g in l)l.hasOwnProperty(g)&&(r!=""&&(r+="&"),r+=encodeURIComponent(g.replace(/%20/g,"+"))+"="+encodeURIComponent(l[g].replace(/%20/g,"+")));return r!=""?i+"?"+r:i}}function Vc(n){if(typeof window>"u"||!(window!=null&&window.open))throw new Tt(new Error("Not in a browser context - please pass a custom urlCallback function."));let e=1024,t=768,i=window.innerWidth,r=window.innerHeight;e=e>i?i:e,t=t>r?r:t;let l=i/2-e/2,d=r/2-t/2;return window.open(n,"popup_window","width="+e+",height="+t+",top="+d+",left="+l+",resizable,menubar=no")}class Xv extends Pd{get baseCrudPath(){return"/api/collections"}async import(e,t=!1,i){return i=Object.assign({method:"PUT",body:{collections:e,deleteMissing:t}},i),this.client.send(this.baseCrudPath+"/import",i).then(()=>!0)}async getScaffolds(e){return e=Object.assign({method:"GET"},e),this.client.send(this.baseCrudPath+"/meta/scaffolds",e)}async truncate(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(e)+"/truncate",t).then(()=>!0)}}class Zv extends Nn{async getList(e=1,t=30,i){return(i=Object.assign({method:"GET"},i)).query=Object.assign({page:e,perPage:t},i.query),this.client.send("/api/logs",i)}async getOne(e,t){if(!e)throw new Tt({url:this.client.buildURL("/api/logs/"),status:404,response:{code:404,message:"Missing required log id.",data:{}}});return t=Object.assign({method:"GET"},t),this.client.send("/api/logs/"+encodeURIComponent(e),t)}async getStats(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/logs/stats",e)}}class ey extends Nn{async check(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/health",e)}}class ty extends Nn{getUrl(e,t,i={}){return console.warn("Please replace pb.files.getUrl() with pb.files.getURL()"),this.getURL(e,t,i)}getURL(e,t,i={}){if(!t||!(e!=null&&e.id)||!(e!=null&&e.collectionId)&&!(e!=null&&e.collectionName))return"";const r=[];r.push("api"),r.push("files"),r.push(encodeURIComponent(e.collectionId||e.collectionName)),r.push(encodeURIComponent(e.id)),r.push(encodeURIComponent(t));let l=this.client.buildURL(r.join("/"));if(Object.keys(i).length){i.download===!1&&delete i.download;const d=new URLSearchParams(i);l+=(l.includes("?")?"&":"?")+d}return l}async getToken(e){return e=Object.assign({method:"POST"},e),this.client.send("/api/files/token",e).then(t=>(t==null?void 0:t.token)||"")}}class ny extends Nn{async getFullList(e){return e=Object.assign({method:"GET"},e),this.client.send("/api/backups",e)}async create(e,t){return t=Object.assign({method:"POST",body:{name:e}},t),this.client.send("/api/backups",t).then(()=>!0)}async upload(e,t){return t=Object.assign({method:"POST",body:e},t),this.client.send("/api/backups/upload",t).then(()=>!0)}async delete(e,t){return t=Object.assign({method:"DELETE"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}`,t).then(()=>!0)}async restore(e,t){return t=Object.assign({method:"POST"},t),this.client.send(`/api/backups/${encodeURIComponent(e)}/restore`,t).then(()=>!0)}getDownloadUrl(e,t){return console.warn("Please replace pb.backups.getDownloadUrl() with pb.backups.getDownloadURL()"),this.getDownloadURL(e,t)}getDownloadURL(e,t){return this.client.buildURL(`/api/backups/${encodeURIComponent(t)}?token=${encodeURIComponent(e)}`)}}function Sa(n){return typeof Blob<"u"&&n instanceof Blob||typeof File<"u"&&n instanceof File||n!==null&&typeof n=="object"&&n.uri&&(typeof navigator<"u"&&navigator.product==="ReactNative"||typeof global<"u"&&global.HermesInternal)}function Ca(n){return n&&(n.constructor.name==="FormData"||typeof FormData<"u"&&n instanceof FormData)}function Kc(n){for(const e in n){const t=Array.isArray(n[e])?n[e]:[n[e]];for(const i of t)if(Sa(i))return!0}return!1}const iy=/^[\-\.\d]+$/;function Gc(n){if(typeof n!="string")return n;if(n=="true")return!0;if(n=="false")return!1;if((n[0]==="-"||n[0]>="0"&&n[0]<="9")&&iy.test(n)){let e=+n;if(""+e===n)return e}return n}class ry extends Nn{constructor(){super(...arguments),this.requests=[],this.subs={}}collection(e){return this.subs[e]||(this.subs[e]=new oy(this.requests,e)),this.subs[e]}async send(e){const t=new FormData,i=[];for(let r=0;r<this.requests.length;r++){const l=this.requests[r];if(i.push({method:l.method,url:l.url,headers:l.headers,body:l.json}),l.files)for(let d in l.files){const g=l.files[d]||[];for(let s of g)t.append("requests."+r+"."+d,s)}}return t.append("@jsonPayload",JSON.stringify({requests:i})),e=Object.assign({method:"POST",body:t},e),this.client.send("/api/batch",e)}}class oy{constructor(e,t){this.requests=[],this.requests=e,this.collectionIdOrName=t}upsert(e,t){t=Object.assign({body:e||{}},t);const i={method:"PUT",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}create(e,t){t=Object.assign({body:e||{}},t);const i={method:"POST",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records"};this.prepareRequest(i,t),this.requests.push(i)}update(e,t,i){i=Object.assign({body:t||{}},i);const r={method:"PATCH",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(r,i),this.requests.push(r)}delete(e,t){t=Object.assign({},t);const i={method:"DELETE",url:"/api/collections/"+encodeURIComponent(this.collectionIdOrName)+"/records/"+encodeURIComponent(e)};this.prepareRequest(i,t),this.requests.push(i)}prepareRequest(e,t){if(ul(t),e.headers=t.headers,e.json={},e.files={},t.query!==void 0){const r=Nd(t.query);r&&(e.url+=(e.url.includes("?")?"&":"?")+r)}let i=t.body;Ca(i)&&(i=function(l){let d={};return l.forEach((g,s)=>{if(s==="@jsonPayload"&&typeof g=="string")try{let p=JSON.parse(g);Object.assign(d,p)}catch(p){console.warn("@jsonPayload error:",p)}else d[s]!==void 0?(Array.isArray(d[s])||(d[s]=[d[s]]),d[s].push(Gc(g))):d[s]=Gc(g)}),d}(i));for(const r in i){const l=i[r];if(Sa(l))e.files[r]=e.files[r]||[],e.files[r].push(l);else if(Array.isArray(l)){const d=[],g=[];for(const s of l)Sa(s)?d.push(s):g.push(s);if(d.length>0&&d.length==l.length){e.files[r]=e.files[r]||[];for(let s of d)e.files[r].push(s)}else if(e.json[r]=g,d.length>0){let s=r;r.startsWith("+")||r.endsWith("+")||(s+="+"),e.files[s]=e.files[s]||[];for(let p of d)e.files[s].push(p)}}else e.json[r]=l}}}class Bd{get baseUrl(){return this.baseURL}set baseUrl(e){this.baseURL=e}constructor(e="/",t,i="en-US"){this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseURL=e,this.lang=i,t?this.authStore=t:typeof window<"u"&&window.Deno?this.authStore=new cl:this.authStore=new Yv,this.collections=new Xv(this),this.files=new ty(this),this.logs=new Zv(this),this.settings=new qv(this),this.realtime=new Fd(this),this.health=new ey(this),this.backups=new ny(this)}get admins(){return this.collection("_superusers")}createBatch(){return new ry(this)}collection(e){return this.recordServices[e]||(this.recordServices[e]=new Qv(this,e)),this.recordServices[e]}autoCancellation(e){return this.enableAutoCancellation=!!e,this}cancelRequest(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this}cancelAllRequests(){for(let e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this}filter(e,t){if(!t)return e;for(let i in t){let r=t[i];switch(typeof r){case"boolean":case"number":r=""+r;break;case"string":r="'"+r.replace(/'/g,"\\'")+"'";break;default:r=r===null?"null":r instanceof Date?"'"+r.toISOString().replace("T"," ")+"'":"'"+JSON.stringify(r).replace(/'/g,"\\'")+"'"}e=e.replaceAll("{:"+i+"}",r)}return e}getFileUrl(e,t,i={}){return console.warn("Please replace pb.getFileUrl() with pb.files.getURL()"),this.files.getURL(e,t,i)}buildUrl(e){return console.warn("Please replace pb.buildUrl() with pb.buildURL()"),this.buildURL(e)}buildURL(e){var i;let t=this.baseURL;return typeof window>"u"||!window.location||t.startsWith("https://")||t.startsWith("http://")||(t=(i=window.location.origin)!=null&&i.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseURL.startsWith("/")||(t+=window.location.pathname||"/",t+=t.endsWith("/")?"":"/"),t+=this.baseURL),e&&(t+=t.endsWith("/")?"":"/",t+=e.startsWith("/")?e.substring(1):e),t}async send(e,t){t=this.initSendOptions(e,t);let i=this.buildURL(e);if(this.beforeSend){const r=Object.assign({},await this.beforeSend(i,t));r.url!==void 0||r.options!==void 0?(i=r.url||i,t=r.options||t):Object.keys(r).length&&(t=r,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`."))}if(t.query!==void 0){const r=Nd(t.query);r&&(i+=(i.includes("?")?"&":"?")+r),delete t.query}return this.getHeader(t.headers,"Content-Type")=="application/json"&&t.body&&typeof t.body!="string"&&(t.body=JSON.stringify(t.body)),(t.fetch||fetch)(i,t).then(async r=>{let l={};try{l=await r.json()}catch{}if(this.afterSend&&(l=await this.afterSend(r,l,t)),r.status>=400)throw new Tt({url:r.url,status:r.status,data:l});return l}).catch(r=>{throw new Tt(r)})}initSendOptions(e,t){if((t=Object.assign({method:"GET"},t)).body=function(r){if(typeof FormData>"u"||r===void 0||typeof r!="object"||r===null||Ca(r)||!Kc(r))return r;const l=new FormData;for(const d in r){const g=r[d];if(typeof g!="object"||Kc({data:g})){const s=Array.isArray(g)?g:[g];for(let p of s)l.append(d,p)}else{let s={};s[d]=g,l.append("@jsonPayload",JSON.stringify(s))}}return l}(t.body),ul(t),t.query=Object.assign({},t.params,t.query),t.requestKey===void 0&&(t.$autoCancel===!1||t.query.$autoCancel===!1?t.requestKey=null:(t.$cancelKey||t.query.$cancelKey)&&(t.requestKey=t.$cancelKey||t.query.$cancelKey)),delete t.$autoCancel,delete t.query.$autoCancel,delete t.$cancelKey,delete t.query.$cancelKey,this.getHeader(t.headers,"Content-Type")!==null||Ca(t.body)||(t.headers=Object.assign({},t.headers,{"Content-Type":"application/json"})),this.getHeader(t.headers,"Accept-Language")===null&&(t.headers=Object.assign({},t.headers,{"Accept-Language":this.lang})),this.authStore.token&&this.getHeader(t.headers,"Authorization")===null&&(t.headers=Object.assign({},t.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&t.requestKey!==null){const i=t.requestKey||(t.method||"GET")+e;delete t.requestKey,this.cancelRequest(i);const r=new AbortController;this.cancelControllers[i]=r,t.signal=r.signal}return t}getHeader(e,t){e=e||{},t=t.toLowerCase();for(let i in e)if(i.toLowerCase()==t)return e[i];return null}}const Xe=new Bd("http://0.0.0.0:8080");function sy(n){return Va()?(Ka(n),!0):!1}function wt(n){return typeof n=="function"?n():ke(n)}const Wd=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const QS=n=>n!=null,ay=Object.prototype.toString,ly=n=>ay.call(n)==="[object Object]",dn=()=>{},cy=uy();function uy(){var n,e;return Wd&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function hl(n,e){function t(...i){return new Promise((r,l)=>{Promise.resolve(n(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(l)})}return t}const Hd=n=>n();function hy(n,e={}){let t,i,r=dn;const l=g=>{clearTimeout(g),r(),r=dn};return g=>{const s=wt(n),p=wt(e.maxWait);return t&&l(t),s<=0||p!==void 0&&p<=0?(i&&(l(i),i=null),Promise.resolve(g())):new Promise((o,a)=>{r=e.rejectOnCancel?a:o,p&&!i&&(i=setTimeout(()=>{t&&l(t),i=null,o(g())},p)),t=setTimeout(()=>{i&&l(i),i=null,o(g())},s)})}}function dy(...n){let e=0,t,i=!0,r=dn,l,d,g,s,p;!Ge(n[0])&&typeof n[0]=="object"?{delay:d,trailing:g=!0,leading:s=!0,rejectOnCancel:p=!1}=n[0]:[d,g=!0,s=!0,p=!1]=n;const o=()=>{t&&(clearTimeout(t),t=void 0,r(),r=dn)};return u=>{const c=wt(d),h=Date.now()-e,f=()=>l=u();return o(),c<=0?(e=Date.now(),f()):(h>c&&(s||!i)?(e=Date.now(),f()):g&&(l=new Promise((v,b)=>{r=p?b:v,t=setTimeout(()=>{e=Date.now(),i=!0,v(f()),o()},Math.max(0,c-h))})),!s&&!t&&(t=setTimeout(()=>i=!0,c)),i=!1,l)}}function fy(n=Hd){const e=Ie(!0);function t(){e.value=!1}function i(){e.value=!0}const r=(...l)=>{e.value&&n(...l)};return{isActive:Wo(e),pause:t,resume:i,eventFilter:r}}function jd(n){return sl()}function XS(...n){if(n.length!==1)return Eh(...n);const e=n[0];return typeof e=="function"?Wo(Fp(()=>({get:e,set:dn}))):Ie(e)}function ZS(n,e=200,t={}){return hl(hy(e,t),n)}function eC(n,e=200,t=!1,i=!0,r=!1){return hl(dy(e,t,i,r),n)}function py(n,e,t={}){const{eventFilter:i=Hd,...r}=t;return Et(n,hl(i,e),r)}function gy(n,e,t={}){const{eventFilter:i,...r}=t,{eventFilter:l,pause:d,resume:g,isActive:s}=fy(i);return{stop:py(n,e,{...r,eventFilter:l}),pause:d,resume:g,isActive:s}}function my(n,e=!0,t){jd()?gn(n,t):e?n():Ri(n)}function tC(n,e){jd()&&Ko(n,e)}function nC(n,e){return vt(()=>wt(wt(n).find((t,i,r)=>e(wt(t),i,r))))}function iC(n,e){return vt(()=>wt(n).findIndex((t,i,r)=>e(wt(t),i,r)))}const So=Wd?window:void 0;function Yi(n){var e;const t=wt(n);return(e=t==null?void 0:t.$el)!=null?e:t}function rr(...n){let e,t,i,r;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,i,r]=n,e=So):[e,t,i,r]=n,!e)return dn;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const l=[],d=()=>{l.forEach(o=>o()),l.length=0},g=(o,a,u,c)=>(o.addEventListener(a,u,c),()=>o.removeEventListener(a,u,c)),s=Et(()=>[Yi(e),wt(r)],([o,a])=>{if(d(),!o)return;const u=ly(a)?{...a}:a;l.push(...t.flatMap(c=>i.map(h=>g(o,c,h,u))))},{immediate:!0,flush:"post"}),p=()=>{s(),d()};return sy(p),p}let Yc=!1;function vy(n,e,t={}){const{window:i=So,ignore:r=[],capture:l=!0,detectIframe:d=!1}=t;if(!i)return dn;cy&&!Yc&&(Yc=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",dn)),i.document.documentElement.addEventListener("click",dn));let g=!0;const s=f=>wt(r).some(v=>{if(typeof v=="string")return Array.from(i.document.querySelectorAll(v)).some(b=>b===f.target||f.composedPath().includes(b));{const b=Yi(v);return b&&(f.target===b||f.composedPath().includes(b))}});function p(f){const v=wt(f);return v&&v.$.subTree.shapeFlag===16}function o(f,v){const b=wt(f),S=b.$.subTree&&b.$.subTree.children;return S==null||!Array.isArray(S)?!1:S.some(R=>R.el===v.target||v.composedPath().includes(R.el))}const a=f=>{const v=Yi(n);if(f.target!=null&&!(!(v instanceof Element)&&p(n)&&o(n,f))&&!(!v||v===f.target||f.composedPath().includes(v))){if(f.detail===0&&(g=!s(f)),!g){g=!0;return}e(f)}};let u=!1;const c=[rr(i,"click",f=>{u||(u=!0,setTimeout(()=>{u=!1},0),a(f))},{passive:!0,capture:l}),rr(i,"pointerdown",f=>{const v=Yi(n);g=!s(f)&&!!(v&&!f.composedPath().includes(v))},{passive:!0}),d&&rr(i,"blur",f=>{setTimeout(()=>{var v;const b=Yi(n);((v=i.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(b!=null&&b.contains(i.document.activeElement))&&e(f)},0)})].filter(Boolean);return()=>c.forEach(f=>f())}const Gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr="__vueuse_ssr_handlers__",yy=by();function by(){return Yr in Gr||(Gr[Yr]=Gr[Yr]||{}),Gr[Yr]}function wy(n,e){return yy[n]||e}function Ay(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const Sy={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},qc="vueuse-storage";function es(n,e,t,i={}){var r;const{flush:l="pre",deep:d=!0,listenToStorageChanges:g=!0,writeDefaults:s=!0,mergeDefaults:p=!1,shallow:o,window:a=So,eventFilter:u,onError:c=k=>{console.error(k)},initOnMounted:h}=i,f=(o?Za:Ie)(e);if(!t)try{t=wy("getDefaultStorage",()=>{var k;return(k=So)==null?void 0:k.localStorage})()}catch(k){c(k)}if(!t)return f;const v=wt(e),b=Ay(v),S=(r=i.serializer)!=null?r:Sy[b],{pause:R,resume:x}=gy(f,()=>y(f.value),{flush:l,deep:d,eventFilter:u});a&&g&&my(()=>{t instanceof Storage?rr(a,"storage",L):rr(a,qc,_),h&&L()}),h||L();function C(k,I){if(a){const w={key:n,oldValue:k,newValue:I,storageArea:t};a.dispatchEvent(t instanceof Storage?new StorageEvent("storage",w):new CustomEvent(qc,{detail:w}))}}function y(k){try{const I=t.getItem(n);if(k==null)C(I,null),t.removeItem(n);else{const w=S.write(k);I!==w&&(t.setItem(n,w),C(I,w))}}catch(I){c(I)}}function T(k){const I=k?k.newValue:t.getItem(n);if(I==null)return s&&v!=null&&t.setItem(n,S.write(v)),v;if(!k&&p){const w=S.read(I);return typeof p=="function"?p(w,v):b==="object"&&!Array.isArray(w)?{...v,...w}:w}else return typeof I!="string"?I:S.read(I)}function L(k){if(!(k&&k.storageArea!==t)){if(k&&k.key==null){f.value=v;return}if(!(k&&k.key!==n)){R();try{(k==null?void 0:k.newValue)!==S.write(f.value)&&(f.value=T(k))}catch(I){c(I)}finally{k?Ri(x):x()}}}}function _(k){L(k.detail)}return f}function Es({type:n,collection:e=null,condition:t="admin__only"}){var l,d,g;if((l=Xe==null?void 0:Xe.authStore)!=null&&l.isSuperuser)return!0;let i=es("employee");i=JSON.parse(i.value);const r=((g=(d=i==null?void 0:i.expand)==null?void 0:d.roles)==null?void 0:g.name)==="Admin";return(n==="navigation"||n==="add")&&t==="admin__only"?r:!1}const Cy={__name:"DropdownNav",setup(n){const e=Ie(!1),t=Ie();function i(){e.value=!e.value}return vy(t,()=>e.value=!1),(r,l)=>(he(),ye("div",{class:fn(["navbar-item has-dropdown mr-4",e.value&&"is-active"]),ref_key:"target",ref:t},[ue("a",{class:"navbar-link",onClick:i},[St(r.$slots,"label")]),Ke(fd,null,{default:Rn(()=>[St(r.$slots,"dropdown")]),_:3})],2))}},xy=["src"],zd={__name:"Avatar",props:{filename:{type:String,default:""},record:{type:Object,default:null},size:{type:String,default:"1024x1024"}},setup(n){const e=n;return(t,i)=>e.filename!==""?(he(),ye(Ve,{key:0},[e.record!==null?(he(),ye("img",{key:0,class:fn(`image is-${e.size}`),src:ke(Xe).files.getURL(e.record,e.filename,{thumb:n.size}),alt:""},null,10,xy)):Me("",!0)],64)):Me("",!0)}},Mi=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},Ey={class:"navbar has-border-bottom is-fixed-top navbar-border-bottom",role:"navigation","aria-label":"main navigation"},Ty={id:"navbarBasicExample",class:"navbar-menu"},ky={class:"navbar-start"},_y={class:"navbar-end"},Ly={__name:"TopNav",setup(n){const e=zv();let t=es("employee");t=JSON.parse(t.value);const i=Ie({start:[{name:"dashboard",label:"Dashboard",href:"/",isActive:()=>e.path==="/",isChild:!1,isAllowed:!0},{name:"employee",label:"Employee",href:"/employee",isActive:()=>!!e.path.startsWith("/employee"),isChild:!1,isAllowed:!0},{name:"leave",label:"Leave",href:"/leave",isActive:()=>!!e.path.startsWith("/leave"),isChild:!1,isAllowed:!0},{name:"attendance",label:"Attendance",href:"/attendance",isActive:()=>!!e.path.startsWith("/attendance"),isChild:!1,isAllowed:!0},{name:"payroll",label:"Payroll",href:"/payroll/payroll_list",isActive:()=>!!e.path.startsWith("/payroll"),isChild:!1,isAllowed:Es({type:"navigation"})},{name:"payslip_list",label:"Payslip",href:"/payslip_list",isActive:()=>!!e.path.startsWith("/payslip_list"),isChild:!1,isAllowed:!0},{name:"import",label:"Import",href:"/import",isActive:()=>!!e.path.startsWith("/import"),isChild:!1,isAllowed:Es({type:"navigation"})},{name:"settings",label:"Settings",href:"/settings/collection/users",isActive:()=>!!e.path.includes("/settings/collection"),isChild:!1,isAllowed:Es({type:"navigation"})}]});function r(){Xe.authStore.clear()}return(l,d)=>(he(),ye("nav",Ey,[d[0]||(d[0]=ue("div",{class:"navbar-brand"},[ue("a",{href:"/",class:"navbar-item"},[ue("img",{style:{"margin-bottom":"10px"},height:"15",src:Bm})])],-1)),ue("div",Ty,[ue("div",ky,[(he(!0),ye(Ve,null,yr(i.value.start,g=>(he(),ye(Ve,null,[g.isAllowed?(he(),st(ke(Dd),{key:0,class:fn(["navbar-item",g.isActive()&&"is-active-nav"]),to:g.href},{default:Rn(()=>[Ci(it(g.label),1)]),_:2},1032,["class","to"])):Me("",!0)],64))),256))]),ue("div",_y,[Ke(Cy,null,{label:Rn(()=>{var g;return[ue("span",null,it(ke(Xe).authStore.record.name.split(" ")[0]),1),Ke(zd,{filename:(g=ke(t))==null?void 0:g.photo,record:ke(t),size:"25x24"},null,8,["filename","record"])]}),dropdown:Rn(()=>[ue("div",{class:"navbar-dropdown is-boxed"},[ue("a",{class:"navbar-item",onClick:r}," Log out ")])]),_:1})])])]))}},Ry=Mi(Ly,[["__scopeId","data-v-dc339553"]]);function My(n){var e;const t=Op(n);return(e=t==null?void 0:t.$el)!=null?e:t}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ud=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Co=Ud.join(","),Vd=typeof Element>"u",Zn=Vd?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xo=!Vd&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Eo=function n(e,t){var i;t===void 0&&(t=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),l=r===""||r==="true",d=l||t&&e&&n(e.parentNode);return d},$y=function(e){var t,i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return i===""||i==="true"},Kd=function(e,t,i){if(Eo(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(Co));return t&&Zn.call(e,Co)&&r.unshift(e),r=r.filter(i),r},Gd=function n(e,t,i){for(var r=[],l=Array.from(e);l.length;){var d=l.shift();if(!Eo(d,!1))if(d.tagName==="SLOT"){var g=d.assignedElements(),s=g.length?g:d.children,p=n(s,!0,i);i.flatten?r.push.apply(r,p):r.push({scopeParent:d,candidates:p})}else{var o=Zn.call(d,Co);o&&i.filter(d)&&(t||!e.includes(d))&&r.push(d);var a=d.shadowRoot||typeof i.getShadowRoot=="function"&&i.getShadowRoot(d),u=!Eo(a,!1)&&(!i.shadowRootFilter||i.shadowRootFilter(d));if(a&&u){var c=n(a===!0?d.children:a.children,!0,i);i.flatten?r.push.apply(r,c):r.push({scopeParent:d,candidates:c})}else l.unshift.apply(l,d.children)}}return r},Yd=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Vn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||$y(e))&&!Yd(e)?0:e.tabIndex},Dy=function(e,t){var i=Vn(e);return i<0&&t&&!Yd(e)?0:i},Oy=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},qd=function(e){return e.tagName==="INPUT"},Iy=function(e){return qd(e)&&e.type==="hidden"},Ny=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},Fy=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},Py=function(e){if(!e.name)return!0;var t=e.form||xo(e),i=function(g){return t.querySelectorAll('input[type="radio"][name="'+g+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(d){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",d.message),!1}var l=Fy(r,e.form);return!l||l===e},By=function(e){return qd(e)&&e.type==="radio"},Wy=function(e){return By(e)&&!Py(e)},Hy=function(e){var t,i=e&&xo(e),r=(t=i)===null||t===void 0?void 0:t.host,l=!1;if(i&&i!==e){var d,g,s;for(l=!!((d=r)!==null&&d!==void 0&&(g=d.ownerDocument)!==null&&g!==void 0&&g.contains(r)||e!=null&&(s=e.ownerDocument)!==null&&s!==void 0&&s.contains(e));!l&&r;){var p,o,a;i=xo(r),r=(p=i)===null||p===void 0?void 0:p.host,l=!!((o=r)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(r))}}return l},Jc=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},jy=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=Zn.call(e,"details>summary:first-of-type"),d=l?e.parentElement:e;if(Zn.call(d,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var g=e;e;){var s=e.parentElement,p=xo(e);if(s&&!s.shadowRoot&&r(s)===!0)return Jc(e);e.assignedSlot?e=e.assignedSlot:!s&&p!==e.ownerDocument?e=p.host:e=s}e=g}if(Hy(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Jc(e);return!1},zy=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return Zn.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},To=function(e,t){return!(t.disabled||Eo(t)||Iy(t)||jy(t,e)||Ny(t)||zy(t))},xa=function(e,t){return!(Wy(t)||Vn(t)<0||!To(e,t))},Uy=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Vy=function n(e){var t=[],i=[];return e.forEach(function(r,l){var d=!!r.scopeParent,g=d?r.scopeParent:r,s=Dy(g,d),p=d?n(r.candidates):g;s===0?d?t.push.apply(t,p):t.push(g):i.push({documentOrder:l,tabIndex:s,item:r,isScope:d,content:p})}),i.sort(Oy).reduce(function(r,l){return l.isScope?r.push.apply(r,l.content):r.push(l.content),r},[]).concat(t)},Ky=function(e,t){t=t||{};var i;return t.getShadowRoot?i=Gd([e],t.includeContainer,{filter:xa.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Uy}):i=Kd(e,t.includeContainer,xa.bind(null,t)),Vy(i)},Gy=function(e,t){t=t||{};var i;return t.getShadowRoot?i=Gd([e],t.includeContainer,{filter:To.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):i=Kd(e,t.includeContainer,To.bind(null,t)),i},ui=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Zn.call(e,Co)===!1?!1:xa(t,e)},Yy=Ud.concat("iframe").join(","),Ts=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Zn.call(e,Yy)===!1?!1:To(t,e)};/*!
* focus-trap 7.6.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Ea(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function qy(n){if(Array.isArray(n))return Ea(n)}function Jy(n,e,t){return(e=tb(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qy(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Xy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qc(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Xc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qc(Object(t),!0).forEach(function(i){Jy(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qc(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Zy(n){return qy(n)||Qy(n)||nb(n)||Xy()}function eb(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function tb(n){var e=eb(n,"string");return typeof e=="symbol"?e:e+""}function nb(n,e){if(n){if(typeof n=="string")return Ea(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ea(n,e):void 0}}var Zc={activateTrap:function(e,t){if(e.length>0){var i=e[e.length-1];i!==t&&i._setPausedState(!0)}var r=e.indexOf(t);r===-1||e.splice(r,1),e.push(t)},deactivateTrap:function(e,t){var i=e.indexOf(t);i!==-1&&e.splice(i,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},ib=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},rb=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},or=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},ob=function(e){return or(e)&&!e.shiftKey},sb=function(e){return or(e)&&e.shiftKey},eu=function(e){return setTimeout(e,0)},Bi=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,i):e},qr=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},ab=[],lb=function(e,t){var i=(t==null?void 0:t.document)||document,r=(t==null?void 0:t.trapStack)||ab,l=Xc({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:ob,isKeyBackward:sb},t),d={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},g,s=function(m,A,E){return m&&m[A]!==void 0?m[A]:l[E||A]},p=function(m,A){var E=typeof(A==null?void 0:A.composedPath)=="function"?A.composedPath():void 0;return d.containerGroups.findIndex(function(M){var O=M.container,$=M.tabbableNodes;return O.contains(m)||(E==null?void 0:E.includes(O))||$.find(function(D){return D===m})})},o=function(m){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},E=A.hasFallback,M=E===void 0?!1:E,O=A.params,$=O===void 0?[]:O,D=l[m];if(typeof D=="function"&&(D=D.apply(void 0,Zy($))),D===!0&&(D=void 0),!D){if(D===void 0||D===!1)return D;throw new Error("`".concat(m,"` was specified but was not a node, or did not return a node"))}var N=D;if(typeof D=="string"){try{N=i.querySelector(D)}catch(F){throw new Error("`".concat(m,'` appears to be an invalid selector; error="').concat(F.message,'"'))}if(!N&&!M)throw new Error("`".concat(m,"` as selector refers to no known node"))}return N},a=function(){var m=o("initialFocus",{hasFallback:!0});if(m===!1)return!1;if(m===void 0||m&&!Ts(m,l.tabbableOptions))if(p(i.activeElement)>=0)m=i.activeElement;else{var A=d.tabbableGroups[0],E=A&&A.firstTabbableNode;m=E||o("fallbackFocus")}else m===null&&(m=o("fallbackFocus"));if(!m)throw new Error("Your focus-trap needs to have at least one focusable element");return m},u=function(){if(d.containerGroups=d.containers.map(function(m){var A=Ky(m,l.tabbableOptions),E=Gy(m,l.tabbableOptions),M=A.length>0?A[0]:void 0,O=A.length>0?A[A.length-1]:void 0,$=E.find(function(F){return ui(F)}),D=E.slice().reverse().find(function(F){return ui(F)}),N=!!A.find(function(F){return Vn(F)>0});return{container:m,tabbableNodes:A,focusableNodes:E,posTabIndexesFound:N,firstTabbableNode:M,lastTabbableNode:O,firstDomTabbableNode:$,lastDomTabbableNode:D,nextTabbableNode:function(z){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,j=A.indexOf(z);return j<0?P?E.slice(E.indexOf(z)+1).find(function(G){return ui(G)}):E.slice(0,E.indexOf(z)).reverse().find(function(G){return ui(G)}):A[j+(P?1:-1)]}}}),d.tabbableGroups=d.containerGroups.filter(function(m){return m.tabbableNodes.length>0}),d.tabbableGroups.length<=0&&!o("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(d.containerGroups.find(function(m){return m.posTabIndexesFound})&&d.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},c=function(m){var A=m.activeElement;if(A)return A.shadowRoot&&A.shadowRoot.activeElement!==null?c(A.shadowRoot):A},h=function(m){if(m!==!1&&m!==c(document)){if(!m||!m.focus){h(a());return}m.focus({preventScroll:!!l.preventScroll}),d.mostRecentlyFocusedNode=m,ib(m)&&m.select()}},f=function(m){var A=o("setReturnFocus",{params:[m]});return A||(A===!1?!1:m)},v=function(m){var A=m.target,E=m.event,M=m.isBackward,O=M===void 0?!1:M;A=A||qr(E),u();var $=null;if(d.tabbableGroups.length>0){var D=p(A,E),N=D>=0?d.containerGroups[D]:void 0;if(D<0)O?$=d.tabbableGroups[d.tabbableGroups.length-1].lastTabbableNode:$=d.tabbableGroups[0].firstTabbableNode;else if(O){var F=d.tabbableGroups.findIndex(function(W){var Y=W.firstTabbableNode;return A===Y});if(F<0&&(N.container===A||Ts(A,l.tabbableOptions)&&!ui(A,l.tabbableOptions)&&!N.nextTabbableNode(A,!1))&&(F=D),F>=0){var z=F===0?d.tabbableGroups.length-1:F-1,P=d.tabbableGroups[z];$=Vn(A)>=0?P.lastTabbableNode:P.lastDomTabbableNode}else or(E)||($=N.nextTabbableNode(A,!1))}else{var j=d.tabbableGroups.findIndex(function(W){var Y=W.lastTabbableNode;return A===Y});if(j<0&&(N.container===A||Ts(A,l.tabbableOptions)&&!ui(A,l.tabbableOptions)&&!N.nextTabbableNode(A))&&(j=D),j>=0){var G=j===d.tabbableGroups.length-1?0:j+1,H=d.tabbableGroups[G];$=Vn(A)>=0?H.firstTabbableNode:H.firstDomTabbableNode}else or(E)||($=N.nextTabbableNode(A))}}else $=o("fallbackFocus");return $},b=function(m){var A=qr(m);if(!(p(A,m)>=0)){if(Bi(l.clickOutsideDeactivates,m)){g.deactivate({returnFocus:l.returnFocusOnDeactivate});return}Bi(l.allowOutsideClick,m)||m.preventDefault()}},S=function(m){var A=qr(m),E=p(A,m)>=0;if(E||A instanceof Document)E&&(d.mostRecentlyFocusedNode=A);else{m.stopImmediatePropagation();var M,O=!0;if(d.mostRecentlyFocusedNode)if(Vn(d.mostRecentlyFocusedNode)>0){var $=p(d.mostRecentlyFocusedNode),D=d.containerGroups[$].tabbableNodes;if(D.length>0){var N=D.findIndex(function(F){return F===d.mostRecentlyFocusedNode});N>=0&&(l.isKeyForward(d.recentNavEvent)?N+1<D.length&&(M=D[N+1],O=!1):N-1>=0&&(M=D[N-1],O=!1))}}else d.containerGroups.some(function(F){return F.tabbableNodes.some(function(z){return Vn(z)>0})})||(O=!1);else O=!1;O&&(M=v({target:d.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(d.recentNavEvent)})),h(M||d.mostRecentlyFocusedNode||a())}d.recentNavEvent=void 0},R=function(m){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d.recentNavEvent=m;var E=v({event:m,isBackward:A});E&&(or(m)&&m.preventDefault(),h(E))},x=function(m){(l.isKeyForward(m)||l.isKeyBackward(m))&&R(m,l.isKeyBackward(m))},C=function(m){rb(m)&&Bi(l.escapeDeactivates,m)!==!1&&(m.preventDefault(),g.deactivate())},y=function(m){var A=qr(m);p(A,m)>=0||Bi(l.clickOutsideDeactivates,m)||Bi(l.allowOutsideClick,m)||(m.preventDefault(),m.stopImmediatePropagation())},T=function(){if(d.active)return Zc.activateTrap(r,g),d.delayInitialFocusTimer=l.delayInitialFocus?eu(function(){h(a())}):h(a()),i.addEventListener("focusin",S,!0),i.addEventListener("mousedown",b,{capture:!0,passive:!1}),i.addEventListener("touchstart",b,{capture:!0,passive:!1}),i.addEventListener("click",y,{capture:!0,passive:!1}),i.addEventListener("keydown",x,{capture:!0,passive:!1}),i.addEventListener("keydown",C),g},L=function(){if(d.active)return i.removeEventListener("focusin",S,!0),i.removeEventListener("mousedown",b,!0),i.removeEventListener("touchstart",b,!0),i.removeEventListener("click",y,!0),i.removeEventListener("keydown",x,!0),i.removeEventListener("keydown",C),g},_=function(m){var A=m.some(function(E){var M=Array.from(E.removedNodes);return M.some(function(O){return O===d.mostRecentlyFocusedNode})});A&&h(a())},k=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(_):void 0,I=function(){k&&(k.disconnect(),d.active&&!d.paused&&d.containers.map(function(m){k.observe(m,{subtree:!0,childList:!0})}))};return g={get active(){return d.active},get paused(){return d.paused},activate:function(m){if(d.active)return this;var A=s(m,"onActivate"),E=s(m,"onPostActivate"),M=s(m,"checkCanFocusTrap");M||u(),d.active=!0,d.paused=!1,d.nodeFocusedBeforeActivation=i.activeElement,A==null||A();var O=function(){M&&u(),T(),I(),E==null||E()};return M?(M(d.containers.concat()).then(O,O),this):(O(),this)},deactivate:function(m){if(!d.active)return this;var A=Xc({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},m);clearTimeout(d.delayInitialFocusTimer),d.delayInitialFocusTimer=void 0,L(),d.active=!1,d.paused=!1,I(),Zc.deactivateTrap(r,g);var E=s(A,"onDeactivate"),M=s(A,"onPostDeactivate"),O=s(A,"checkCanReturnFocus"),$=s(A,"returnFocus","returnFocusOnDeactivate");E==null||E();var D=function(){eu(function(){$&&h(f(d.nodeFocusedBeforeActivation)),M==null||M()})};return $&&O?(O(f(d.nodeFocusedBeforeActivation)).then(D,D),this):(D(),this)},pause:function(m){return d.active?(d.manuallyPaused=!0,this._setPausedState(!0,m)):this},unpause:function(m){return d.active?(d.manuallyPaused=!1,r[r.length-1]!==this?this:this._setPausedState(!1,m)):this},updateContainerElements:function(m){var A=[].concat(m).filter(Boolean);return d.containers=A.map(function(E){return typeof E=="string"?i.querySelector(E):E}),d.active&&u(),I(),this}},Object.defineProperties(g,{_isManuallyPaused:{value:function(){return d.manuallyPaused}},_setPausedState:{value:function(m,A){if(d.paused===m)return this;if(d.paused=m,m){var E=s(A,"onPause"),M=s(A,"onPostPause");E==null||E(),L(),I(),M==null||M()}else{var O=s(A,"onUnpause"),$=s(A,"onPostUnpause");O==null||O(),u(),T(),I(),$==null||$()}return this}}}),g.updateContainerElements(e),g};const cb=zo({name:"UseFocusTrap",props:["as","options"],setup(n,{slots:e}){let t;const i=Ie(),r=()=>t&&t.activate(),l=()=>t&&t.deactivate();return Et(()=>My(i),d=>{d&&(t=lb(d,n.options||{}),r())},{flush:"post"}),Ka(()=>l()),()=>{if(e.default)return Or(n.as||"div",{ref:i},e.default())}}}),Jd=wd("useAuthStore",()=>{const n=Ie(Xe.authStore.record),e=Ie(!0);function t(r){n.value=r}async function i(){if(n.value)try{return await Xe.collection("employee").getOne(n.value.employee,{expand:"roles,leave_type"})}catch(r){return console.log(r),null}return null}return{currentUser:n,changeCurrentUser:t,getUserDetail:i,loading:e}}),ub={class:"hero is-fullheight"},hb={class:"hero-body"},db={class:"container has-text-centered"},fb={class:"column is-4 is-offset-4"},pb={class:"box p-6 mb-0"},gb={key:0,class:"has-text-danger mb-2"},mb={__name:"Login",setup(n){const e=Jd(),t=Ie(null),i=Ie();let r=Ie(!1);gn(()=>{r.value=!0}),Ko(()=>{r.value=!1});async function l(d){t.value=null;const g=new FormData(d.target);try{const s=await Xe.collection("users").authWithPassword(g.get("email"),g.get("password")),p=await e.getUserDetail();localStorage.setItem("employee",JSON.stringify(p)),e.loading=!1}catch(s){console.log(s)}}return(d,g)=>(he(),ye("section",ub,[ue("div",hb,[ue("div",db,[ue("div",fb,[ue("div",pb,[g[3]||(g[3]=ue("p",{class:"is-size-4 has-text-weight-bold has-text-white pb-5"},"Please login to proceed",-1)),ke(r)?(he(),st(ke(cb),{key:0,options:{immediate:!0}},{default:Rn(()=>[ue("form",{novalidate:"",onSubmit:ma(l,["prevent"]),ref_key:"target",ref:i},[t.value!==null?(he(),ye("p",gb,it(t.value),1)):Me("",!0),g[0]||(g[0]=ue("div",{class:"field"},[ue("p",{class:"control has-icons-left has-icons-right"},[ue("input",{class:"input is-medium",name:"email",type:"email",placeholder:"Email"}),ue("span",{class:"icon is-medium is-left"},[ue("i",{class:"bi bi-envelope"})])])],-1)),g[1]||(g[1]=ue("div",{class:"field"},[ue("p",{class:"control has-icons-left"},[ue("input",{class:"input is-medium",name:"password",type:"password",placeholder:"Password"}),ue("span",{class:"icon is-small is-left"},[ue("i",{class:"bi bi-shield-lock"})])])],-1)),g[2]||(g[2]=ue("div",{class:"column is-flex is-half is-offset-one-quarter"},[ue("button",{class:"button is-block is-dark is-medium"}," Login ")],-1))],544)]),_:1})):Me("",!0)])])])])]))}},vb=Mi(mb,[["__scopeId","data-v-b155241a"]]),yb={},bb={class:"skeleton-lines"};function wb(n,e){return he(),ye("div",bb,e[0]||(e[0]=[ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1),ue("div",null,null,-1)]))}const Qd=Mi(yb,[["render",wb]]),Ab={class:"p-5",style:{"margin-top":"80px"}},Sb={__name:"App",setup(n){const e=Jd();return gn(async()=>{Xe.authStore.onChange(()=>{e.changeCurrentUser(Xe.authStore.record)});const t=await e.getUserDetail();localStorage.setItem("employee",JSON.stringify(t)),e.loading=!1;try{const i=await Xe.send("/api/get_settings/settings.json",{$autoCancel:!1});localStorage.setItem("settings",JSON.stringify(i))}catch{}}),(t,i)=>{const r=Hh("router-view");return he(),ye(Ve,null,[ke(e).currentUser?Me("",!0):(he(),st(vb,{key:0})),ke(e).currentUser?(he(),ye(Ve,{key:1},[ke(e).loading?(he(),st(Qd,{key:0})):Me("",!0),ke(e).loading?Me("",!0):(he(),ye(Ve,{key:1},[Ke(Ry),ue("div",Ab,[Ke(r)])],64))],64)):Me("",!0)],64)}}},Cb="modulepreload",xb=function(n){return"/"+n},tu={},Oe=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));r=Promise.allSettled(t.map(s=>{if(s=xb(s),s in tu)return;tu[s]=!0;const p=s.endsWith(".css"),o=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${o}`))return;const a=document.createElement("link");if(a.rel=p?"stylesheet":Cb,p||(a.as="script"),a.crossOrigin="",a.href=s,g&&a.setAttribute("nonce",g),document.head.appendChild(a),p)return new Promise((u,c)=>{a.addEventListener("load",u),a.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${s}`)))})}))}function l(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return r.then(d=>{for(const g of d||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})},Eb={},Tb={class:"has-text-grey"};function kb(n,e){return he(),ye("p",Tb,"There is no one celebrating a birthday today.")}const _b=Mi(Eb,[["render",kb]]);function nu(n,e,t){let i=0;return n.forEach(r=>{const l=new Date(r.leave_from),d=new Date(r.leave_to),g=new Date(Math.max(l,new Date(e))),s=new Date(Math.min(d,new Date(t)));if(r.status==="accepted"){if(r.is_half)i+=.5;else if(s>=g){const o=(s.getTime()-g.getTime())/(1e3*3600*24)+1;i+=o}}}),i}function Lb(n,e,t){let i=0;return n.forEach(r=>{const l=new Date(r.leave_from),d=new Date(r.leave_to),g=new Date(Math.max(l,new Date(e))),s=new Date(Math.min(d,new Date(t)));if(r.is_half)i+=.5;else if(s>=g){const o=(s.getTime()-g.getTime())/(1e3*3600*24)+1;i+=o}}),i}function rC(n,e){let t={leaveDays:0,leave:null};return n.forEach(i=>{const r=new Date(i.leave_from),l=new Date(i.leave_to);for(let d=new Date(r);d<=l;d.setDate(d.getDate()+1))d.toISOString().split("T")[0]===e&&(i.is_half?t.leaveDays=t.leaveDays+.5:t.leaveDays=t.leaveDays+1,t.leave=i)}),t}function oC(n,e,t,i,r,l){const d=nu(n,e.from_date,e.to_date),g=nu(n,t.fy_year.from_date.value,t.fy_year.to_date.value),s=i-(g-d),p=r-l-s;return p<0?0:p}var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var lo={exports:{}};/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */var Rb=lo.exports,iu;function Mb(){return iu||(iu=1,function(n,e){(function(t,i){var r;{try{r=require("moment")}catch{}n.exports=i(r)}})(Rb,function(t){var i=typeof t=="function",r=!!window.addEventListener,l=window.document,d=window.setTimeout,g=function($,D,N,F){r?$.addEventListener(D,N,!!F):$.attachEvent("on"+D,N)},s=function($,D,N,F){r?$.removeEventListener(D,N,!!F):$.detachEvent("on"+D,N)},p=function($){return $.trim?$.trim():$.replace(/^\s+|\s+$/g,"")},o=function($,D){return(" "+$.className+" ").indexOf(" "+D+" ")!==-1},a=function($,D){o($,D)||($.className=$.className===""?D:$.className+" "+D)},u=function($,D){$.className=p((" "+$.className+" ").replace(" "+D+" "," "))},c=function($){return/Array/.test(Object.prototype.toString.call($))},h=function($){return/Date/.test(Object.prototype.toString.call($))&&!isNaN($.getTime())},f=function($){var D=$.getDay();return D===0||D===6},v=function($){return $%4===0&&$%100!==0||$%400===0},b=function($,D){return[31,v($)?29:28,31,30,31,30,31,31,30,31,30,31][D]},S=function($){h($)&&$.setHours(0,0,0,0)},R=function($,D){return $.getTime()===D.getTime()},x=function($,D,N){var F,z;for(F in D)z=$[F]!==void 0,z&&typeof D[F]=="object"&&D[F]!==null&&D[F].nodeName===void 0?h(D[F])?N&&($[F]=new Date(D[F].getTime())):c(D[F])?N&&($[F]=D[F].slice(0)):$[F]=x({},D[F],N):(N||!z)&&($[F]=D[F]);return $},C=function($,D,N){var F;l.createEvent?(F=l.createEvent("HTMLEvents"),F.initEvent(D,!0,!1),F=x(F,N),$.dispatchEvent(F)):l.createEventObject&&(F=l.createEventObject(),F=x(F,N),$.fireEvent("on"+D,F))},y=function($){return $.month<0&&($.year-=Math.ceil(Math.abs($.month)/12),$.month+=12),$.month>11&&($.year+=Math.floor(Math.abs($.month)/12),$.month-=12),$},T={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},L=function($,D,N){for(D+=$.firstDay;D>=7;)D-=7;return N?$.i18n.weekdaysShort[D]:$.i18n.weekdays[D]},_=function($){var D=[],N="false";if($.isEmpty)if($.showDaysInNextAndPreviousMonths)D.push("is-outside-current-month"),$.enableSelectionDaysInNextAndPreviousMonths||D.push("is-selection-disabled");else return'<td class="is-empty"></td>';return $.isDisabled&&D.push("is-disabled"),$.isToday&&D.push("is-today"),$.isSelected&&(D.push("is-selected"),N="true"),$.hasEvent&&D.push("has-event"),$.isInRange&&D.push("is-inrange"),$.isStartRange&&D.push("is-startrange"),$.isEndRange&&D.push("is-endrange"),'<td data-day="'+$.day+'" class="'+D.join(" ")+'" aria-selected="'+N+'"><button class="pika-button pika-day" type="button" data-pika-year="'+$.year+'" data-pika-month="'+$.month+'" data-pika-day="'+$.day+'">'+$.day+"</button></td>"},k=function($,D){$.setHours(0,0,0,0);var N=$.getDate(),F=$.getDay(),z=D,P=z-1,j=7,G=function(J){return(J+j-1)%j};$.setDate(N+P-G(F));var H=new Date($.getFullYear(),0,z),W=24*60*60*1e3,Y=($.getTime()-H.getTime())/W,q=1+Math.round((Y-P+G(H.getDay()))/j);return q},I=function($,D,N,F){var z=new Date(N,D,$),P=i?t(z).isoWeek():k(z,F);return'<td class="pika-week">'+P+"</td>"},w=function($,D,N,F){return'<tr class="pika-row'+(N?" pick-whole-week":"")+(F?" is-selected":"")+'">'+(D?$.reverse():$).join("")+"</tr>"},m=function($){return"<tbody>"+$.join("")+"</tbody>"},A=function($){var D,N=[];for($.showWeekNumber&&N.push("<th></th>"),D=0;D<7;D++)N.push('<th scope="col"><abbr title="'+L($,D)+'">'+L($,D,!0)+"</abbr></th>");return"<thead><tr>"+($.isRTL?N.reverse():N).join("")+"</tr></thead>"},E=function($,D,N,F,z,P){var j,G,H,W=$._o,Y=N===W.minYear,q=N===W.maxYear,J='<div id="'+P+'" class="pika-title" role="heading" aria-live="assertive">',ne,B,U=!0,K=!0;for(H=[],j=0;j<12;j++)H.push('<option value="'+(N===z?j-D:12+j-D)+'"'+(j===F?' selected="selected"':"")+(Y&&j<W.minMonth||q&&j>W.maxMonth?' disabled="disabled"':"")+">"+W.i18n.months[j]+"</option>");for(ne='<div class="pika-label">'+W.i18n.months[F]+'<select class="pika-select pika-select-month" tabindex="-1">'+H.join("")+"</select></div>",c(W.yearRange)?(j=W.yearRange[0],G=W.yearRange[1]+1):(j=N-W.yearRange,G=1+N+W.yearRange),H=[];j<G&&j<=W.maxYear;j++)j>=W.minYear&&H.push('<option value="'+j+'"'+(j===N?' selected="selected"':"")+">"+j+"</option>");return B='<div class="pika-label">'+N+W.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+H.join("")+"</select></div>",W.showMonthAfterYear?J+=B+ne:J+=ne+B,Y&&(F===0||W.minMonth>=F)&&(U=!1),q&&(F===11||W.maxMonth<=F)&&(K=!1),D===0&&(J+='<button class="pika-prev'+(U?"":" is-disabled")+'" type="button">'+W.i18n.previousMonth+"</button>"),D===$._o.numberOfMonths-1&&(J+='<button class="pika-next'+(K?"":" is-disabled")+'" type="button">'+W.i18n.nextMonth+"</button>"),J+="</div>"},M=function($,D,N){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+N+'">'+A($)+m(D)+"</table>"},O=function($){var D=this,N=D.config($);D._onMouseDown=function(z){if(D._v){z=z||window.event;var P=z.target||z.srcElement;if(P)if(o(P,"is-disabled")||(o(P,"pika-button")&&!o(P,"is-empty")&&!o(P.parentNode,"is-disabled")?(D.setDate(new Date(P.getAttribute("data-pika-year"),P.getAttribute("data-pika-month"),P.getAttribute("data-pika-day"))),N.bound&&d(function(){D.hide(),N.blurFieldOnSelect&&N.field&&N.field.blur()},100)):o(P,"pika-prev")?D.prevMonth():o(P,"pika-next")&&D.nextMonth()),o(P,"pika-select"))D._c=!0;else if(z.preventDefault)z.preventDefault();else return z.returnValue=!1,!1}},D._onChange=function(z){z=z||window.event;var P=z.target||z.srcElement;P&&(o(P,"pika-select-month")?D.gotoMonth(P.value):o(P,"pika-select-year")&&D.gotoYear(P.value))},D._onKeyChange=function(z){if(z=z||window.event,D.isVisible())switch(z.keyCode){case 13:case 27:N.field&&N.field.blur();break;case 37:D.adjustDate("subtract",1);break;case 38:D.adjustDate("subtract",7);break;case 39:D.adjustDate("add",1);break;case 40:D.adjustDate("add",7);break;case 8:case 46:D.setDate(null);break}},D._parseFieldValue=function(){if(N.parse)return N.parse(N.field.value,N.format);if(i){var z=t(N.field.value,N.format,N.formatStrict);return z&&z.isValid()?z.toDate():null}else return new Date(Date.parse(N.field.value))},D._onInputChange=function(z){var P;z.firedBy!==D&&(P=D._parseFieldValue(),h(P)&&D.setDate(P),D._v||D.show())},D._onInputFocus=function(){D.show()},D._onInputClick=function(){D.show()},D._onInputBlur=function(){var z=l.activeElement;do if(o(z,"pika-single"))return;while(z=z.parentNode);D._c||(D._b=d(function(){D.hide()},50)),D._c=!1},D._onClick=function(z){z=z||window.event;var P=z.target||z.srcElement,j=P;if(P){!r&&o(P,"pika-select")&&(P.onchange||(P.setAttribute("onchange","return;"),g(P,"change",D._onChange)));do if(o(j,"pika-single")||j===N.trigger)return;while(j=j.parentNode);D._v&&P!==N.trigger&&j!==N.trigger&&D.hide()}},D.el=l.createElement("div"),D.el.className="pika-single"+(N.isRTL?" is-rtl":"")+(N.theme?" "+N.theme:""),g(D.el,"mousedown",D._onMouseDown,!0),g(D.el,"touchend",D._onMouseDown,!0),g(D.el,"change",D._onChange),N.keyboardInput&&g(l,"keydown",D._onKeyChange),N.field&&(N.container?N.container.appendChild(D.el):N.bound?l.body.appendChild(D.el):N.field.parentNode.insertBefore(D.el,N.field.nextSibling),g(N.field,"change",D._onInputChange),N.defaultDate||(N.defaultDate=D._parseFieldValue(),N.setDefaultDate=!0));var F=N.defaultDate;h(F)?N.setDefaultDate?D.setDate(F,!0):D.gotoDate(F):D.gotoDate(new Date),N.bound?(this.hide(),D.el.className+=" is-bound",g(N.trigger,"click",D._onInputClick),g(N.trigger,"focus",D._onInputFocus),g(N.trigger,"blur",D._onInputBlur)):this.show()};return O.prototype={config:function($){this._o||(this._o=x({},T,!0));var D=x(this._o,$,!0);D.isRTL=!!D.isRTL,D.field=D.field&&D.field.nodeName?D.field:null,D.theme=typeof D.theme=="string"&&D.theme?D.theme:null,D.bound=!!(D.bound!==void 0?D.field&&D.bound:D.field),D.trigger=D.trigger&&D.trigger.nodeName?D.trigger:D.field,D.disableWeekends=!!D.disableWeekends,D.disableDayFn=typeof D.disableDayFn=="function"?D.disableDayFn:null;var N=parseInt(D.numberOfMonths,10)||1;if(D.numberOfMonths=N>4?4:N,h(D.minDate)||(D.minDate=!1),h(D.maxDate)||(D.maxDate=!1),D.minDate&&D.maxDate&&D.maxDate<D.minDate&&(D.maxDate=D.minDate=!1),D.minDate&&this.setMinDate(D.minDate),D.maxDate&&this.setMaxDate(D.maxDate),c(D.yearRange)){var F=new Date().getFullYear()-10;D.yearRange[0]=parseInt(D.yearRange[0],10)||F,D.yearRange[1]=parseInt(D.yearRange[1],10)||F}else D.yearRange=Math.abs(parseInt(D.yearRange,10))||T.yearRange,D.yearRange>100&&(D.yearRange=100);return D},toString:function($){return $=$||this._o.format,h(this._d)?this._o.toString?this._o.toString(this._d,$):i?t(this._d).format($):this._d.toDateString():""},getMoment:function(){return i?t(this._d):null},setMoment:function($,D){i&&t.isMoment($)&&this.setDate($.toDate(),D)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function($,D){if(!$)return this._d=null,this._o.field&&(this._o.field.value="",C(this._o.field,"change",{firedBy:this})),this.draw();if(typeof $=="string"&&($=new Date(Date.parse($))),!!h($)){var N=this._o.minDate,F=this._o.maxDate;h(N)&&$<N?$=N:h(F)&&$>F&&($=F),this._d=new Date($.getTime()),S(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),C(this._o.field,"change",{firedBy:this})),!D&&typeof this._o.onSelect=="function"&&this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function($){var D=!0;if(h($)){if(this.calendars){var N=new Date(this.calendars[0].year,this.calendars[0].month,1),F=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),z=$.getTime();F.setMonth(F.getMonth()+1),F.setDate(F.getDate()-1),D=z<N.getTime()||F.getTime()<z}D&&(this.calendars=[{month:$.getMonth(),year:$.getFullYear()}],this._o.mainCalendar==="right"&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function($,D){var N=this.getDate()||new Date,F=parseInt(D)*24*60*60*1e3,z;$==="add"?z=new Date(N.valueOf()+F):$==="subtract"&&(z=new Date(N.valueOf()-F)),this.setDate(z)},adjustCalendars:function(){this.calendars[0]=y(this.calendars[0]);for(var $=1;$<this._o.numberOfMonths;$++)this.calendars[$]=y({month:this.calendars[0].month+$,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function($){isNaN($)||(this.calendars[0].month=parseInt($,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function($){isNaN($)||(this.calendars[0].year=parseInt($,10),this.adjustCalendars())},setMinDate:function($){$ instanceof Date?(S($),this._o.minDate=$,this._o.minYear=$.getFullYear(),this._o.minMonth=$.getMonth()):(this._o.minDate=T.minDate,this._o.minYear=T.minYear,this._o.minMonth=T.minMonth,this._o.startRange=T.startRange),this.draw()},setMaxDate:function($){$ instanceof Date?(S($),this._o.maxDate=$,this._o.maxYear=$.getFullYear(),this._o.maxMonth=$.getMonth()):(this._o.maxDate=T.maxDate,this._o.maxYear=T.maxYear,this._o.maxMonth=T.maxMonth,this._o.endRange=T.endRange),this.draw()},setStartRange:function($){this._o.startRange=$},setEndRange:function($){this._o.endRange=$},draw:function($){if(!(!this._v&&!$)){var D=this._o,N=D.minYear,F=D.maxYear,z=D.minMonth,P=D.maxMonth,j="",G;this._y<=N&&(this._y=N,!isNaN(z)&&this._m<z&&(this._m=z)),this._y>=F&&(this._y=F,!isNaN(P)&&this._m>P&&(this._m=P));for(var H=0;H<D.numberOfMonths;H++)G="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),j+='<div class="pika-lendar">'+E(this,H,this.calendars[H].year,this.calendars[H].month,this.calendars[0].year,G)+this.render(this.calendars[H].year,this.calendars[H].month,G)+"</div>";this.el.innerHTML=j,D.bound&&D.field.type!=="hidden"&&d(function(){D.trigger.focus()},1),typeof this._o.onDraw=="function"&&this._o.onDraw(this),D.bound&&D.field.setAttribute("aria-label",D.ariaLabel)}},adjustPosition:function(){var $,D,N,F,z,P,j,G,H,W,Y,q;if(!this._o.container){if(this.el.style.position="absolute",$=this._o.trigger,D=$,N=this.el.offsetWidth,F=this.el.offsetHeight,z=window.innerWidth||l.documentElement.clientWidth,P=window.innerHeight||l.documentElement.clientHeight,j=window.pageYOffset||l.body.scrollTop||l.documentElement.scrollTop,Y=!0,q=!0,typeof $.getBoundingClientRect=="function")W=$.getBoundingClientRect(),G=W.left+window.pageXOffset,H=W.bottom+window.pageYOffset;else for(G=D.offsetLeft,H=D.offsetTop+D.offsetHeight;D=D.offsetParent;)G+=D.offsetLeft,H+=D.offsetTop;(this._o.reposition&&G+N>z||this._o.position.indexOf("right")>-1&&G-N+$.offsetWidth>0)&&(G=G-N+$.offsetWidth,Y=!1),(this._o.reposition&&H+F>P+j||this._o.position.indexOf("top")>-1&&H-F-$.offsetHeight>0)&&(H=H-F-$.offsetHeight,q=!1),this.el.style.left=G+"px",this.el.style.top=H+"px",a(this.el,Y?"left-aligned":"right-aligned"),a(this.el,q?"bottom-aligned":"top-aligned"),u(this.el,Y?"right-aligned":"left-aligned"),u(this.el,q?"top-aligned":"bottom-aligned")}},render:function($,D,N){var F=this._o,z=new Date,P=b($,D),j=new Date($,D,1).getDay(),G=[],H=[];S(z),F.firstDay>0&&(j-=F.firstDay,j<0&&(j+=7));for(var W=D===0?11:D-1,Y=D===11?0:D+1,q=D===0?$-1:$,J=D===11?$+1:$,ne=b(q,W),B=P+j,U=B;U>7;)U-=7;B+=7-U;for(var K=!1,X=0,ee=0;X<B;X++){var Z=new Date($,D,1+(X-j)),ie=h(this._d)?R(Z,this._d):!1,se=R(Z,z),oe=F.events.indexOf(Z.toDateString())!==-1,te=X<j||X>=P+j,fe=1+(X-j),le=D,de=$,ge=F.startRange&&R(F.startRange,Z),Q=F.endRange&&R(F.endRange,Z),re=F.startRange&&F.endRange&&F.startRange<Z&&Z<F.endRange,ae=F.minDate&&Z<F.minDate||F.maxDate&&Z>F.maxDate||F.disableWeekends&&f(Z)||F.disableDayFn&&F.disableDayFn(Z);te&&(X<j?(fe=ne+fe,le=W,de=q):(fe=fe-P,le=Y,de=J));var me={day:fe,month:le,year:de,hasEvent:oe,isSelected:ie,isToday:se,isDisabled:ae,isEmpty:te,isStartRange:ge,isEndRange:Q,isInRange:re,showDaysInNextAndPreviousMonths:F.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:F.enableSelectionDaysInNextAndPreviousMonths};F.pickWholeWeek&&ie&&(K=!0),H.push(_(me)),++ee===7&&(F.showWeekNumber&&H.unshift(I(X-j,D,$,F.firstWeekOfYearMinDays)),G.push(w(H,F.isRTL,F.pickWholeWeek,K)),H=[],ee=0,K=!1)}return M(F,G,N)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),u(this.el,"is-hidden"),this._o.bound&&(g(l,"click",this._onClick),this.adjustPosition()),typeof this._o.onOpen=="function"&&this._o.onOpen.call(this))},hide:function(){var $=this._v;$!==!1&&(this._o.bound&&s(l,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),a(this.el,"is-hidden"),this._v=!1,$!==void 0&&typeof this._o.onClose=="function"&&this._o.onClose.call(this))},destroy:function(){var $=this._o;this.hide(),s(this.el,"mousedown",this._onMouseDown,!0),s(this.el,"touchend",this._onMouseDown,!0),s(this.el,"change",this._onChange),$.keyboardInput&&s(l,"keydown",this._onKeyChange),$.field&&(s($.field,"change",this._onInputChange),$.bound&&(s($.trigger,"click",this._onInputClick),s($.trigger,"focus",this._onInputFocus),s($.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},O})}(lo)),lo.exports}var $b=Mb();const Db=Xd($b);var Ob=Object.defineProperty,Ib=(n,e,t)=>e in n?Ob(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,sr=(n,e,t)=>Ib(n,typeof e!="symbol"?e+"":e,t);const ru={"#":{pattern:/[0-9]/},"@":{pattern:/[a-zA-Z]/},"*":{pattern:/[a-zA-Z0-9]/}},ou=(n,e,t)=>n.replaceAll(e,"").replace(t,".").replace("..",".").replace(/[^.\d]/g,""),su=(n,e,t)=>{var i;return new Intl.NumberFormat(((i=t.number)==null?void 0:i.locale)??"en",{minimumFractionDigits:n,maximumFractionDigits:e,roundingMode:"trunc"})},Nb=(n,e=!0,t)=>{var i,r,l,d;const g=((i=t.number)==null?void 0:i.unsigned)!==!0&&n.startsWith("-")?"-":"",s=((r=t.number)==null?void 0:r.fraction)??0;let p=su(0,s,t);const o=p.formatToParts(1000.12),a=((l=o.find(v=>v.type==="group"))==null?void 0:l.value)??" ",u=((d=o.find(v=>v.type==="decimal"))==null?void 0:d.value)??".",c=ou(n,a,u);if(Number.isNaN(parseFloat(c)))return g;const h=c.split(".");if(h[1]!=null&&h[1].length>=1){const v=h[1].length<=s?h[1].length:s;p=su(v,s,t)}let f=p.format(parseFloat(c));return e?s>0&&c.endsWith(".")&&!c.slice(0,-1).includes(".")&&(f+=u):f=ou(f,a,u),g+f};let Fb=class{constructor(e={}){sr(this,"opts",{}),sr(this,"memo",new Map);const t={...e};if(t.tokens!=null){t.tokens=t.tokensReplace?{...t.tokens}:{...ru,...t.tokens};for(const i of Object.values(t.tokens))typeof i.pattern=="string"&&(i.pattern=new RegExp(i.pattern))}else t.tokens=ru;Array.isArray(t.mask)&&(t.mask.length>1?t.mask=[...t.mask].sort((i,r)=>i.length-r.length):t.mask=t.mask[0]??""),t.mask===""&&(t.mask=null),this.opts=t}masked(e){return this.process(e,this.findMask(e))}unmasked(e){return this.process(e,this.findMask(e),!1)}isEager(){return this.opts.eager===!0}isReversed(){return this.opts.reversed===!0}completed(e){const t=this.findMask(e);if(this.opts.mask==null||t==null)return!1;const i=this.process(e,t).length;return typeof this.opts.mask=="string"?i>=this.opts.mask.length:i>=t.length}findMask(e){const t=this.opts.mask;if(t==null)return null;if(typeof t=="string")return t;if(typeof t=="function")return t(e);const i=this.process(e,t.slice(-1).pop()??"",!1);return t.find(r=>this.process(e,r,!1).length>=i.length)??""}escapeMask(e){const t=[],i=[];return e.split("").forEach((r,l)=>{r==="!"&&e[l-1]!=="!"?i.push(l-i.length):t.push(r)}),{mask:t.join(""),escaped:i}}process(e,t,i=!0){if(this.opts.number!=null)return Nb(e,i,this.opts);if(t==null)return e;const r=`v=${e},mr=${t},m=${i?1:0}`;if(this.memo.has(r))return this.memo.get(r);const{mask:l,escaped:d}=this.escapeMask(t),g=[],s=this.opts.tokens!=null?this.opts.tokens:{},p=this.isReversed()?-1:1,o=this.isReversed()?"unshift":"push",a=this.isReversed()?0:l.length-1,u=this.isReversed()?()=>v>-1&&b>-1:()=>v<l.length&&b<e.length,c=R=>!this.isReversed()&&R<=a||this.isReversed()&&R>=a;let h,f=-1,v=this.isReversed()?l.length-1:0,b=this.isReversed()?e.length-1:0,S=!1;for(;u();){const R=l.charAt(v),x=s[R],C=(x==null?void 0:x.transform)!=null?x.transform(e.charAt(b)):e.charAt(b);if(!d.includes(v)&&x!=null?(C.match(x.pattern)!=null?(g[o](C),x.repeated?(f===-1?f=v:v===a&&v!==f&&(v=f-p),a===f&&(v-=p)):x.multiple&&(S=!0,v-=p),v+=p):x.multiple?S&&(v+=p,b-=p,S=!1):C===h?h=void 0:x.optional&&(v+=p,b-=p),b+=p):(i&&!this.isEager()&&g[o](R),C===R&&!this.isEager()?b+=p:h=R,this.isEager()||(v+=p)),this.isEager())for(;c(v)&&(s[l.charAt(v)]==null||d.includes(v));){if(i){if(g[o](l.charAt(v)),e.charAt(b)===l.charAt(v)){v+=p,b+=p;continue}}else l.charAt(v)===e.charAt(b)&&(b+=p);v+=p}}return this.memo.set(r,g.join("")),this.memo.get(r)}};const Zd=n=>JSON.parse(n.replaceAll("'",'"')),Pb=(n,e={})=>{const t={...e};n.dataset.maska!=null&&n.dataset.maska!==""&&(t.mask=Bb(n.dataset.maska)),n.dataset.maskaEager!=null&&(t.eager=Jr(n.dataset.maskaEager)),n.dataset.maskaReversed!=null&&(t.reversed=Jr(n.dataset.maskaReversed)),n.dataset.maskaTokensReplace!=null&&(t.tokensReplace=Jr(n.dataset.maskaTokensReplace)),n.dataset.maskaTokens!=null&&(t.tokens=Wb(n.dataset.maskaTokens));const i={};return n.dataset.maskaNumberLocale!=null&&(i.locale=n.dataset.maskaNumberLocale),n.dataset.maskaNumberFraction!=null&&(i.fraction=parseInt(n.dataset.maskaNumberFraction)),n.dataset.maskaNumberUnsigned!=null&&(i.unsigned=Jr(n.dataset.maskaNumberUnsigned)),(n.dataset.maskaNumber!=null||Object.values(i).length>0)&&(t.number=i),t},Jr=n=>n!==""?!!JSON.parse(n):!0,Bb=n=>n.startsWith("[")&&n.endsWith("]")?Zd(n):n,Wb=n=>{if(n.startsWith("{")&&n.endsWith("}"))return Zd(n);const e={};return n.split("|").forEach(t=>{const i=t.split(":");e[i[0]]={pattern:new RegExp(i[1]),optional:i[2]==="optional",multiple:i[2]==="multiple",repeated:i[2]==="repeated"}}),e};let Hb=class{constructor(e,t={}){sr(this,"items",new Map),sr(this,"eventAbortController"),sr(this,"onInput",i=>{if(i instanceof CustomEvent&&i.type==="input"&&!i.isTrusted&&!i.bubbles)return;const r=i.target,l=this.items.get(r),d="inputType"in i&&i.inputType.startsWith("delete"),g=l.isEager(),s=d&&g&&l.unmasked(r.value)===""?"":r.value;this.fixCursor(r,d,()=>this.setValue(r,s))}),this.options=t,this.eventAbortController=new AbortController,this.init(this.getInputs(e))}update(e={}){this.options={...e},this.init(Array.from(this.items.keys()))}updateValue(e){e.value!==""&&e.value!==this.processInput(e).masked&&this.setValue(e,e.value)}destroy(){this.eventAbortController.abort(),this.items.clear()}init(e){const t=this.getOptions(this.options);for(const i of e){if(!this.items.has(i)){const{signal:l}=this.eventAbortController;i.addEventListener("input",this.onInput,{capture:!0,signal:l})}const r=new Fb(Pb(i,t));this.items.set(i,r),queueMicrotask(()=>this.updateValue(i)),i.selectionStart===null&&r.isEager()&&console.warn("Maska: input of `%s` type is not supported",i.type)}}getInputs(e){return typeof e=="string"?Array.from(document.querySelectorAll(e)):"length"in e?Array.from(e):[e]}getOptions(e){const{onMaska:t,preProcess:i,postProcess:r,...l}=e;return l}fixCursor(e,t,i){const r=e.selectionStart,l=e.value;if(i(),r===null||r===l.length&&!t)return;const d=e.value,g=l.slice(0,r),s=d.slice(0,r),p=this.processInput(e,g).unmasked,o=this.processInput(e,s).unmasked;let a=r;g!==s&&(a+=t?d.length-l.length:p.length-o.length),e.setSelectionRange(a,a)}setValue(e,t){const i=this.processInput(e,t);e.value=i.masked,this.options.onMaska!=null&&(Array.isArray(this.options.onMaska)?this.options.onMaska.forEach(r=>r(i)):this.options.onMaska(i)),e.dispatchEvent(new CustomEvent("maska",{detail:i})),e.dispatchEvent(new CustomEvent("input",{detail:i.masked}))}processInput(e,t){const i=this.items.get(e);let r=t??e.value;this.options.preProcess!=null&&(r=this.options.preProcess(r));let l=i.masked(r);return this.options.postProcess!=null&&(l=this.options.postProcess(l)),{masked:l,unmasked:i.unmasked(r),completed:i.completed(r)}}};const ks=new WeakMap,jb=(n,e)=>{if(n.arg==null||n.instance==null)return;const t="setup"in n.instance.$.type;n.arg in n.instance?n.instance[n.arg]=e:t&&console.warn("Maska: please expose `%s` using defineExpose",n.arg)},zb=(n,e)=>{var t;const i=n instanceof HTMLInputElement?n:n.querySelector("input");if(i==null||(i==null?void 0:i.type)==="file")return;let r={};if(e.value!=null&&(r=typeof e.value=="string"?{mask:e.value}:{...e.value}),e.arg!=null){const l=d=>{const g=e.modifiers.unmasked?d.unmasked:e.modifiers.completed?d.completed:d.masked;jb(e,g)};r.onMaska=r.onMaska==null?l:Array.isArray(r.onMaska)?[...r.onMaska,l]:[r.onMaska,l]}ks.has(i)?(t=ks.get(i))==null||t.update(r):ks.set(i,new Hb(i,r))},Ir=wd("useFormModel",()=>{const n=Ie({});function e(){n.value={}}function t(){const r=new FormData;for(const[l,d]of Object.entries(n.value))d!==void 0&&d!==""&&d!==null&&(Array.isArray(d)?d.length>0&&d.forEach(g=>r.append(l,g)):r.append(l,d));return r}function i(){const r={};for(const[l,d]of Object.entries(n.value))d!==void 0&&d!==""&&d!==null&&(Array.isArray(d)?d.length>0&&(r[l]=d):r[l]=d);return r}return{formModel:n,getForm:t,trimObject:i,resetForm:e}}),Ub=["placeholder","required","name","value"],Vb={__name:"DatePicker",props:["placeholder","required","name","form","value"],setup(n){const e=Xp("date-input"),t=n,{formModel:i}=Qo(Ir()),r=Ie("");return Et(r,(l,d)=>{(l!==void 0||l!=="")&&(i.value[t.name]=l)},{immediate:!0}),gn(()=>{const l=e.value;new Db({field:l,toString(d,g){const s=String(d.getDate()).padStart(2,"0"),p=String(d.getMonth()+1).padStart(2,"0");return`${d.getFullYear()}-${p}-${s}`},onClose(){r.value=l.value}})}),(l,d)=>Mt((he(),ye("input",{type:"text",ref:"date-input",class:"input",placeholder:t.placeholder,required:t.required,name:t.name,value:t.value},null,8,Ub)),[[ke(zb),"####-##-##"]])}};var Kb="2.1.12";const Jn="[data-trix-attachment]",dl={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},yt={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return au(n.parentNode)===yt[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return au(n.parentNode)===yt[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},au=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},lu=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),_s=lu&&parseInt(lu[1]);var Nr={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:_s&&_s>12,samsungAndroid:_s&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},ef={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},Se={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const Gb=[Se.bytes,Se.KB,Se.MB,Se.GB,Se.TB,Se.PB];var tf={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(Se.bytes);case 1:return"1 ".concat(Se.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const t=Math.floor(Math.log(n)/Math.log(e)),i=(n/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(Gb[t])}}};const ts="\uFEFF",_n="",nf=function(n){for(const e in n){const t=n[e];this[e]=t}return this},fl=document.documentElement,Yb=fl.matches,Ye=function(n){let{onElement:e,matchingSelector:t,withCallback:i,inPhase:r,preventDefault:l,times:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=e||fl,s=t,p=r==="capturing",o=function(a){d!=null&&--d==0&&o.destroy();const u=$n(a.target,{matchingSelector:s});u!=null&&(i==null||i.call(u,a,u),l&&a.preventDefault())};return o.destroy=()=>g.removeEventListener(n,o,p),g.addEventListener(n,o,p),o},ar=function(n){let{onElement:e,bubbles:t,cancelable:i,attributes:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=e??fl;t=t!==!1,i=i!==!1;const d=document.createEvent("Events");return d.initEvent(n,t,i),r!=null&&nf.call(d,r),l.dispatchEvent(d)},rf=function(n,e){if((n==null?void 0:n.nodeType)===1)return Yb.call(n,e)},$n=function(n){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(e==null)return n;if(n.closest&&t==null)return n.closest(e);for(;n&&n!==t;){if(rf(n,e))return n;n=n.parentNode}}},pl=n=>document.activeElement!==n&&Gn(n,document.activeElement),Gn=function(n,e){if(n&&e)for(;e;){if(e===n)return!0;e=e.parentNode}},Ls=function(n){var e;if((e=n)===null||e===void 0||!e.parentNode)return;let t=0;for(n=n.previousSibling;n;)t++,n=n.previousSibling;return t},Dn=n=>{var e;return n==null||(e=n.parentNode)===null||e===void 0?void 0:e.removeChild(n)},ko=function(n){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,r,t??null,i===!0)},pt=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},Ce=function(n){let e,t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const r=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(e in i.attributes)t=i.attributes[e],r.setAttribute(e,t);if(i.style)for(e in i.style)t=i.style[e],r.style[e]=t;if(i.data)for(e in i.data)t=i.data[e],r.dataset[e]=t;return i.className&&i.className.split(" ").forEach(l=>{r.classList.add(l)}),i.textContent&&(r.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(l=>{r.appendChild(l)}),r};let Wi;const lr=function(){if(Wi!=null)return Wi;Wi=[];for(const n in yt){const e=yt[n];e.tagName&&Wi.push(e.tagName)}return Wi},Rs=n=>Ai(n==null?void 0:n.firstChild),cu=function(n){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?Ai(n):Ai(n)||!Ai(n.firstChild)&&function(t){return lr().includes(pt(t))&&!lr().includes(pt(t.firstChild))}(n)},Ai=n=>qb(n)&&(n==null?void 0:n.data)==="block",qb=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,Si=function(n){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return cr(n)?n.data===ts?!e||n.parentNode.dataset.trixCursorTarget===e:void 0:Si(n.firstChild)},Qn=n=>rf(n,Jn),of=n=>cr(n)&&(n==null?void 0:n.data)==="",cr=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,gl={level2Enabled:!0,getLevel(){return this.level2Enabled&&Nr.supportsInputEvents?2:0},pickFiles(n){const e=Ce("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{n(e.files),Dn(e)}),Dn(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var co={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},ei={bold:{tagName:"strong",inheritable:!0,parser(n){const e=window.getComputedStyle(n);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const e="a:not(".concat(Jn,")"),t=n.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},sf={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(Se.bold,'" tabindex="-1">').concat(Se.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(Se.italic,'" tabindex="-1">').concat(Se.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(Se.strike,'" tabindex="-1">').concat(Se.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(Se.link,'" tabindex="-1">').concat(Se.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(Se.heading1,'" tabindex="-1">').concat(Se.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(Se.quote,'" tabindex="-1">').concat(Se.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(Se.code,'" tabindex="-1">').concat(Se.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(Se.bullets,'" tabindex="-1">').concat(Se.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(Se.numbers,'" tabindex="-1">').concat(Se.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(Se.outdent,'" tabindex="-1">').concat(Se.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(Se.indent,'" tabindex="-1">').concat(Se.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(Se.attachFiles,'" tabindex="-1">').concat(Se.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(Se.undo,'" tabindex="-1">').concat(Se.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(Se.redo,'" tabindex="-1">').concat(Se.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(Se.urlPlaceholder,'" aria-label="').concat(Se.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(Se.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(Se.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Ta={interval:5e3};var Fr=Object.freeze({__proto__:null,attachments:dl,blockAttributes:yt,browser:Nr,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:ef,fileSize:tf,input:gl,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:Se,parser:co,textAttributes:ei,toolbar:sf,undo:Ta});let Ze=class{static proxyMethod(e){const{name:t,toMethod:i,toProperty:r,optional:l}=Jb(e);this.prototype[t]=function(){let d,g;var s,p;return i?g=l?(s=this[i])===null||s===void 0?void 0:s.call(this):this[i]():r&&(g=this[r]),l?(d=(p=g)===null||p===void 0?void 0:p[t],d?uu.call(d,g,arguments):void 0):(d=g[t],uu.call(d,g,arguments))}}};const Jb=function(n){const e=n.match(Qb);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(n));const t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:uu}=Function.prototype,Qb=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Ms,$s,Ds;let Tr=class extends Ze{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,ka(e))}static fromCodepoints(e){return new this(_a(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return _a(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return ka(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}};const Xb=((Ms=Array.from)===null||Ms===void 0?void 0:Ms.call(Array,"").length)===1,Zb=(($s=" ".codePointAt)===null||$s===void 0?void 0:$s.call(" ",0))!=null,ew=((Ds=String.fromCodePoint)===null||Ds===void 0?void 0:Ds.call(String,32,128124))===" ";let ka,_a;ka=Xb&&Zb?n=>Array.from(n).map(e=>e.codePointAt(0)):function(n){const e=[];let t=0;const{length:i}=n;for(;t<i;){let r=n.charCodeAt(t++);if(55296<=r&&r<=56319&&t<i){const l=n.charCodeAt(t++);(64512&l)==56320?r=((1023&r)<<10)+(1023&l)+65536:t--}e.push(r)}return e},_a=ew?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const e=[];return Array.from(n).forEach(t=>{let i="";t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(i+String.fromCharCode(t))}),e})().join("")};let tw=0;class ri extends Ze{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++tw}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],t=this.contentsForInspection()||{};for(const i in t){const r=t[i];e.push("".concat(i,"=").concat(r))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Tr.box(this)}getCacheKey(){return this.id.toString()}}const ti=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},ml=function(n){const e=n.slice(0);for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return e.splice(...i),e},nw=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,iw=function(){const n=Ce("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=Ce("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=Ce("form");t.appendChild(n),t.appendChild(e);const i=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),r=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(l){return e.value=l,new FormData(t).get(e.dirName)}:r?function(l){return n.value=l,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(l){const d=l.trim().charAt(0);return nw.test(d)?"rtl":"ltr"}}();let Os=null,Is=null,Ns=null,Qr=null;const La=()=>(Os||(Os=ow().concat(rw())),Os),Qe=n=>yt[n],rw=()=>(Is||(Is=Object.keys(yt)),Is),Ra=n=>ei[n],ow=()=>(Ns||(Ns=Object.keys(ei)),Ns),af=function(n,e){sw(n).textContent=e.replace(/%t/g,n)},sw=function(n){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",n.toLowerCase());const t=aw();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},aw=function(){const n=hu("trix-csp-nonce")||hu("csp-nonce");if(n){const{nonce:e,content:t}=n;return e==""?t:e}},hu=n=>document.head.querySelector("meta[name=".concat(n,"]")),du={"application/x-trix-feature-detection":"test"},lf=function(n){const e=n.getData("text/plain"),t=n.getData("text/html");if(!e||!t)return e==null?void 0:e.length;{const{body:i}=new DOMParser().parseFromString(t,"text/html");if(i.textContent===e)return!i.querySelector("*")}},cf=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,vl=n=>setTimeout(n,1),uf=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const t in n){const i=n[t];e[t]=i}return e},$i=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0},We=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[fu(n[0]),fu(n[1]!=null?n[1]:n[0])]},cn=function(n){if(n==null)return;const[e,t]=We(n);return Ma(e,t)},_o=function(n,e){if(n==null||e==null)return;const[t,i]=We(n),[r,l]=We(e);return Ma(t,r)&&Ma(i,l)},fu=function(n){return typeof n=="number"?n:uf(n)},Ma=function(n,e){return typeof n=="number"?n===e:$i(n,e)};class hf extends Ze{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const ni=new hf,df=function(){const n=window.getSelection();if(n.rangeCount>0)return n},ur=function(){var n;const e=(n=df())===null||n===void 0?void 0:n.getRangeAt(0);if(e&&!lw(e))return e},ff=function(n){const e=window.getSelection();return e.removeAllRanges(),e.addRange(n),ni.update()},lw=n=>pu(n.startContainer)||pu(n.endContainer),pu=n=>!Object.getPrototypeOf(n),qi=n=>n.replace(new RegExp("".concat(ts),"g"),"").replace(new RegExp("".concat(_n),"g")," "),yl=new RegExp("[^\\S".concat(_n,"]")),bl=n=>n.replace(new RegExp("".concat(yl.source),"g")," ").replace(/\ {2,}/g," "),gu=function(n,e){if(n.isEqualTo(e))return["",""];const t=Fs(n,e),{length:i}=t.utf16String;let r;if(i){const{offset:l}=t,d=n.codepoints.slice(0,l).concat(n.codepoints.slice(l+i));r=Fs(e,Tr.fromCodepoints(d))}else r=Fs(e,n);return[t.utf16String.toString(),r.utf16String.toString()]},Fs=function(n,e){let t=0,i=n.length,r=e.length;for(;t<i&&n.charAt(t).isEqualTo(e.charAt(t));)t++;for(;i>t+1&&n.charAt(i-1).isEqualTo(e.charAt(r-1));)i--,r--;return{utf16String:n.slice(t,i),offset:t}};class kt extends ri{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=Hi(e[0]),i=t.getKeys();return e.slice(1).forEach(r=>{i=t.getKeysCommonToHash(Hi(r)),t=t.slice(i)}),t}static box(e){return Hi(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=uo(e)}add(e,t){return this.merge(cw(e,t))}remove(e){return new kt(uo(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new kt(uw(this.values,hw(e)))}slice(e){const t={};return Array.from(e).forEach(i=>{this.has(i)&&(t[i]=this.values[i])}),new kt(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=Hi(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return ti(this.toArray(),Hi(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const t in this.values){const i=this.values[t];e.push(e.push(t,i))}this.array=e.slice(0)}return this.array}toObject(){return uo(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const cw=function(n,e){const t={};return t[n]=e,t},uw=function(n,e){const t=uo(n);for(const i in e){const r=e[i];t[i]=r}return t},uo=function(n,e){const t={};return Object.keys(n).sort().forEach(i=>{i!==e&&(t[i]=n[i])}),t},Hi=function(n){return n instanceof kt?n:new kt(n)},hw=function(n){return n instanceof kt?n.values:n};class wl{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&i==null&&(i=0);const l=[];return Array.from(t).forEach(d=>{var g;if(e){var s,p,o;if((s=d.canBeGrouped)!==null&&s!==void 0&&s.call(d,i)&&(p=(o=e[e.length-1]).canBeGroupedWith)!==null&&p!==void 0&&p.call(o,d,i))return void e.push(d);l.push(new this(e,{depth:i,asTree:r})),e=null}(g=d.canBeGrouped)!==null&&g!==void 0&&g.call(d,i)?e=[d]:l.push(d)}),e&&l.push(new this(e,{depth:i,asTree:r})),l}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=e,i&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}}class dw extends Ze{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{const i=JSON.stringify(t);this.objects[i]==null&&(this.objects[i]=t)})}find(e){const t=JSON.stringify(e);return this.objects[t]}}class fw{constructor(e){this.reset(e)}add(e){const t=mu(e);this.elements[t]=e}remove(e){const t=mu(e),i=this.elements[t];if(i)return delete this.elements[t],i}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}}const mu=n=>n.dataset.trixStoreKey;let Lo=class extends Ze{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((i,r)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?e(r):t(r)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}};Lo.proxyMethod("getPromise().then"),Lo.proxyMethod("getPromise().catch");let oi=class extends Ze{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,i){let r=this.getCachedViewForObject(t);return r?this.recordChildView(r):(r=this.createChildView(...arguments),this.cacheViewForObject(r,t)),r}createChildView(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof wl&&(i.viewClass=e,e=pw);const r=new e(t,i);return this.recordChildView(r)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const t=e==null?void 0:e.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(const t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){const i=this.getViewCache();i&&(i[t.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const t=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in e)t.includes(i)||delete e[i]}}},pw=class extends oi{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(i=>{e.appendChild(i)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}};/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:pf,setPrototypeOf:vu,isFrozen:gw,getPrototypeOf:mw,getOwnPropertyDescriptor:vw}=Object;let{freeze:bt,seal:Nt,create:gf}=Object,{apply:$a,construct:Da}=typeof Reflect<"u"&&Reflect;bt||(bt=function(n){return n}),Nt||(Nt=function(n){return n}),$a||($a=function(n,e,t){return n.apply(e,t)}),Da||(Da=function(n,e){return new n(...e)});const Xr=_t(Array.prototype.forEach),yu=_t(Array.prototype.pop),ji=_t(Array.prototype.push),ho=_t(String.prototype.toLowerCase),Ps=_t(String.prototype.toString),bu=_t(String.prototype.match),zi=_t(String.prototype.replace),yw=_t(String.prototype.indexOf),bw=_t(String.prototype.trim),Bt=_t(Object.prototype.hasOwnProperty),ht=_t(RegExp.prototype.test),Ui=(wu=TypeError,function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Da(wu,e)});var wu;function _t(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return $a(n,e,i)}}function Te(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ho;vu&&vu(n,null);let i=e.length;for(;i--;){let r=e[i];if(typeof r=="string"){const l=t(r);l!==r&&(gw(e)||(e[i]=l),r=l)}n[r]=!0}return n}function ww(n){for(let e=0;e<n.length;e++)Bt(n,e)||(n[e]=null);return n}function zn(n){const e=gf(null);for(const[t,i]of pf(n))Bt(n,t)&&(Array.isArray(i)?e[t]=ww(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=zn(i):e[t]=i);return e}function Vi(n,e){for(;n!==null;){const t=vw(n,e);if(t){if(t.get)return _t(t.get);if(typeof t.value=="function")return _t(t.value)}n=mw(n)}return function(){return null}}const Au=bt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Bs=bt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ws=bt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Aw=bt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hs=bt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Sw=bt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Su=bt(["#text"]),Cu=bt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),js=bt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xu=bt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Zr=bt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cw=Nt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xw=Nt(/<%[\w\W]*|[\w\W]*%>/gm),Ew=Nt(/\$\{[\w\W]*}/gm),Tw=Nt(/^data-[\-\w.\u00B7-\uFFFF]+$/),kw=Nt(/^aria-[\-\w]+$/),mf=Nt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_w=Nt(/^(?:\w+script|data):/i),Lw=Nt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vf=Nt(/^html$/i),Rw=Nt(/^[a-z][.\w]*(-[.\w]+)+$/i);var Eu=Object.freeze({__proto__:null,ARIA_ATTR:kw,ATTR_WHITESPACE:Lw,CUSTOM_ELEMENT:Rw,DATA_ATTR:Tw,DOCTYPE_NAME:vf,ERB_EXPR:xw,IS_ALLOWED_URI:mf,IS_SCRIPT_OR_DATA:_w,MUSTACHE_EXPR:Cw,TMPLIT_EXPR:Ew});const Mw=1,$w=3,Dw=7,Ow=8,Iw=9,Nw=function(){return typeof window>"u"?null:window};var Ro=function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nw();const t=V=>n(V);if(t.version="3.2.3",t.removed=[],!e||!e.document||e.document.nodeType!==Iw)return t.isSupported=!1,t;let{document:i}=e;const r=i,l=r.currentScript,{DocumentFragment:d,HTMLTemplateElement:g,Node:s,Element:p,NodeFilter:o,NamedNodeMap:a=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:u,DOMParser:c,trustedTypes:h}=e,f=p.prototype,v=Vi(f,"cloneNode"),b=Vi(f,"remove"),S=Vi(f,"nextSibling"),R=Vi(f,"childNodes"),x=Vi(f,"parentNode");if(typeof g=="function"){const V=i.createElement("template");V.content&&V.content.ownerDocument&&(i=V.content.ownerDocument)}let C,y="";const{implementation:T,createNodeIterator:L,createDocumentFragment:_,getElementsByTagName:k}=i,{importNode:I}=r;let w={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};t.isSupported=typeof pf=="function"&&typeof x=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:m,ERB_EXPR:A,TMPLIT_EXPR:E,DATA_ATTR:M,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:N}=Eu;let{IS_ALLOWED_URI:F}=Eu,z=null;const P=Te({},[...Au,...Bs,...Ws,...Hs,...Su]);let j=null;const G=Te({},[...Cu,...js,...xu,...Zr]);let H=Object.seal(gf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,Y=null,q=!0,J=!0,ne=!1,B=!0,U=!1,K=!0,X=!1,ee=!1,Z=!1,ie=!1,se=!1,oe=!1,te=!0,fe=!1,le=!0,de=!1,ge={},Q=null;const re=Te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ae=null;const me=Te({},["audio","video","img","source","image","track"]);let we=null;const _e=Te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Le="http://www.w3.org/1998/Math/MathML",De="http://www.w3.org/2000/svg",xe="http://www.w3.org/1999/xhtml";let be=xe,Be=!1,Lt=null;const Pr=Te({},[Le,De,xe],Ps);let Br=Te({},["mi","mo","mn","ms","mtext"]),Wr=Te({},["annotation-xml"]);const Qf=Te({},["title","style","font","a","script"]);let Oi=null;const Xf=["application/xhtml+xml","text/html"];let nt=null,ai=null;const Zf=i.createElement("form"),kl=function(V){return V instanceof RegExp||V instanceof Function},as=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ai||ai!==V){if(V&&typeof V=="object"||(V={}),V=zn(V),Oi=Xf.indexOf(V.PARSER_MEDIA_TYPE)===-1?"text/html":V.PARSER_MEDIA_TYPE,nt=Oi==="application/xhtml+xml"?Ps:ho,z=Bt(V,"ALLOWED_TAGS")?Te({},V.ALLOWED_TAGS,nt):P,j=Bt(V,"ALLOWED_ATTR")?Te({},V.ALLOWED_ATTR,nt):G,Lt=Bt(V,"ALLOWED_NAMESPACES")?Te({},V.ALLOWED_NAMESPACES,Ps):Pr,we=Bt(V,"ADD_URI_SAFE_ATTR")?Te(zn(_e),V.ADD_URI_SAFE_ATTR,nt):_e,ae=Bt(V,"ADD_DATA_URI_TAGS")?Te(zn(me),V.ADD_DATA_URI_TAGS,nt):me,Q=Bt(V,"FORBID_CONTENTS")?Te({},V.FORBID_CONTENTS,nt):re,W=Bt(V,"FORBID_TAGS")?Te({},V.FORBID_TAGS,nt):{},Y=Bt(V,"FORBID_ATTR")?Te({},V.FORBID_ATTR,nt):{},ge=!!Bt(V,"USE_PROFILES")&&V.USE_PROFILES,q=V.ALLOW_ARIA_ATTR!==!1,J=V.ALLOW_DATA_ATTR!==!1,ne=V.ALLOW_UNKNOWN_PROTOCOLS||!1,B=V.ALLOW_SELF_CLOSE_IN_ATTR!==!1,U=V.SAFE_FOR_TEMPLATES||!1,K=V.SAFE_FOR_XML!==!1,X=V.WHOLE_DOCUMENT||!1,ie=V.RETURN_DOM||!1,se=V.RETURN_DOM_FRAGMENT||!1,oe=V.RETURN_TRUSTED_TYPE||!1,Z=V.FORCE_BODY||!1,te=V.SANITIZE_DOM!==!1,fe=V.SANITIZE_NAMED_PROPS||!1,le=V.KEEP_CONTENT!==!1,de=V.IN_PLACE||!1,F=V.ALLOWED_URI_REGEXP||mf,be=V.NAMESPACE||xe,Br=V.MATHML_TEXT_INTEGRATION_POINTS||Br,Wr=V.HTML_INTEGRATION_POINTS||Wr,H=V.CUSTOM_ELEMENT_HANDLING||{},V.CUSTOM_ELEMENT_HANDLING&&kl(V.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=V.CUSTOM_ELEMENT_HANDLING.tagNameCheck),V.CUSTOM_ELEMENT_HANDLING&&kl(V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=V.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),V.CUSTOM_ELEMENT_HANDLING&&typeof V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=V.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),U&&(J=!1),se&&(ie=!0),ge&&(z=Te({},Su),j=[],ge.html===!0&&(Te(z,Au),Te(j,Cu)),ge.svg===!0&&(Te(z,Bs),Te(j,js),Te(j,Zr)),ge.svgFilters===!0&&(Te(z,Ws),Te(j,js),Te(j,Zr)),ge.mathMl===!0&&(Te(z,Hs),Te(j,xu),Te(j,Zr))),V.ADD_TAGS&&(z===P&&(z=zn(z)),Te(z,V.ADD_TAGS,nt)),V.ADD_ATTR&&(j===G&&(j=zn(j)),Te(j,V.ADD_ATTR,nt)),V.ADD_URI_SAFE_ATTR&&Te(we,V.ADD_URI_SAFE_ATTR,nt),V.FORBID_CONTENTS&&(Q===re&&(Q=zn(Q)),Te(Q,V.FORBID_CONTENTS,nt)),le&&(z["#text"]=!0),X&&Te(z,["html","head","body"]),z.table&&(Te(z,["tbody"]),delete W.tbody),V.TRUSTED_TYPES_POLICY){if(typeof V.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ui('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof V.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ui('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=V.TRUSTED_TYPES_POLICY,y=C.createHTML("")}else C===void 0&&(C=function(pe,ce){if(typeof pe!="object"||typeof pe.createPolicy!="function")return null;let Re=null;const Ne="data-tt-policy-suffix";ce&&ce.hasAttribute(Ne)&&(Re=ce.getAttribute(Ne));const Ee="dompurify"+(Re?"#"+Re:"");try{return pe.createPolicy(Ee,{createHTML:et=>et,createScriptURL:et=>et})}catch{return console.warn("TrustedTypes policy "+Ee+" could not be created."),null}}(h,l)),C!==null&&typeof y=="string"&&(y=C.createHTML(""));bt&&bt(V),ai=V}},_l=Te({},[...Bs,...Ws,...Aw]),Ll=Te({},[...Hs,...Sw]),Vt=function(V){ji(t.removed,{element:V});try{x(V).removeChild(V)}catch{b(V)}},Hr=function(V,pe){try{ji(t.removed,{attribute:pe.getAttributeNode(V),from:pe})}catch{ji(t.removed,{attribute:null,from:pe})}if(pe.removeAttribute(V),V==="is")if(ie||se)try{Vt(pe)}catch{}else try{pe.setAttribute(V,"")}catch{}},Rl=function(V){let pe=null,ce=null;if(Z)V="<remove></remove>"+V;else{const Ee=bu(V,/^[\r\n\t ]+/);ce=Ee&&Ee[0]}Oi==="application/xhtml+xml"&&be===xe&&(V='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+V+"</body></html>");const Re=C?C.createHTML(V):V;if(be===xe)try{pe=new c().parseFromString(Re,Oi)}catch{}if(!pe||!pe.documentElement){pe=T.createDocument(be,"template",null);try{pe.documentElement.innerHTML=Be?y:Re}catch{}}const Ne=pe.body||pe.documentElement;return V&&ce&&Ne.insertBefore(i.createTextNode(ce),Ne.childNodes[0]||null),be===xe?k.call(pe,X?"html":"body")[0]:X?pe.documentElement:Ne},Ml=function(V){return L.call(V.ownerDocument||V,V,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT|o.SHOW_PROCESSING_INSTRUCTION|o.SHOW_CDATA_SECTION,null)},ls=function(V){return V instanceof u&&(typeof V.nodeName!="string"||typeof V.textContent!="string"||typeof V.removeChild!="function"||!(V.attributes instanceof a)||typeof V.removeAttribute!="function"||typeof V.setAttribute!="function"||typeof V.namespaceURI!="string"||typeof V.insertBefore!="function"||typeof V.hasChildNodes!="function")},$l=function(V){return typeof s=="function"&&V instanceof s};function Xt(V,pe,ce){Xr(V,Re=>{Re.call(t,pe,ce,ai)})}const Dl=function(V){let pe=null;if(Xt(w.beforeSanitizeElements,V,null),ls(V))return Vt(V),!0;const ce=nt(V.nodeName);if(Xt(w.uponSanitizeElement,V,{tagName:ce,allowedTags:z}),V.hasChildNodes()&&!$l(V.firstElementChild)&&ht(/<[/\w]/g,V.innerHTML)&&ht(/<[/\w]/g,V.textContent)||V.nodeType===Dw||K&&V.nodeType===Ow&&ht(/<[/\w]/g,V.data))return Vt(V),!0;if(!z[ce]||W[ce]){if(!W[ce]&&Il(ce)&&(H.tagNameCheck instanceof RegExp&&ht(H.tagNameCheck,ce)||H.tagNameCheck instanceof Function&&H.tagNameCheck(ce)))return!1;if(le&&!Q[ce]){const Re=x(V)||V.parentNode,Ne=R(V)||V.childNodes;if(Ne&&Re)for(let Ee=Ne.length-1;Ee>=0;--Ee){const et=v(Ne[Ee],!0);et.__removalCount=(V.__removalCount||0)+1,Re.insertBefore(et,S(V))}}return Vt(V),!0}return V instanceof p&&!function(Re){let Ne=x(Re);Ne&&Ne.tagName||(Ne={namespaceURI:be,tagName:"template"});const Ee=ho(Re.tagName),et=ho(Ne.tagName);return!!Lt[Re.namespaceURI]&&(Re.namespaceURI===De?Ne.namespaceURI===xe?Ee==="svg":Ne.namespaceURI===Le?Ee==="svg"&&(et==="annotation-xml"||Br[et]):!!_l[Ee]:Re.namespaceURI===Le?Ne.namespaceURI===xe?Ee==="math":Ne.namespaceURI===De?Ee==="math"&&Wr[et]:!!Ll[Ee]:Re.namespaceURI===xe?!(Ne.namespaceURI===De&&!Wr[et])&&!(Ne.namespaceURI===Le&&!Br[et])&&!Ll[Ee]&&(Qf[Ee]||!_l[Ee]):!(Oi!=="application/xhtml+xml"||!Lt[Re.namespaceURI]))}(V)?(Vt(V),!0):ce!=="noscript"&&ce!=="noembed"&&ce!=="noframes"||!ht(/<\/no(script|embed|frames)/i,V.innerHTML)?(U&&V.nodeType===$w&&(pe=V.textContent,Xr([m,A,E],Re=>{pe=zi(pe,Re," ")}),V.textContent!==pe&&(ji(t.removed,{element:V.cloneNode()}),V.textContent=pe)),Xt(w.afterSanitizeElements,V,null),!1):(Vt(V),!0)},Ol=function(V,pe,ce){if(te&&(pe==="id"||pe==="name")&&(ce in i||ce in Zf))return!1;if(!(J&&!Y[pe]&&ht(M,pe))){if(!(q&&ht(O,pe))){if(!j[pe]||Y[pe]){if(!(Il(V)&&(H.tagNameCheck instanceof RegExp&&ht(H.tagNameCheck,V)||H.tagNameCheck instanceof Function&&H.tagNameCheck(V))&&(H.attributeNameCheck instanceof RegExp&&ht(H.attributeNameCheck,pe)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(pe))||pe==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&ht(H.tagNameCheck,ce)||H.tagNameCheck instanceof Function&&H.tagNameCheck(ce))))return!1}else if(!we[pe]){if(!ht(F,zi(ce,D,""))){if((pe!=="src"&&pe!=="xlink:href"&&pe!=="href"||V==="script"||yw(ce,"data:")!==0||!ae[V])&&!(ne&&!ht($,zi(ce,D,"")))){if(ce)return!1}}}}}return!0},Il=function(V){return V!=="annotation-xml"&&bu(V,N)},Nl=function(V){Xt(w.beforeSanitizeAttributes,V,null);const{attributes:pe}=V;if(!pe||ls(V))return;const ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0};let Re=pe.length;for(;Re--;){const Ne=pe[Re],{name:Ee,namespaceURI:et,value:Zt}=Ne,Kt=nt(Ee);let ut=Ee==="value"?Zt:bw(Zt);if(ce.attrName=Kt,ce.attrValue=ut,ce.keepAttr=!0,ce.forceKeepAttr=void 0,Xt(w.uponSanitizeAttribute,V,ce),ut=ce.attrValue,!fe||Kt!=="id"&&Kt!=="name"||(Hr(Ee,V),ut="user-content-"+ut),K&&ht(/((--!?|])>)|<\/(style|title)/i,ut)){Hr(Ee,V);continue}if(ce.forceKeepAttr||(Hr(Ee,V),!ce.keepAttr))continue;if(!B&&ht(/\/>/i,ut)){Hr(Ee,V);continue}U&&Xr([m,A,E],Pl=>{ut=zi(ut,Pl," ")});const Fl=nt(V.nodeName);if(Ol(Fl,Kt,ut)){if(C&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!et)switch(h.getAttributeType(Fl,Kt)){case"TrustedHTML":ut=C.createHTML(ut);break;case"TrustedScriptURL":ut=C.createScriptURL(ut)}try{et?V.setAttributeNS(et,Ee,ut):V.setAttribute(Ee,ut),ls(V)?Vt(V):yu(t.removed)}catch{}}}Xt(w.afterSanitizeAttributes,V,null)},ep=function V(pe){let ce=null;const Re=Ml(pe);for(Xt(w.beforeSanitizeShadowDOM,pe,null);ce=Re.nextNode();)Xt(w.uponSanitizeShadowNode,ce,null),Dl(ce),Nl(ce),ce.content instanceof d&&V(ce.content);Xt(w.afterSanitizeShadowDOM,pe,null)};return t.sanitize=function(V){let pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=null,Re=null,Ne=null,Ee=null;if(Be=!V,Be&&(V="<!-->"),typeof V!="string"&&!$l(V)){if(typeof V.toString!="function")throw Ui("toString is not a function");if(typeof(V=V.toString())!="string")throw Ui("dirty is not a string, aborting")}if(!t.isSupported)return V;if(ee||as(pe),t.removed=[],typeof V=="string"&&(de=!1),de){if(V.nodeName){const Kt=nt(V.nodeName);if(!z[Kt]||W[Kt])throw Ui("root node is forbidden and cannot be sanitized in-place")}}else if(V instanceof s)ce=Rl("<!---->"),Re=ce.ownerDocument.importNode(V,!0),Re.nodeType===Mw&&Re.nodeName==="BODY"||Re.nodeName==="HTML"?ce=Re:ce.appendChild(Re);else{if(!ie&&!U&&!X&&V.indexOf("<")===-1)return C&&oe?C.createHTML(V):V;if(ce=Rl(V),!ce)return ie?null:oe?y:""}ce&&Z&&Vt(ce.firstChild);const et=Ml(de?V:ce);for(;Ne=et.nextNode();)Dl(Ne),Nl(Ne),Ne.content instanceof d&&ep(Ne.content);if(de)return V;if(ie){if(se)for(Ee=_.call(ce.ownerDocument);ce.firstChild;)Ee.appendChild(ce.firstChild);else Ee=ce;return(j.shadowroot||j.shadowrootmode)&&(Ee=I.call(r,Ee,!0)),Ee}let Zt=X?ce.outerHTML:ce.innerHTML;return X&&z["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&ht(vf,ce.ownerDocument.doctype.name)&&(Zt="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+Zt),U&&Xr([m,A,E],Kt=>{Zt=zi(Zt,Kt," ")}),C&&oe?C.createHTML(Zt):Zt},t.setConfig=function(){as(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),ee=!0},t.clearConfig=function(){ai=null,ee=!1},t.isValidAttribute=function(V,pe,ce){ai||as({});const Re=nt(V),Ne=nt(pe);return Ol(Re,Ne,ce)},t.addHook=function(V,pe){typeof pe=="function"&&ji(w[V],pe)},t.removeHook=function(V){return yu(w[V])},t.removeHooks=function(V){w[V]=[]},t.removeAllHooks=function(){w={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},t}();Ro.addHook("uponSanitizeAttribute",function(n,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const Fw="style href src width height language class".split(" "),Pw="javascript:".split(" "),Bw="script iframe form noscript".split(" ");class ns extends Ze{static setHTML(e,t){const i=new this(t).sanitize(),r=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=r}static sanitize(e,t){const i=new this(e,t);return i.sanitize(),i}constructor(e){let{allowedAttributes:t,forbiddenProtocols:i,forbiddenElements:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||Fw,this.forbiddenProtocols=i||Pw,this.forbiddenElements=r||Bw,this.body=Ww(e)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting(),Ro.setConfig(ef),this.body=Ro.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=ko(this.body),t=[];for(;e.nextNode();){const i=e.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?t.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:t.push(i)}}return t.forEach(i=>Dn(i)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:i}=t;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||e.removeAttribute(i)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const t=e.previousElementSibling;t&&pt(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(pt(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!Qn(e)}}const Ww=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=n,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},{css:bn}=Fr;class Al extends oi{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const t=e=Ce({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(e=Ce({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?ns.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(r=>{e.appendChild(r)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=Ce({tagName:"progress",attributes:{class:bn.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[Tu("left"),t,Tu("right")]}createCaptionElement(){const e=Ce({tagName:"figcaption",className:bn.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(bn.attachmentCaption,"--edited")),e.textContent=t;else{let i,r;const l=this.getCaptionConfig();if(l.name&&(i=this.attachment.getFilename()),l.size&&(r=this.attachment.getFormattedFilesize()),i){const d=Ce({tagName:"span",className:bn.attachmentName,textContent:i});e.appendChild(d)}if(r){i&&e.appendChild(document.createTextNode(" "));const d=Ce({tagName:"span",className:bn.attachmentSize,textContent:r});e.appendChild(d)}}return e}getClassName(){const e=[bn.attachment,"".concat(bn.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(bn.attachment,"--").concat(t)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!Hw(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;const t=this.attachment.getType(),i=uf((e=dl[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(i.name=!0),i}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}}const Tu=n=>Ce({tagName:"span",textContent:ts,data:{trixCursorTarget:n,trixSerialize:!1}}),Hw=function(n,e){const t=Ce("div");return ns.setHTML(t,n||""),t.querySelector(e)};class yf extends Al{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=Ce({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",Se.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const t=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(e.src=i||t,i===t)e.removeAttribute("data-trix-serialized-attributes");else{const g=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",g)}const r=this.attachment.getWidth(),l=this.attachment.getHeight();r!=null&&(e.width=r),l!=null&&(e.height=l);const d=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=d}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class bf extends oi{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const t=this.createElement();if(t){const i=function(r){for(;(l=r)!==null&&l!==void 0&&l.firstElementChild;){var l;r=r.firstElementChild}return r}(t);Array.from(e).forEach(r=>{i.appendChild(r)}),e=[t]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?yf:Al;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const t=[],i=this.string.split(`
`);for(let r=0;r<i.length;r++){const l=i[r];if(r>0){const d=Ce("br");t.push(d)}if(l.length){const d=document.createTextNode(this.preserveSpaces(l));t.push(d)}}return t}}createElement(){let e,t,i;const r={};for(t in this.attributes){i=this.attributes[t];const d=Ra(t);if(d){if(d.tagName){var l;const g=Ce(d.tagName);l?(l.appendChild(g),l=g):e=l=g}if(d.styleProperty&&(r[d.styleProperty]=i),d.style)for(t in d.style)i=d.style[t],r[t]=i}}if(Object.keys(r).length)for(t in e||(e=Ce("span")),r)i=r[t],e.style[t]=i;return e}createContainerElement(){for(const e in this.attributes){const t=this.attributes[e],i=Ra(e);if(i&&i.groupTagName){const r={};return r[e]=t,Ce(i.groupTagName,r)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,_n)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(_n," $2")).replace(/\ {2}/g,"".concat(_n," ")).replace(/\ {2}/g," ".concat(_n)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,_n)),e}}class wf extends oi{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],t=wl.groupObjects(this.getPieces()),i=t.length-1;for(let l=0;l<t.length;l++){const d=t[l],g={};l===0&&(g.isFirst=!0),l===i&&(g.isLast=!0),jw(r)&&(g.followsWhitespace=!0);const s=this.findOrCreateCachedChildView(bf,d,{textConfig:this.textConfig,context:g});e.push(...Array.from(s.getNodes()||[]));var r=d}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const jw=n=>/\s$/.test(n==null?void 0:n.toString()),{css:ku}=Fr;class Af extends oi{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(Ce("br"));else{var t;const i=(t=Qe(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,r=this.findOrCreateCachedChildView(wf,this.block.text,{textConfig:i});e.push(...Array.from(r.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(Ce("br"))}if(this.attributes.length)return e;{let i;const{tagName:r}=yt.default;this.block.isRTL()&&(i={dir:"rtl"});const l=Ce({tagName:r,attributes:i});return e.forEach(d=>l.appendChild(d)),[l]}}createContainerElement(e){const t={};let i;const r=this.attributes[e],{tagName:l,htmlAttributes:d=[]}=Qe(r);if(e===0&&this.block.isRTL()&&Object.assign(t,{dir:"rtl"}),r==="attachmentGallery"){const g=this.block.getBlockBreakPosition();i="".concat(ku.attachmentGallery," ").concat(ku.attachmentGallery,"--").concat(g)}return Object.entries(this.block.htmlAttributes).forEach(g=>{let[s,p]=g;d.includes(s)&&(t[s]=p)}),Ce({tagName:l,className:i,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class is extends oi{static render(e){const t=Ce("div"),i=new this(e,{element:t});return i.render(),i.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new fw,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=Ce("div"),!this.document.isEmpty()){const e=wl.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{const i=this.findOrCreateCachedChildView(Af,t);Array.from(i.getNodes()).map(r=>this.shadowElement.appendChild(r))})}}isSynced(){return zw(this.shadowElement,this.element)}sync(){const e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(_u(this.element)),vl(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(_u(e)).forEach(t=>{const i=this.elementStore.remove(t);i&&t.parentNode.replaceChild(i,t)}),e}}const _u=n=>n.querySelectorAll("[data-trix-store-key]"),zw=(n,e)=>Lu(n.innerHTML)===Lu(e.innerHTML),Lu=n=>n.replace(/&nbsp;/g," ");function At(n,e,t){return(e=Uw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Uw(n){var e=function(t,i){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var l=r.call(t,i||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:String(e)}function Ue(n,e){return Vw(n,Sf(n,e,"get"))}function Sl(n,e,t){return Kw(n,Sf(n,e,"set"),t),t}function Sf(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function Vw(n,e){return e.get?e.get.call(n):e.value}function Kw(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function eo(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function Cf(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hr(n,e,t){Cf(n,e),e.set(n,t)}class si extends ri{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){const t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=kt.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}At(si,"types",{});class xf extends Lo{constructor(e){super(...arguments),this.url=e}perform(e){const t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}}class Di extends ri{static attachmentForFile(e){const t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new kt({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=kt.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=this.attributes.merge(e);var i,r,l,d;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(r=i.attachmentDidChangeAttributes)===null||r===void 0||r.call(i,this),(l=this.delegate)===null||l===void 0||(d=l.attachmentDidChangeAttributes)===null||d===void 0?void 0:d.call(l,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Di.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?tf.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,i;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(i=t.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,i,r,l;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(i=t.attachmentDidChangeAttributes)===null||i===void 0||i.call(t,this),(r=this.delegate)===null||r===void 0||(l=r.attachmentDidChangePreviewURL)===null||l===void 0?void 0:l.call(r,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new xf(e).then(i=>{let{width:r,height:l}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:r,height:l}),this.preloadingURL=null,this.setPreviewURL(e),t==null?void 0:t()}).catch(()=>(this.preloadingURL=null,t==null?void 0:t()))}}At(Di,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class ki extends si{static fromJSON(e){return new this(Di.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(ki.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return""}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}At(ki,"permittedAttributes",["caption","presentation"]),si.registerType("attachment",ki);class Cl extends si{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.length?(t=this,i=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),i=new this.constructor(this.string.slice(e),this.attributes)),[t,i]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())}}si.registerType("string",Cl);class Mo extends ri{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new this.constructor(ml(this.objects,...t))}eachObject(e){return this.objects.map((t,i)=>e(t,i))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){const[i,r]=this.splitObjectAtPosition(t);return new this.constructor(i).insertSplittableListAtIndex(e,r)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[t,i,r]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(i,r+1))}selectSplittableList(e){const t=this.objects.filter(i=>e(i));return new this.constructor(t)}removeObjectsInRange(e){const[t,i,r]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(i,r-i+1)}transformObjectsInRange(e,t){const[i,r,l]=this.splitObjectsAtRange(e),d=i.map((g,s)=>r<=s&&s<=l?t(g):g);return new this.constructor(d)}splitObjectsAtRange(e){let t,[i,r,l]=this.splitObjectAtPosition(Yw(e));return[i,t]=new this.constructor(i).splitObjectAtPosition(qw(e)+l),[i,r,t-1]}getObjectAtPosition(e){const{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,i;const{index:r,offset:l}=this.findIndexAndOffsetAtPosition(e),d=this.objects.slice(0);if(r!=null)if(l===0)t=r,i=0;else{const g=this.getObjectAtIndex(r),[s,p]=g.splitAtOffset(l);d.splice(r,1,s,p),t=r+1,i=s.getLength()-l}else t=d.length,i=0;return[d,t,i]}consolidate(){const e=[];let t=this.objects[0];return this.objects.slice(1).forEach(i=>{var r,l;(r=(l=t).canBeConsolidatedWith)!==null&&r!==void 0&&r.call(l,i)?t=t.consolidateWith(i):(e.push(t),t=i)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){const i=this.objects.slice(0).slice(e,t+1),r=new this.constructor(i).consolidate().toArray();return this.splice(e,i.length,...r)}findIndexAndOffsetAtPosition(e){let t,i=0;for(t=0;t<this.objects.length;t++){const r=i+this.objects[t].getLength();if(i<=e&&e<r)return{index:t,offset:e-i};i=r}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let i=0;for(let r=0;r<this.objects.length;r++){const l=this.objects[r];if(r<e)i+=l.getLength();else if(r===e){i+=t;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||Gw(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const Gw=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;let t=!0;for(let i=0;i<n.length;i++){const r=n[i];t&&!r.isEqualTo(e[i])&&(t=!1)}return t},Yw=n=>n[0],qw=n=>n[1];class Wt extends ri{static textForAttachmentWithAttributes(e,t){return new this([new ki(e,t)])}static textForStringWithAttributes(e,t){return new this([new Cl(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>si.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const t=e.filter(i=>!i.isEmpty());this.pieceList=new Mo(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const t=this.getPieces().map(i=>e.find(i)||i);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;const i=this.getTextAtRange(e),r=i.getLength();return e[0]<t&&(t-=r),this.removeTextAtRange(e).insertTextAtPosition(i,t)}addAttributeAtRange(e,t,i){const r={};return r[e]=t,this.addAttributesAtRange(r,i)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return kt.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let i,r=i=t;const l=this.getLength();for(;r>0&&this.getCommonAttributesAtRange([r-1,i])[e];)r--;for(;i<l&&this.getCommonAttributesAtRange([t,i+1])[e];)i++;return[r,i]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(const r of this.pieceList.toArray()){var i;if(((i=r.attachment)===null||i===void 0?void 0:i.id)===e)return{attachment:r.attachment,position:t};t+=r.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){const t=this.getAttachmentAndPositionById(e.id),i=t.position;if(e=t.attachment)return[i,i+1]}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t);return i?this.addAttributesAtRange(e,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return iw(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Jt extends ri{static fromJSON(e){return new this(Wt.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,t,i){super(...arguments),this.text=Jw(e||new Wt),this.attributes=t||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&ti(this.attributes,e==null?void 0:e.attributes)&&$i(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new Jt(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new Jt(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const t=this.attributes.concat(Ru(e));return this.copyWithAttributes(t)}addHTMLAttribute(e,t){const i=Object.assign({},this.htmlAttributes,{[e]:t});return new Jt(this.text,this.attributes,i)}removeAttribute(e){const{listAttribute:t}=Qe(e),i=$u($u(this.attributes,e),t);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Mu(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Mu(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>Qe(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const t=this.attributes.lastIndexOf(e),i=ml(this.attributes,t+1,0,...Ru(e));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(e=>Qe(e).listAttribute)}isListItem(){var e;return(e=Qe(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=Qe(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=Qe(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){const i=this.toString();let r;switch(e){case"forward":r=i.indexOf(`
`,t);break;case"backward":r=i.slice(0,t).lastIndexOf(`
`)}if(r!==-1)return r}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const t=Wt.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(i.appendText(e.text))}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.getLength()?(t=this,i=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),i=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Ef(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){const i=e.getAttributes(),r=i[t],l=this.attributes[t];return l===r&&!(Qe(l).group===!1&&!(()=>{if(!Qr){Qr=[];for(const d in yt){const{listAttribute:g}=yt[d];g!=null&&Qr.push(g)}}return Qr})().includes(i[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const Jw=function(n){return n=Qw(n),n=Zw(n)},Qw=function(n){let e=!1;const t=n.getPieces();let i=t.slice(0,t.length-1);const r=t[t.length-1];return r?(i=i.map(l=>l.isBlockBreak()?(e=!0,e0(l)):l),e?new Wt([...i,r]):n):n},Xw=Wt.textForStringWithAttributes(`
`,{blockBreak:!0}),Zw=function(n){return Ef(n)?n:n.appendText(Xw)},Ef=function(n){const e=n.getLength();return e===0?!1:n.getTextAtRange([e-1,e]).isBlockBreak()},e0=n=>n.copyWithoutAttribute("blockBreak"),Ru=function(n){const{listAttribute:e}=Qe(n);return e?[e,n]:[n]},Mu=n=>n.slice(-1)[0],$u=function(n,e){const t=n.lastIndexOf(e);return t===-1?n:ml(n,t,1)};class $t extends ri{static fromJSON(e){return new this(Array.from(e).map(t=>Jt.fromJSON(t)))}static fromString(e,t){const i=Wt.textForStringWithAttributes(e,t);return new this([new Jt(i)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new Jt]),this.blockList=Mo.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const t=new dw(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){const t=this.getBlocks().map(i=>e.find(i)||i.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getBlocks().map(i=>{const r=e.concat(i.getAttributes());return i.copyWithAttributes(r)});return new this.constructor(t)}replaceBlock(e,t){const i=this.blockList.indexOf(e);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,i))}insertDocumentAtRange(e,t){const{blockList:i}=e;t=We(t);let[r]=t;const{index:l,offset:d}=this.locationFromPosition(r);let g=this;const s=this.getBlockAtPosition(r);return cn(t)&&s.isEmpty()&&!s.hasAttributes()?g=new this.constructor(g.blockList.removeObjectAtIndex(l)):s.getBlockBreakPosition()===d&&r++,g=g.removeTextAtRange(t),new this.constructor(g.blockList.insertSplittableListAtPosition(i,r))}mergeDocumentAtRange(e,t){let i,r;t=We(t);const[l]=t,d=this.locationFromPosition(l),g=this.getBlockAtIndex(d.index).getAttributes(),s=e.getBaseBlockAttributes(),p=g.slice(-s.length);if(ti(s,p)){const u=g.slice(0,-s.length);i=e.copyWithBaseBlockAttributes(u)}else i=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(g);const o=i.getBlockCount(),a=i.getBlockAtIndex(0);if(ti(g,a.getAttributes())){const u=a.getTextWithoutBlockBreak();if(r=this.insertTextAtRange(u,t),o>1){i=new this.constructor(i.getBlocks().slice(1));const c=l+u.getLength();r=r.insertDocumentAtRange(i,c)}}else r=this.insertDocumentAtRange(i,t);return r}insertTextAtRange(e,t){t=We(t);const[i]=t,{index:r,offset:l}=this.locationFromPosition(i),d=this.removeTextAtRange(t);return new this.constructor(d.blockList.editObjectAtIndex(r,g=>g.copyWithText(g.text.insertTextAtPosition(e,l))))}removeTextAtRange(e){let t;e=We(e);const[i,r]=e;if(cn(e))return this;const[l,d]=Array.from(this.locationRangeFromRange(e)),g=l.index,s=l.offset,p=this.getBlockAtIndex(g),o=d.index,a=d.offset,u=this.getBlockAtIndex(o);if(r-i==1&&p.getBlockBreakPosition()===s&&u.getBlockBreakPosition()!==a&&u.text.getStringAtPosition(a)===`
`)t=this.blockList.editObjectAtIndex(o,c=>c.copyWithText(c.text.removeTextAtRange([a,a+1])));else{let c;const h=p.text.getTextAtRange([0,s]),f=u.text.getTextAtRange([a,u.getLength()]),v=h.appendText(f);c=g!==o&&s===0&&p.getAttributeLevel()>=u.getAttributeLevel()?u.copyWithText(v):p.copyWithText(v);const b=o+1-g;t=this.blockList.splice(g,b,c)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let i;e=We(e);const[r,l]=e;if(r<=t&&t<=l)return this;let d=this.getDocumentAtRange(e),g=this.removeTextAtRange(e);const s=r<t;s&&(t-=d.getLength());const[p,...o]=d.getBlocks();return o.length===0?(i=p.getTextWithoutBlockBreak(),s&&(t+=1)):i=p.text,g=g.insertTextAtRange(i,t),o.length===0?g:(d=new this.constructor(o),t+=i.getLength(),g.insertDocumentAtRange(d,t))}addAttributeAtRange(e,t,i){let{blockList:r}=this;return this.eachBlockAtRange(i,(l,d,g)=>r=r.editObjectAtIndex(g,function(){return Qe(e)?l.addAttribute(e,t):d[0]===d[1]?l:l.copyWithText(l.text.addAttributeAtRange(e,t,d))})),new this.constructor(r)}addAttribute(e,t){let{blockList:i}=this;return this.eachBlock((r,l)=>i=i.editObjectAtIndex(l,()=>r.addAttribute(e,t))),new this.constructor(i)}removeAttributeAtRange(e,t){let{blockList:i}=this;return this.eachBlockAtRange(t,function(r,l,d){Qe(e)?i=i.editObjectAtIndex(d,()=>r.removeAttribute(e)):l[0]!==l[1]&&(i=i.editObjectAtIndex(d,()=>r.copyWithText(r.text.removeAttributeAtRange(e,l))))}),new this.constructor(i)}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t),[r]=Array.from(i),{index:l}=this.locationFromPosition(r),d=this.getTextAtIndex(l);return new this.constructor(this.blockList.editObjectAtIndex(l,g=>g.copyWithText(d.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){const i=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,i)}setHTMLAttributeAtPosition(e,t,i){const r=this.getBlockAtPosition(e),l=r.addHTMLAttribute(t,i);return this.replaceBlock(r,l)}insertBlockBreakAtRange(e){let t;e=We(e);const[i]=e,{offset:r}=this.locationFromPosition(i),l=this.removeTextAtRange(e);return r===0&&(t=[new Jt]),new this.constructor(l.blockList.insertSplittableListAtPosition(new Mo(t),i))}applyBlockAttributeAtRange(e,t,i){const r=this.expandRangeToLineBreaksAndSplitBlocks(i);let l=r.document;i=r.range;const d=Qe(e);if(d.listAttribute){l=l.removeLastListAttributeAtRange(i,{exceptAttributeName:e});const g=l.convertLineBreaksToBlockBreaksInRange(i);l=g.document,i=g.range}else l=d.exclusive?l.removeBlockAttributesAtRange(i):d.terminal?l.removeLastTerminalAttributeAtRange(i):l.consolidateBlocksAtRange(i);return l.addAttributeAtRange(e,t,i)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(e,function(r,l,d){const g=r.getLastAttribute();g&&Qe(g).listAttribute&&g!==t.exceptAttributeName&&(i=i.editObjectAtIndex(d,()=>r.removeAttribute(g)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,r,l){const d=i.getLastAttribute();d&&Qe(d).terminal&&(t=t.editObjectAtIndex(l,()=>i.removeAttribute(d)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,r,l){i.hasAttributes()&&(t=t.editObjectAtIndex(l,()=>i.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=We(e);let[i,r]=e;const l=this.locationFromPosition(i),d=this.locationFromPosition(r);let g=this;const s=g.getBlockAtIndex(l.index);if(l.offset=s.findLineBreakInDirectionFromPosition("backward",l.offset),l.offset!=null&&(t=g.positionFromLocation(l),g=g.insertBlockBreakAtRange([t,t+1]),d.index+=1,d.offset-=g.getBlockAtIndex(l.index).getLength(),l.index+=1),l.offset=0,d.offset===0&&d.index>l.index)d.index-=1,d.offset=g.getBlockAtIndex(d.index).getBlockBreakPosition();else{const p=g.getBlockAtIndex(d.index);p.text.getStringAtRange([d.offset-1,d.offset])===`
`?d.offset-=1:d.offset=p.findLineBreakInDirectionFromPosition("forward",d.offset),d.offset!==p.getBlockBreakPosition()&&(t=g.positionFromLocation(d),g=g.insertBlockBreakAtRange([t,t+1]))}return i=g.positionFromLocation(l),r=g.positionFromLocation(d),{document:g,range:e=We([i,r])}}convertLineBreaksToBlockBreaksInRange(e){e=We(e);let[t]=e;const i=this.getStringAtRange(e).slice(0,-1);let r=this;return i.replace(/.*?\n/g,function(l){t+=l.length,r=r.insertBlockBreakAtRange([t-1,t])}),{document:r,range:e}}consolidateBlocksAtRange(e){e=We(e);const[t,i]=e,r=this.locationFromPosition(t).index,l=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(r,l))}getDocumentAtRange(e){e=We(e);const t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t;const i=e=We(e);return i[i.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(i)}getCharacterAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let i,r;e=We(e);const[l,d]=e,g=this.locationFromPosition(l),s=this.locationFromPosition(d);if(g.index===s.index)return i=this.getBlockAtIndex(g.index),r=[g.offset,s.offset],t(i,r,g.index);for(let p=g.index;p<=s.index;p++)if(i=this.getBlockAtIndex(p),i){switch(p){case g.index:r=[g.offset,i.text.getLength()];break;case s.index:r=[0,s.offset];break;default:r=[0,i.text.getLength()]}t(i,r,p)}}getCommonAttributesAtRange(e){e=We(e);const[t]=e;if(cn(e))return this.getCommonAttributesAtPosition(t);{const i=[],r=[];return this.eachBlockAtRange(e,function(l,d){if(d[0]!==d[1])return i.push(l.text.getCommonAttributesAtRange(d)),r.push(Du(l))}),kt.fromCommonAttributesOfObjects(i).merge(kt.fromCommonAttributesOfObjects(r)).toObject()}}getCommonAttributesAtPosition(e){let t,i;const{index:r,offset:l}=this.locationFromPosition(e),d=this.getBlockAtIndex(r);if(!d)return{};const g=Du(d),s=d.text.getAttributesAtPosition(l),p=d.text.getAttributesAtPosition(l-1),o=Object.keys(ei).filter(a=>ei[a].inheritable);for(t in p)i=p[t],(i===s[t]||o.includes(t))&&(g[t]=i);return g}getRangeOfCommonAttributeAtPosition(e,t){const{index:i,offset:r}=this.locationFromPosition(t),l=this.getTextAtIndex(i),[d,g]=Array.from(l.getExpandedRangeForAttributeAtOffset(e,r)),s=this.positionFromLocation({index:i,offset:d}),p=this.positionFromLocation({index:i,offset:g});return We([s,p])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){const i=this.getBlockAtIndex(t).getAttributes(),r=Math.min(e.length,i.length);e=(()=>{const l=[];for(let d=0;d<r&&i[d]===e[d];d++)l.push(i[d]);return l})()}return e}getAttachmentById(e){for(const t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:i}=t;return e=e.concat(i.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0;const i=this.blockList.toArray();for(let r=0;r<i.length;r++){const{text:l}=i[r],d=l.getRangeOfAttachment(e);if(d)return We([t+d[0],t+d[1]]);t+=l.getLength()}}getLocationRangeOfAttachment(e){const t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(const t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0;const i=[];return this.getBlocks().forEach(r=>{const l=r.getLength();r.hasAttribute(e)&&i.push([t,t+l]),t+=l}),i}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,r=[];const l=[];return this.getPieces().forEach(d=>{const g=d.getLength();(function(s){return t?s.getAttribute(e)===t:s.hasAttribute(e)})(d)&&(r[1]===i?r[1]=i+g:l.push(r=[i,i+g])),i+=g}),l}locationFromPosition(e){const t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return We(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=We(e)))return;const[t,i]=Array.from(e),r=this.locationFromPosition(t),l=this.locationFromPosition(i);return We([r,l])}rangeFromLocationRange(e){let t;e=We(e);const i=this.positionFromLocation(e[0]);return cn(e)||(t=this.positionFromLocation(e[1])),We([i,t])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}}const Du=function(n){const e={},t=n.getLastAttribute();return t&&(e[t]=!0),e},zs=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=qi(n),attributes:e,type:"string"}},Ou=(n,e)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(e)))}catch{return{}}};class kr extends Ze{static parse(e,t){const i=new this(e,t);return i.parse(),i}constructor(e){let{referenceElement:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return $t.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),ns.setHTML(this.containerElement,this.html);const e=ko(this.containerElement,{usingFilter:n0});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=Ce({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Dn(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var i;const r=this.getBlockAttributes(t),l=this.getBlockHTMLAttributes(t);ti(r,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(r,t,l),this.currentBlockElement=t)}}appendBlockForElement(e){const t=this.isBlockElement(e),i=Gn(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const r=this.getBlockAttributes(e),l=this.getBlockHTMLAttributes(e);if(e.firstChild){if(i&&ti(r,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(r,e,l),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!i&&!t){const r=this.findParentBlockElement(e);if(r)return this.appendBlockForElement(r);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var i;return Iu(e.parentNode)||(t=bl(t),Tf((i=e.previousSibling)===null||i===void 0?void 0:i.textContent)&&(t=i0(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(Qn(e)){if(t=Ou(e,"attachment"),Object.keys(t).length){const i=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,i),e.innerHTML=""}return this.processedElements.push(e)}switch(pt(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};const i=(r=>{const l=r.getAttribute("width"),d=r.getAttribute("height"),g={};return l&&(g.width=parseInt(l,10)),d&&(g.height=parseInt(d,10)),g})(e);for(const r in i){const l=i[r];t[r]=l}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(co.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(co.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(t);const r=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,i);return this.blocks.push(r),r}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(zs(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],r=i[i.length-1];if((r==null?void 0:r.type)!=="string")return i.push(zs(e));r.string+=e}prependStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],r=i[0];if((r==null?void 0:r.type)!=="string")return i.unshift(zs(e));r.string=e+r.string}getTextAttributes(e){let t;const i={};for(const r in ei){const l=ei[r];if(l.tagName&&$n(e,{matchingSelector:l.tagName,untilNode:this.containerElement}))i[r]=!0;else if(l.parser){if(t=l.parser(e),t){let d=!1;for(const g of this.findBlockElementAncestors(e))if(l.parser(g)===t){d=!0;break}d||(i[r]=t)}}else l.styleProperty&&(t=e.style[l.styleProperty],t&&(i[r]=t))}if(Qn(e)){const r=Ou(e,"attributes");for(const l in r)t=r[l],i[l]=t}return i}getBlockAttributes(e){const t=[];for(;e&&e!==this.containerElement;){for(const r in yt){const l=yt[r];var i;l.parse!==!1&&pt(e)===l.tagName&&((i=l.test)!==null&&i!==void 0&&i.call(l,e)||!l.test)&&(t.push(r),l.listAttribute&&t.push(l.listAttribute))}e=e.parentNode}return t.reverse()}getBlockHTMLAttributes(e){const t={},i=Object.values(yt).find(r=>r.tagName===pt(e));return((i==null?void 0:i.htmlAttributes)||[]).forEach(r=>{e.hasAttribute(r)&&(t[r]=e.getAttribute(r))}),t}findBlockElementAncestors(e){const t=[];for(;e&&e!==this.containerElement;){const i=pt(e);lr().includes(i)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!Qn(e)&&!$n(e,{matchingSelector:"td",untilNode:this.containerElement}))return lr().includes(pt(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!r0(e.data))return;const{parentNode:t,previousSibling:i,nextSibling:r}=e;return t0(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||Iu(t)?void 0:!i||this.isBlockElement(i)||!r||this.isBlockElement(r)}isExtraBR(e){return pt(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(co.removeBlankTableCells){var t;const i=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return i&&/\S/.test(i)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){const i=this.getMarginOfBlockElementAtIndex(t);i&&(i.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),i.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){const t=this.blockElements[e];if(t&&t.textContent&&!lr().includes(pt(t))&&!this.processedElements.includes(t))return Nu(t)}getMarginOfDefaultBlockElement(){const e=Ce(yt.default.tagName);return this.containerElement.appendChild(e),Nu(e)}}const Iu=function(n){const{whiteSpace:e}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(e)},t0=n=>n&&!Tf(n.textContent),Nu=function(n){const e=window.getComputedStyle(n);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},n0=function(n){return pt(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},i0=n=>n.replace(new RegExp("^".concat(yl.source,"+")),""),r0=n=>new RegExp("^".concat(yl.source,"*$")).test(n),Tf=n=>/\s$/.test(n),o0=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Oa="data-trix-serialized-attributes",s0="[".concat(Oa,"]"),a0=new RegExp("<!--block-->","g"),l0={"application/json":function(n){let e;if(n instanceof $t)e=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=kr.parse(n.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(n){let e;if(n instanceof $t)e=is.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=n.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{Dn(t)}),o0.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(i=>{i.removeAttribute(t)})}),Array.from(e.querySelectorAll(s0)).forEach(t=>{try{const i=JSON.parse(t.getAttribute(Oa));t.removeAttribute(Oa);for(const r in i){const l=i[r];t.setAttribute(r,l)}}catch{}}),e.innerHTML.replace(a0,"")}};var c0=Object.freeze({__proto__:null});class Je extends Ze{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Je.proxyMethod("attachment.getAttribute"),Je.proxyMethod("attachment.hasAttribute"),Je.proxyMethod("attachment.setAttribute"),Je.proxyMethod("attachment.getAttributes"),Je.proxyMethod("attachment.setAttributes"),Je.proxyMethod("attachment.isPending"),Je.proxyMethod("attachment.isPreviewable"),Je.proxyMethod("attachment.getURL"),Je.proxyMethod("attachment.getHref"),Je.proxyMethod("attachment.getFilename"),Je.proxyMethod("attachment.getFilesize"),Je.proxyMethod("attachment.getFormattedFilesize"),Je.proxyMethod("attachment.getExtension"),Je.proxyMethod("attachment.getContentType"),Je.proxyMethod("attachment.getFile"),Je.proxyMethod("attachment.setFile"),Je.proxyMethod("attachment.releaseFile"),Je.proxyMethod("attachment.getUploadProgress"),Je.proxyMethod("attachment.setUploadProgress");class kf extends Ze{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){const e=[];for(const t in this.managedAttachments){const i=this.managedAttachments[t];e.push(i)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new Je(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,i;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(i=t.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}unmanageAttachment(e){const t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}}class _f{constructor(e){this.composition=e,this.document=this.composition.document;const t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Tn extends Ze{constructor(){super(...arguments),this.document=new $t,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,i;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,i,r,l;let{document:d,selectedRange:g}=e;return(t=this.delegate)===null||t===void 0||(i=t.compositionWillLoadSnapshot)===null||i===void 0||i.call(t),this.setDocument(d??new $t),this.setSelection(g??[0,0]),(r=this.delegate)===null||r===void 0||(l=r.compositionDidLoadSnapshot)===null||l===void 0?void 0:l.call(r)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,i));const r=i[0],l=r+e.getLength();return t&&this.setSelection(l),this.notifyDelegateOfInsertionAtRange([r,l])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Jt;const t=new $t([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new $t;const t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));const i=t[0],r=i+e.getLength();return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([i,r])}insertString(e,t){const i=this.getCurrentTextAttributes(),r=Wt.textForStringWithAttributes(e,i);return this.insertText(r,t)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const t=e[0],i=t+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([t,i])}insertLineBreak(){const e=new _f(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const t=new $t([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const t=kr.parse(e).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,i));const r=i[0],l=r+t.getLength()-1;return this.setSelection(l),this.notifyDelegateOfInsertionAtRange([r,l])}replaceHTML(e){const t=kr.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),r=this.document.rangeFromLocationRange(i);return this.setDocument(t),this.setSelection(r)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const t=[];return Array.from(e).forEach(i=>{var r;if((r=this.delegate)!==null&&r!==void 0&&r.compositionShouldAcceptFile(i)){const l=Di.attachmentForFile(i);t.push(l)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new Wt;return Array.from(e).forEach(i=>{var r;const l=i.getType(),d=(r=dl[l])===null||r===void 0?void 0:r.presentation,g=this.getCurrentTextAttributes();d&&(g.presentation=d);const s=Wt.textForAttachmentWithAttributes(i,g);t=t.appendText(s)}),this.insertText(t)}shouldManageDeletingInDirection(e){const t=this.getLocationRange();if(cn(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,i,r,{length:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=this.getLocationRange();let g=this.getSelectedRange();const s=cn(g);if(s?i=e==="backward"&&d[0].offset===0:r=d[0].index!==d[1].index,i&&this.canDecreaseBlockAttributeLevel()){const p=this.getBlock();if(p.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(g[0]),p.isEmpty())return!1}return s&&(g=this.getExpandedRangeInDirection(e,{length:l}),e==="backward"&&(t=this.getAttachmentAtRange(g))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(g)),this.setSelection(g[0]),!i&&!r&&void 0)}moveTextFromRange(e){const[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){const t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){const[e,t]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){const t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return Qe(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const t=this.getSelectedDocument();if(t){for(const i of Array.from(t.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return Qe(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,t,i){var r;const l=this.document.getBlockAtPosition(e),d=(r=Qe(l.getLastAttribute()))===null||r===void 0?void 0:r.htmlAttributes;if(l&&d!=null&&d.includes(t)){const g=this.document.setHTMLAttributeAtPosition(e,t,i);this.setDocument(g)}}setTextAttribute(e,t){const i=this.getSelectedRange();if(!i)return;const[r,l]=Array.from(i);if(r!==l)return this.setDocument(this.document.addAttributeAtRange(e,t,i));if(e==="href"){const d=Wt.textForStringWithAttributes(t,{href:t});return this.insertText(d)}}setBlockAttribute(e,t){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,i)),this.setSelection(i)}removeCurrentAttribute(e){return Qe(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const t=this.getBlock();if(t){if((e=Qe(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return ti((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,r.length),r)}(i.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:t}=this.document.locationFromPosition(e);let i=t;const r=this.getBlock().getAttributeLevel();let l=this.document.getBlockAtIndex(i+1);for(;l&&l.isListItem()&&!(l.getAttributeLevel()<=r);)i++,l=this.document.getBlockAtIndex(i+1);e=this.document.positionFromLocation({index:t,offset:0});const d=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,d]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const t=this.document.getCommonAttributesAtRange(e);if(Array.from(La()).forEach(i=>{t[i]||this.canSetCurrentAttribute(i)||(t[i]=!1)}),!$i(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return nf.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const t in this.currentAttributes){const i=this.currentAttributes[t];i!==!1&&Ra(t)&&(e[t]=i)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;const i=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||We({index:0,offset:0})}withTargetLocationRange(e,t){let i;this.targetLocationRange=e;try{i=t()}finally{this.targetLocationRange=null}return i}withTargetRange(e,t){const i=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(i,t)}withTargetDOMRange(e,t){const i=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(i,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,r]=Array.from(this.getSelectedRange());return e==="backward"?t?i-=t:i=this.translateUTF16PositionFromOffset(i,-1):t?r+=t:r=this.translateUTF16PositionFromOffset(r,1),We([i,r])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const r=this.getSelectedRange();i=this.getExpandedRangeInDirection(e),t=!_o(r,i)}if(e==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),t){const r=this.getAttachmentAtRange(i);if(r)return this.editAttachment(r)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const t=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(i)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:t,removed:i}=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const d=[],g=[],s=new Set;r.forEach(o=>{s.add(o)});const p=new Set;return l.forEach(o=>{p.add(o),s.has(o)||d.push(o)}),r.forEach(o=>{p.has(o)||g.push(o)}),{added:d,removed:g}}(this.attachments,e);return this.attachments=e,Array.from(i).forEach(r=>{var l,d;r.delegate=null,(l=this.delegate)===null||l===void 0||(d=l.compositionDidRemoveAttachment)===null||d===void 0||d.call(l,r)}),(()=>{const r=[];return Array.from(t).forEach(l=>{var d,g;l.delegate=this,r.push((d=this.delegate)===null||d===void 0||(g=d.compositionDidAddAttachment)===null||g===void 0?void 0:g.call(d,l))}),r})()}attachmentDidChangeAttributes(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentDidChangePreviewURL(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(t,e)}editAttachment(e,t){var i,r;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(i=this.delegate)===null||i===void 0||(r=i.compositionDidStartEditingAttachment)===null||r===void 0?void 0:r.call(i,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e;const{block:i}=e;let r=e.startPosition,l=[r-1,r];i.getBlockBreakPosition()===e.startLocation.offset?(i.breaksOnReturn()&&e.nextCharacter===`
`?r+=1:t=t.removeTextAtRange(l),l=[r,r]):e.nextCharacter===`
`?e.previousCharacter===`
`?l=[r-1,r+1]:(l=[r,r+1],r+=1):e.startLocation.offset-1!=0&&(r+=1);const d=new $t([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(d,l)),this.setSelection(r)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(t,e)}translateUTF16PositionFromOffset(e,t){const i=this.document.toUTF16String(),r=i.offsetFromUCS2Offset(e);return i.offsetToUCS2Offset(r+t)}}Tn.proxyMethod("getSelectionManager().getPointRange"),Tn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Tn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Tn.proxyMethod("getSelectionManager().locationIsCursorTarget"),Tn.proxyMethod("getSelectionManager().selectionIsExpanded"),Tn.proxyMethod("delegate?.getSelectionManager");class Ia extends Ze{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.undoEntries.slice(-1)[0];if(!i||!u0(r,e,t)){const l=this.createEntry({description:e,context:t});this.undoEntries.push(l),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}}const u0=(n,e,t)=>(n==null?void 0:n.description)===(e==null?void 0:e.toString())&&(n==null?void 0:n.context)===JSON.stringify(t),Us="attachmentGallery";class Lf{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(Us,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(Us,!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Us)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Rf=function(n){const e=new Lf(n);return e.perform(),e.getSnapshot()},h0=[Rf];class Mf{constructor(e,t,i){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=i,this.undoManager=new Ia(this.composition),this.filters=h0.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=kr.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:i}=e;return t=$t.fromJSON(t),this.loadSnapshot({document:t,selectedRange:i})}loadSnapshot(e){return this.undoManager=new Ia(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,t,i){this.composition.setHTMLAtributeAtPosition(e,t,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class $f{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},r=0,l=!1;const d={index:0,offset:0},g=this.findAttachmentElementParentForNode(e);g&&(e=g.parentNode,t=Ls(g));const s=ko(this.element,{usingFilter:Df});for(;s.nextNode();){const p=s.currentNode;if(p===e&&cr(e)){Si(p)||(d.offset+=t);break}if(p.parentNode===e){if(r++===t)break}else if(!Gn(e,p)&&r>0)break;cu(p,{strict:i})?(l&&d.index++,d.offset=0,l=!0):d.offset+=Vs(p)}return d}findContainerAndOffsetFromLocation(e){let t,i;if(e.index===0&&e.offset===0){for(t=this.element,i=0;t.firstChild;)if(t=t.firstChild,Rs(t)){i=1;break}return[t,i]}let[r,l]=this.findNodeAndOffsetFromLocation(e);if(r){if(cr(r))Vs(r)===0?(t=r.parentNode.parentNode,i=Ls(r.parentNode),Si(r,{name:"right"})&&i++):(t=r,i=e.offset-l);else{if(t=r.parentNode,!cu(r.previousSibling)&&!Rs(t))for(;r===t.lastChild&&(r=t,t=t.parentNode,!Rs(t)););i=Ls(r),e.offset!==0&&i++}return[t,i]}}findNodeAndOffsetFromLocation(e){let t,i,r=0;for(const l of this.getSignificantNodesForIndex(e.index)){const d=Vs(l);if(e.offset<=r+d)if(cr(l)){if(t=l,i=r,e.offset===i&&Si(t))break}else t||(t=l,i=r);if(r+=d,r>e.offset)break}return[t,i]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(Qn(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const t=[],i=ko(this.element,{usingFilter:d0});let r=!1;for(;i.nextNode();){const d=i.currentNode;var l;if(Ai(d)){if(l!=null?l++:l=0,l===e)r=!0;else if(r)break}else r&&t.push(d)}return t}}const Vs=function(n){return n.nodeType===Node.TEXT_NODE?Si(n)?0:n.textContent.length:pt(n)==="br"||Qn(n)?1:0},d0=function(n){return f0(n)===NodeFilter.FILTER_ACCEPT?Df(n):NodeFilter.FILTER_REJECT},f0=function(n){return of(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Df=function(n){return Qn(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Of{createDOMRangeFromPoint(e){let t,{x:i,y:r}=e;if(document.caretPositionFromPoint){const{offsetNode:l,offset:d}=document.caretPositionFromPoint(i,r);return t=document.createRange(),t.setStart(l,d),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,r);if(document.body.createTextRange){const l=ur();try{const d=document.body.createTextRange();d.moveToPoint(i,r),d.select()}catch{}return t=ur(),ff(l),t}}getClientRectsForDOMRange(e){const t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}}class Kn extends Ze{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new $f(this.element),this.pointMapper=new Of,this.lockCount=0,Ye("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(ur()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=We(e);const t=this.createDOMRangeFromLocationRange(e);t&&(ff(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=We(e);const t=this.getLocationAtPoint(e[0]),i=this.getLocationAtPoint(e[1]);this.setLocationRange([t,i])}getClientRectAtLocationRange(e){const t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){const t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return Si(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=df())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=ur())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;const i=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!i)return;const r=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return We([i,r])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const t=()=>{if(this.paused=!1,clearTimeout(i),Array.from(e).forEach(r=>{r.destroy()}),Gn(document,this.element))return this.selectionDidChange()},i=setTimeout(t,200);e=["mousemove","keydown"].map(r=>Ye(r,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!pl(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,i;if((e??(e=this.createLocationRangeFromDOMRange(ur())))&&!_o(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(i=t.locationRangeDidChange)===null||i===void 0?void 0:i.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const t=this.findContainerAndOffsetFromLocation(e[0]),i=cn(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&i!=null){const r=document.createRange();return r.setStart(...Array.from(t||[])),r.setEnd(...Array.from(i||[])),r}}getLocationAtPoint(e){const t=this.createDOMRangeFromPoint(e);var i;if(t)return(i=this.createLocationRangeFromDOMRange(t))===null||i===void 0?void 0:i[0]}domRangeWithinElement(e){return e.collapsed?Gn(this.element,e.startContainer):Gn(this.element,e.startContainer)&&Gn(this.element,e.endContainer)}}Kn.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Kn.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Kn.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Kn.proxyMethod("pointMapper.createDOMRangeFromPoint"),Kn.proxyMethod("pointMapper.getClientRectsForDOMRange");var If=Object.freeze({__proto__:null,Attachment:Di,AttachmentManager:kf,AttachmentPiece:ki,Block:Jt,Composition:Tn,Document:$t,Editor:Mf,HTMLParser:kr,HTMLSanitizer:ns,LineBreakInsertion:_f,LocationMapper:$f,ManagedAttachment:Je,Piece:si,PointMapper:Of,SelectionManager:Kn,SplittableList:Mo,StringPiece:Cl,Text:Wt,UndoManager:Ia}),p0=Object.freeze({__proto__:null,ObjectView:oi,AttachmentView:Al,BlockView:Af,DocumentView:is,PieceView:bf,PreviewableAttachmentView:yf,TextView:wf});const{lang:Ks,css:Hn,keyNames:g0}=Fr,Gs=function(n){return function(){const e=n.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class Nf extends Ze{constructor(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),At(this,"makeElementMutable",Gs(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),At(this,"addToolbar",Gs(()=>{const l=Ce({tagName:"div",className:Hn.attachmentToolbar,data:{trixMutable:!0},childNodes:Ce({tagName:"div",className:"trix-button-row",childNodes:Ce({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:Ce({tagName:"button",className:"trix-button trix-button--remove",textContent:Ks.remove,attributes:{title:Ks.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&l.appendChild(Ce({tagName:"div",className:Hn.attachmentMetadataContainer,childNodes:Ce({tagName:"span",className:Hn.attachmentMetadata,childNodes:[Ce({tagName:"span",className:Hn.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),Ce({tagName:"span",className:Hn.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),Ye("click",{onElement:l,withCallback:this.didClickToolbar}),Ye("click",{onElement:l,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ar("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:l,attachment:this.attachment}}),{do:()=>this.element.appendChild(l),undo:()=>Dn(l)}})),At(this,"installCaptionEditor",Gs(()=>{const l=Ce({tagName:"textarea",className:Hn.attachmentCaptionEditor,attributes:{placeholder:Ks.captionPlaceholder},data:{trixMutable:!0}});l.value=this.attachmentPiece.getCaption();const d=l.cloneNode();d.classList.add("trix-autoresize-clone"),d.tabIndex=-1;const g=function(){d.value=l.value,l.style.height=d.scrollHeight+"px"};Ye("input",{onElement:l,withCallback:g}),Ye("input",{onElement:l,withCallback:this.didInputCaption}),Ye("keydown",{onElement:l,withCallback:this.didKeyDownCaption}),Ye("change",{onElement:l,withCallback:this.didChangeCaption}),Ye("blur",{onElement:l,withCallback:this.didBlurCaption});const s=this.element.querySelector("figcaption"),p=s.cloneNode();return{do:()=>{if(s.style.display="none",p.appendChild(l),p.appendChild(d),p.classList.add("".concat(Hn.attachmentCaption,"--editing")),s.parentElement.insertBefore(p,s),g(),this.options.editCaption)return vl(()=>l.focus())},undo(){Dn(p),s.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=i,this.options=r,this.attachment=this.attachmentPiece.attachment,pt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const l=this.pendingCaption;var e,t,i,r;this.pendingCaption=null,l?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:l},this.attachment):(i=this.delegate)===null||i===void 0||(r=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||r===void 0||r.call(i,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,i;if(g0[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(i=t.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class Ff extends Ze{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new is(this.composition.document,{element:this.element}),Ye("focus",{onElement:this.element,withCallback:this.didFocus}),Ye("blur",{onElement:this.element,withCallback:this.didBlur}),Ye("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),Ye("mousedown",{onElement:this.element,matchingSelector:Jn,withCallback:this.didClickAttachment}),Ye("click",{onElement:this.element,matchingSelector:"a".concat(Jn),preventDefault:!0})}didFocus(e){var t;const i=()=>{var r,l;if(!this.focused)return this.focused=!0,(r=this.delegate)===null||r===void 0||(l=r.compositionControllerDidFocus)===null||l===void 0?void 0:l.call(r)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(i))||i()}didBlur(e){this.blurPromise=new Promise(t=>vl(()=>{var i,r;return pl(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidBlur)===null||r===void 0||r.call(i)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var i,r;const l=this.findAttachmentForElement(t),d=!!$n(e.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerDidSelectAttachment)===null||r===void 0?void 0:r.call(i,l,{editCaption:d})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,i,r,l,d;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillSyncDocumentView)===null||r===void 0||r.call(i),this.documentView.sync(),(l=this.delegate)===null||l===void 0||(d=l.compositionControllerDidSyncDocumentView)===null||d===void 0||d.call(l)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===e)return;const r=this.documentView.findElementForObject(e);if(!r)return;this.uninstallAttachmentEditor();const l=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new Nf(l,r,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var i,r;return(i=this.delegate)===null||i===void 0||(r=i.compositionControllerWillUpdateAttachment)===null||r===void 0||r.call(i,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class Pf extends Ze{}const Bf="data-trix-mutable",m0="[".concat(Bf,"]"),v0={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Wf extends Ze{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,v0)}stop(){return this.observer.disconnect()}didMutate(e){var t,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(i=t.elementDidMutate)===null||i===void 0||i.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!of(e)}nodeIsMutable(e){return $n(e,{matchingSelector:m0})}nodesModifiedByMutation(e){const t=[];switch(e.type){case"attributes":e.attributeName!==Bf&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(g=>{Array.from(e).includes(g)||e.push(g)}),t.push(...Array.from(i.deletions||[]));const r={},l=e.join("");l&&(r.textAdded=l);const d=t.join("");return d&&(r.textDeleted=d),r}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t;const i=[],r=[];Array.from(this.getMutationsByType("childList")).forEach(g=>{i.push(...Array.from(g.addedNodes||[])),r.push(...Array.from(g.removedNodes||[]))}),i.length===0&&r.length===1&&Ai(r[0])?(e=[],t=[`
`]):(e=Na(i),t=Na(r));const l=e.filter((g,s)=>g!==t[s]).map(qi),d=t.filter((g,s)=>g!==e[s]).map(qi);return{additions:l,deletions:d}}getTextChangesFromCharacterData(){let e,t;const i=this.getMutationsByType("characterData");if(i.length){const r=i[0],l=i[i.length-1],d=function(g,s){let p,o;return g=Tr.box(g),(s=Tr.box(s)).length<g.length?[o,p]=gu(g,s):[p,o]=gu(s,g),{added:p,removed:o}}(qi(r.oldValue),qi(l.target.data));e=d.added,t=d.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}}const Na=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const t of Array.from(n))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:pt(t)==="br"?e.push(`
`):e.push(...Array.from(Na(t.childNodes)))}return e};class Hf extends Lo{constructor(e){super(...arguments),this.file=e}perform(e){const t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}}class y0{constructor(e){this.element=e}shouldIgnore(e){return!!Nr.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&b0(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}}const b0=(n,e)=>Fu(n)===Fu(e),w0=new RegExp("(".concat("","|").concat(ts,"|").concat(_n,"|\\s)+"),"g"),Fu=n=>n.replace(w0," ").trim();class rs extends Ze{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new Wf(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new y0(this.element);for(const t in this.constructor.events)Ye(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){const t=Array.from(e).map(i=>new Hf(i));return Promise.all(t).then(i=>{this.handleInput(function(){var r,l;return(r=this.delegate)===null||r===void 0||r.inputControllerWillAttachFiles(),(l=this.responder)===null||l===void 0||l.insertFiles(i),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!pl(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(e,t){const i=document.createElement("a");return i.href=e,i.textContent=t||e,i.outerHTML}}var Ys;At(rs,"events",{});const{browser:A0,keyNames:jf}=Fr;let S0=0;class sn extends rs{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const t in e){const i=e[t];this.inputSummary[t]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),ni.reset()}elementDidMutate(e){var t,i;return this.isComposing()?(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:i}=e;if(this.inputSummary.preferDocument)return!0;const r=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,l=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,d=[`
`,` 
`].includes(t)&&!r,g=i===`
`&&!l;if(d&&!g||g&&!d){const p=this.getSelectedRange();if(p){var s;const o=d?t.replace(/\n$/,"").length||-1:(t==null?void 0:t.length)||1;if((s=this.responder)!==null&&s!==void 0&&s.positionIsBlockBreak(p[1]+o))return!0}}return r&&l}mutationIsSignificant(e){var t;const i=Object.keys(e).length>0,r=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return i||!r}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new An(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(r){if(r==null||!r.setData)return!1;for(const l in du){const d=du[l];try{if(r.setData(l,d),!r.getData(l)===d)return!1}catch{return!1}}return!0}(e))return;const i=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(i)),e.setData("text/html",is.render(i).innerHTML),e.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const t={};return Array.from((e==null?void 0:e.types)||[]).forEach(i=>{t[i]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){const t=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},r=Ce({style:i,tagName:"div",editable:!0});return document.body.appendChild(r),r.focus(),requestAnimationFrame(()=>{const l=r.innerHTML;return Dn(r),this.setSelectedRange(t),e(l)})}}At(sn,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=jf[n.keyCode];if(e){var t;let r=this.keys;["ctrl","alt","shift","meta"].forEach(l=>{var d;n["".concat(l,"Key")]&&(l==="ctrl"&&(l="control"),r=(d=r)===null||d===void 0?void 0:d[l])}),((t=r)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),ni.reset(),r[e].call(this,n))}if(cf(n)){const r=String.fromCharCode(n.keyCode).toLowerCase();if(r){var i;const l=["alt","shift"].map(d=>{if(n["".concat(d,"Key")])return d}).filter(d=>d);l.push(r),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(l)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const e=E0(n);var t,i;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:e}=n,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var i;const r=this.getSelectedRange();return this.setSelectedRange([r[0],r[1]+t.length]),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(r)}},dragenter(n){n.preventDefault()},dragstart(n){var e,t;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var e,t;if(!$i(i,this.draggingPoint))return this.draggingPoint=i,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(n){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(n){var e,t;n.preventDefault();const i=(e=n.dataTransfer)===null||e===void 0?void 0:e.files,r=n.dataTransfer.getData("application/x-trix-document"),l={x:n.clientX,y:n.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(l),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var d,g;(d=this.delegate)===null||d===void 0||d.inputControllerWillMoveText(),(g=this.responder)===null||g===void 0||g.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var s;const p=$t.fromJSONString(r);(s=this.responder)===null||s===void 0||s.insertDocument(p),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const e=n.clipboardData||n.testClipboardData,t={clipboard:e};if(!e||T0(n))return void this.getPastedHTMLUsingHiddenElement(x=>{var C,y,T;return t.type="text/html",t.html=x,(C=this.delegate)===null||C===void 0||C.inputControllerWillPaste(t),(y=this.responder)===null||y===void 0||y.insertHTML(t.html),this.requestRender(),(T=this.delegate)===null||T===void 0?void 0:T.inputControllerDidPaste(t)});const i=e.getData("URL"),r=e.getData("text/html"),l=e.getData("public.url-name");if(i){var d,g,s;let x;t.type="text/html",x=l?bl(l).trim():i,t.html=this.createLinkHTML(i,x),(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(t),this.setInputSummary({textAdded:x,didDelete:this.selectionIsExpanded()}),(g=this.responder)===null||g===void 0||g.insertHTML(t.html),this.requestRender(),(s=this.delegate)===null||s===void 0||s.inputControllerDidPaste(t)}else if(lf(e)){var p,o,a;t.type="text/plain",t.string=e.getData("text/plain"),(p=this.delegate)===null||p===void 0||p.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(o=this.responder)===null||o===void 0||o.insertString(t.string),this.requestRender(),(a=this.delegate)===null||a===void 0||a.inputControllerDidPaste(t)}else if(r){var u,c,h;t.type="text/html",t.html=r,(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(t),(c=this.responder)===null||c===void 0||c.insertHTML(t.html),this.requestRender(),(h=this.delegate)===null||h===void 0||h.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var f,v;const x=(f=e.items)===null||f===void 0||(f=f[0])===null||f===void 0||(v=f.getAsFile)===null||v===void 0?void 0:v.call(f);if(x){var b,S,R;const C=C0(x);!x.name&&C&&(x.name="pasted-file-".concat(++S0,".").concat(C)),t.type="File",t.file=x,(b=this.delegate)===null||b===void 0||b.inputControllerWillAttachFiles(),(S=this.responder)===null||S===void 0||S.insertFile(t.file),this.requestRender(),(R=this.delegate)===null||R===void 0||R.inputControllerDidPaste(t)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),At(sn,"keys",{backspace(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var e,t;return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),sn.proxyMethod("responder?.getSelectedRange"),sn.proxyMethod("responder?.setSelectedRange"),sn.proxyMethod("responder?.expandSelectionInDirection"),sn.proxyMethod("responder?.selectionIsInCursorTarget"),sn.proxyMethod("responder?.selectionIsExpanded");const C0=n=>{var e;return(e=n.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},x0=!((Ys=" ".codePointAt)===null||Ys===void 0||!Ys.call(" ",0)),E0=function(n){if(n.key&&x0&&n.key.codePointAt(0)===n.keyCode)return n.key;{let e;if(n.which===null?e=n.keyCode:n.which!==0&&n.charCode!==0&&(e=n.charCode),e!=null&&jf[e]!=="escape")return Tr.fromCodepoints([e]).toString()}},T0=function(n){const e=n.clipboardData;if(e){if(e.types.includes("text/html")){for(const t of e.types){const i=/^CorePasteboardFlavorType/.test(t),r=/^dyn\./.test(t)&&e.getData(t);if(i||r)return!0}return!1}{const t=e.types.includes("com.apple.webarchive"),i=e.types.includes("com.apple.flat-rtfd");return t||i}}};class An extends Ze{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(r=this.responder)===null||r===void 0||r.insertString(this.data.end),(l=this.responder)===null||l===void 0?void 0:l.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,i,r,l}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!A0.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}}An.proxyMethod("inputController.setInputSummary"),An.proxyMethod("inputController.requestRender"),An.proxyMethod("inputController.requestReparse"),An.proxyMethod("responder?.selectionIsExpanded"),An.proxyMethod("responder?.insertPlaceholder"),An.proxyMethod("responder?.selectPlaceholder"),An.proxyMethod("responder?.forgetPlaceholder");class dr extends rs{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.insertString(t,i)})}toggleAttributeIfSupported(e){var t;if(La().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var i;if(La().includes(e))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;t&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const r=()=>{var d;return(d=this.responder)===null||d===void 0?void 0:d.deleteInDirection(e)},l=this.getTargetDOMRange({minLength:this.composing?1:2});return l?this.withTargetDOMRange(l,r):r()}withTargetDOMRange(e,t){var i;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(e,t.bind(this)):(ni.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const r=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(r&&r.length){const l=k0(r[0]);if(i===0||l.toString().length>=i)return l}}withEvent(e,t){let i;this.event=e;try{i=t.call(this)}finally{this.event=null}return i}}At(dr,"events",{keydown(n){if(cf(n)){var e;const t=R0(n);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&n.preventDefault()}else{let t=n.key;n.altKey&&(t+="+Alt"),n.shiftKey&&(t+="+Shift");const i=this.constructor.keys[t];if(i)return this.withEvent(n,i)}},paste(n){var e;let t;const i=(e=n.clipboardData)===null||e===void 0?void 0:e.getData("URL");return zf(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):L0(n)?(n.preventDefault(),t={type:"text/plain",string:n.clipboardData.getData("text/plain")},(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(t),(l=this.responder)===null||l===void 0||l.insertString(t.string),this.render(),(d=this.delegate)===null||d===void 0?void 0:d.inputControllerDidPaste(t)):i?(n.preventDefault(),t={type:"text/html",html:this.createLinkHTML(i)},(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(t),(s=this.responder)===null||s===void 0||s.insertHTML(t.html),this.render(),(p=this.delegate)===null||p===void 0?void 0:p.inputControllerDidPaste(t)):void 0;var r,l,d,g,s,p},beforeinput(n){const e=this.constructor.inputTypes[n.inputType],t=(i=n,!(!/iPhone|iPad/.test(navigator.userAgent)||i.inputType&&i.inputType!=="insertParagraph"));var i;e&&(this.withEvent(n,e),t||this.scheduleRender()),t&&this.render()},input(n){ni.reset()},dragstart(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:Js(n)})},dragenter(n){qs(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const t=Js(n);var e;if(!$i(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else qs(n)&&n.preventDefault()},drop(n){var e,t;if(this.dragging)return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(qs(n)){var i;n.preventDefault();const r=Js(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(r),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Nr.recentAndroid||this.scheduleRender())}}),At(dr,"keys",{ArrowLeft(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var n,e,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),At(dr,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const t in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var e;if(n)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(n)})},insertFromPaste(){const{dataTransfer:n}=this.event,e={dataTransfer:n},t=n.getData("URL"),i=n.getData("text/html");if(t){var r;let s;this.event.preventDefault(),e.type="text/html";const p=n.getData("public.url-name");s=p?bl(p).trim():t,e.html=this.createLinkHTML(t,s),(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var o;return(o=this.responder)===null||o===void 0?void 0:o.insertHTML(e.html)}),this.afterRender=()=>{var o;return(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(e)}}else if(lf(n)){var l;e.type="text/plain",e.string=n.getData("text/plain"),(l=this.delegate)===null||l===void 0||l.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertString(e.string)}),this.afterRender=()=>{var s;return(s=this.delegate)===null||s===void 0?void 0:s.inputControllerDidPaste(e)}}else if(_0(this.event)){var d;e.type="File",e.file=n.files[0],(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertFile(e.file)}),this.afterRender=()=>{var s;return(s=this.delegate)===null||s===void 0?void 0:s.inputControllerDidPaste(e)}}else if(i){var g;this.event.preventDefault(),e.type="text/html",e.html=i,(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertHTML(e.html)}),this.afterRender=()=>{var s;return(s=this.delegate)===null||s===void 0?void 0:s.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const n=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const k0=function(n){const e=document.createRange();return e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),e},qs=n=>{var e;return Array.from(((e=n.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},_0=n=>{var e;return((e=n.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!zf(n)&&!(t=>{let{dataTransfer:i}=t;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(n)},zf=function(n){const e=n.clipboardData;if(e)return Array.from(e.types).filter(t=>t.match(/file/i)).length===e.types.length&&e.files.length>=1},L0=function(n){const e=n.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},R0=function(n){const e=[];return n.altKey&&e.push("alt"),n.shiftKey&&e.push("shift"),e.push(n.key),e},Js=n=>({x:n.clientX,y:n.clientY}),Fa="[data-trix-attribute]",Pa="[data-trix-action]",M0="".concat(Fa,", ").concat(Pa),os="[data-trix-dialog]",$0="".concat(os,"[data-trix-active]"),D0="".concat(os," [data-trix-method]"),Pu="".concat(os," [data-trix-input]"),Bu=(n,e)=>(e||(e=gi(n)),n.querySelector("[data-trix-input][name='".concat(e,"']"))),Wu=n=>n.getAttribute("data-trix-action"),gi=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Uf extends Ze{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),Ye("mousedown",{onElement:this.element,matchingSelector:Pa,withCallback:this.didClickActionButton}),Ye("mousedown",{onElement:this.element,matchingSelector:Fa,withCallback:this.didClickAttributeButton}),Ye("click",{onElement:this.element,matchingSelector:M0,preventDefault:!0}),Ye("click",{onElement:this.element,matchingSelector:D0,withCallback:this.didClickDialogButton}),Ye("keydown",{onElement:this.element,matchingSelector:Pu,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const r=Wu(t);return this.getDialog(r)?this.toggleDialog(r):(l=this.delegate)===null||l===void 0?void 0:l.toolbarDidInvokeAction(r,t);var l}didClickAttributeButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const r=gi(t);var l;return this.getDialog(r)?this.toggleDialog(r):(l=this.delegate)===null||l===void 0||l.toolbarDidToggleAttribute(r),this.refreshAttributeButtons()}didClickDialogButton(e,t){const i=$n(t,{matchingSelector:os});return this[t.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();const i=t.getAttribute("name"),r=this.getDialog(i);this.setAttribute(r)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(Pa)).map(t=>e(t,Wu(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(Fa)).map(t=>e(t,gi(t)))}applyKeyboardCommand(e){const t=JSON.stringify(e.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const r=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(r.sort())===t)return ar("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(e){const t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,i;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();const r=this.getDialog(e);r.setAttribute("data-trix-active",""),r.classList.add("trix-active"),Array.from(r.querySelectorAll("input[disabled]")).forEach(d=>{d.removeAttribute("disabled")});const l=gi(r);if(l){const d=Bu(r,e);d&&(d.value=this.attributes[l]||"",d.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(e)}setAttribute(e){var t;const i=gi(e),r=Bu(e,i);return!r.willValidate||(r.setCustomValidity(""),r.checkValidity()&&this.isSafeAttribute(r))?((t=this.delegate)===null||t===void 0||t.toolbarDidUpdateAttribute(i,r.value),this.hideDialog()):(r.setCustomValidity("Invalid value"),r.setAttribute("data-trix-validate",""),r.classList.add("trix-validate"),r.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||Ro.isValidAttribute("a","href",e.value)}removeAttribute(e){var t;const i=gi(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const e=this.element.querySelector($0);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Pu)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class fr extends Pf{constructor(e){let{editorElement:t,document:i,html:r}=e;super(...arguments),this.editorElement=t,this.selectionManager=new Kn(this.editorElement),this.selectionManager.delegate=this,this.composition=new Tn,this.composition.delegate=this,this.attachmentManager=new kf(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=gl.getLevel()===2?new dr(this.editorElement):new sn(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Ff(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Uf(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Mf(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(r)}registerSelectionManager(){return ni.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return ni.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){const t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!_o(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,t){return this.invokeAction(e,t)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(t=t.test)===null||t===void 0||!t.call(this));var t}invokeAction(e,t){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:t}):(i=this.actions[e])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!$i(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(r=>{const{document:l,selectedRange:d}=e;e=r.call(this.editor,e)||{},e.document||(e.document=l),e.selectedRange||(e.selectedRange=d)}),t=e,i=this.composition.getSnapshot(),!_o(t.selectedRange,i.selectedRange)||!t.document.isEqualTo(i.document))return this.composition.loadSnapshot(e);var t,i}updateInputElement(){const e=function(t,i){const r=l0[i];return r(t)}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const t=Qe(e),i=this.selectionManager.getLocationRange();if(t||!cn(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return cn(e)?e[0].index:e}getTimeContext(){return Ta.interval>0?Math.floor(new Date().getTime()/Ta.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}At(fr,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return gl.pickFiles(this.editor.insertFiles)}}}),fr.proxyMethod("getSelectionManager().setLocationRange"),fr.proxyMethod("getSelectionManager().getLocationRange");var O0=Object.freeze({__proto__:null,AttachmentEditorController:Nf,CompositionController:Ff,Controller:Pf,EditorController:fr,InputController:rs,Level0InputController:sn,Level2InputController:dr,ToolbarController:Uf}),I0=Object.freeze({__proto__:null,MutationObserver:Wf,SelectionChangeObserver:hf}),N0=Object.freeze({__proto__:null,FileVerificationOperation:Hf,ImagePreloadOperation:xf});af("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Vf extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=sf.getDefaultHTML())}}let F0=0;const P0=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,Ye(e,t)}("focus",{onElement:n,withCallback:()=>B0(n)})},B0=function(n){return W0(n),H0()},W0=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),Ye("mscontrolselect",{onElement:n,preventDefault:!0})},H0=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){const{tagName:i}=yt.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},Hu=Nr.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};af("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Jn,` figcaption textarea {
    resize: none;
}

%t `).concat(Jn,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Jn,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Hu.display,` !important;
    width: `).concat(Hu.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var rn=new WeakMap,Ki=new WeakSet;class j0{constructor(e){var t,i;Cf(t=this,i=Ki),i.add(t),hr(this,rn,{writable:!0,value:void 0}),this.element=e,Sl(this,rn,e.attachInternals())}connectedCallback(){eo(this,Ki,to).call(this)}disconnectedCallback(){}get labels(){return Ue(this,rn).labels}get disabled(){var e;return(e=this.element.inputElement)===null||e===void 0?void 0:e.disabled}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),eo(this,Ki,to).call(this)}get validity(){return Ue(this,rn).validity}get validationMessage(){return Ue(this,rn).validationMessage}get willValidate(){return Ue(this,rn).willValidate}setFormValue(e){eo(this,Ki,to).call(this)}checkValidity(){return Ue(this,rn).checkValidity()}reportValidity(){return Ue(this,rn).reportValidity()}setCustomValidity(e){eo(this,Ki,to).call(this,e)}}function to(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:t}=this.element,i=e&&!t,r=!!n,l=Ce("input",{required:e}),d=n||l.validationMessage;Ue(this,rn).setValidity({valueMissing:i,customError:r},d)}var Qs=new WeakMap,Xs=new WeakMap,Zs=new WeakMap;class z0{constructor(e){hr(this,Qs,{writable:!0,value:void 0}),hr(this,Xs,{writable:!0,value:t=>{t.defaultPrevented||t.target===this.element.form&&this.element.reset()}}),hr(this,Zs,{writable:!0,value:t=>{if(t.defaultPrevented||this.element.contains(t.target))return;const i=$n(t.target,{matchingSelector:"label"});i&&Array.from(this.labels).includes(i)&&this.element.focus()}}),this.element=e}connectedCallback(){Sl(this,Qs,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const t=function(){const i=Array.from(e.labels).map(l=>{if(!l.contains(e))return l.textContent}).filter(l=>l),r=i.join(" ");return r?e.setAttribute("aria-label",r):e.removeAttribute("aria-label")};return t(),Ye("focus",{onElement:e,withCallback:t})}(this.element)),window.addEventListener("reset",Ue(this,Xs),!1),window.addEventListener("click",Ue(this,Zs),!1)}disconnectedCallback(){var e;(e=Ue(this,Qs))===null||e===void 0||e.destroy(),window.removeEventListener("reset",Ue(this,Xs),!1),window.removeEventListener("click",Ue(this,Zs),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const t=$n(this.element,{matchingSelector:"label"});return t&&[this.element,null].includes(t.control)&&e.push(t),e}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var at=new WeakMap;class xl extends HTMLElement{constructor(){super(),hr(this,at,{writable:!0,value:void 0}),Sl(this,at,this.constructor.formAssociated?new j0(this):new z0(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++F0),this.trixId)}get labels(){return Ue(this,at).labels}get disabled(){return Ue(this,at).disabled}set disabled(e){Ue(this,at).disabled=e}get required(){return Ue(this,at).required}set required(e){Ue(this,at).required=e}get validity(){return Ue(this,at).validity}get validationMessage(){return Ue(this,at).validationMessage}get willValidate(){return Ue(this,at).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const t="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",t);const i=Ce("trix-toolbar",{id:t});return this.parentNode.insertBefore(i,this),i}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){const t="trix-input-".concat(this.trixId);this.setAttribute("input",t);const i=Ce("input",{type:"hidden",id:t});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}notify(e,t){if(this.editorController)return ar("trix-".concat(e),{onElement:this,attributes:t})}setFormValue(e){this.inputElement&&(this.inputElement.value=e,Ue(this,at).setFormValue(e))}connectedCallback(){this.hasAttribute("data-trix-internal")||(P0(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),this.editorController||(ar("trix-before-initialize",{onElement:this}),this.editorController=new fr({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>ar("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),Ue(this,at).connectedCallback(),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),Ue(this,at).disconnectedCallback()}checkValidity(){return Ue(this,at).checkValidity()}reportValidity(){return Ue(this,at).reportValidity()}setCustomValidity(e){Ue(this,at).setCustomValidity(e)}formDisabledCallback(e){this.inputElement&&(this.inputElement.disabled=e),this.toggleAttribute("contenteditable",!e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}At(xl,"formAssociated","ElementInternals"in window);const ju={VERSION:Kb,config:Fr,core:c0,models:If,views:p0,controllers:O0,observers:I0,operations:N0,elements:Object.freeze({__proto__:null,TrixEditorElement:xl,TrixToolbarElement:Vf}),filters:Object.freeze({__proto__:null,Filter:Lf,attachmentGalleryFilter:Rf})};Object.assign(ju,If),window.Trix=ju,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Vf),customElements.get("trix-editor")||customElements.define("trix-editor",xl)},0);const U0={class:"trix_container"},V0=["name","value"],K0={__name:"RichText",props:{name:String,initialContent:String},setup(n){const e=n;return(t,i)=>{const r=Hh("trix-editor");return he(),ye("div",U0,[ue("input",{id:"x",type:"hidden",name:e.name,value:e.initialContent},null,8,V0),Ke(r,{input:"x"})])}}},G0=Mi(K0,[["__scopeId","data-v-ccce3a63"]]);var Y0=Object.defineProperty,q0=Object.defineProperties,J0=Object.getOwnPropertyDescriptors,zu=Object.getOwnPropertySymbols,Q0=Object.prototype.hasOwnProperty,X0=Object.prototype.propertyIsEnumerable,Uu=(n,e,t)=>e in n?Y0(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,hi=(n,e)=>{for(var t in e||(e={}))Q0.call(e,t)&&Uu(n,t,e[t]);if(zu)for(var t of zu(e))X0.call(e,t)&&Uu(n,t,e[t]);return n},Vu=(n,e)=>q0(n,J0(e));const Z0={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(n){this.autoscroll&&n&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var n;const e=((n=this.$refs.dropdownMenu)==null?void 0:n.children[this.typeAheadPointer])||!1;if(e){const t=this.getDropdownViewport(),{top:i,bottom:r,height:l}=e.getBoundingClientRect();if(i<t.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(r>t.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(t.height-l)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},eA={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let n=0;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},open(n){n&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let n=this.typeAheadPointer-1;n>=0;n--)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadDown(){for(let n=this.typeAheadPointer+1;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadSelect(){const n=this.filteredOptions[this.typeAheadPointer];n&&this.selectable(n)&&this.select(n)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},tA={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(n){this.mutableLoading=n}},methods:{toggleLoading(n=null){return n==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=n}}},El=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},nA={},iA={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},rA=ue("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),oA=[rA];function sA(n,e){return he(),ye("svg",iA,oA)}const aA=El(nA,[["render",sA]]),lA={},cA={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},uA=ue("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),hA=[uA];function dA(n,e){return he(),ye("svg",cA,hA)}const fA=El(lA,[["render",dA]]),Ku={Deselect:aA,OpenIndicator:fA},pA={mounted(n,{instance:e}){if(e.appendToBody){const{height:t,top:i,left:r,width:l}=e.$refs.toggle.getBoundingClientRect();let d=window.scrollX||window.pageXOffset,g=window.scrollY||window.pageYOffset;n.unbindPosition=e.calculatePosition(n,e,{width:l+"px",left:d+r+"px",top:g+i+t+"px"}),document.body.appendChild(n)}},unmounted(n,{instance:e}){e.appendToBody&&(n.unbindPosition&&typeof n.unbindPosition=="function"&&n.unbindPosition(),n.parentNode&&n.parentNode.removeChild(n))}};function gA(n){const e={};return Object.keys(n).sort().forEach(t=>{e[t]=n[t]}),JSON.stringify(e)}let mA=0;function vA(){return++mA}const yA={components:hi({},Ku),directives:{appendToBody:pA},mixins:[Z0,eA,tA],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:n=>n},selectable:{type:Function,default:n=>!0},getOptionLabel:{type:Function,default(n){return typeof n=="object"?n.hasOwnProperty(this.label)?n[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(n)}.
https://vue-select.org/api/props.html#getoptionlabel`):n}},getOptionKey:{type:Function,default(n){if(typeof n!="object")return n;try{return n.hasOwnProperty("id")?n.id:gA(n)}catch(e){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,n,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(n,e,t){return(e||"").toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1}},filter:{type:Function,default(n,e){return n.filter(t=>{let i=this.getOptionLabel(t);return typeof i=="number"&&(i=i.toString()),this.filterBy(t,i,e)})}},createOption:{type:Function,default(n){return typeof this.optionList[0]=="object"?{[this.label]:n}:n}},resetOnOptionsChange:{default:!1,validator:n=>["function","boolean"].includes(typeof n)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:n,multiple:e}){return n&&!e}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(n,e)=>n},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(n,e,{width:t,top:i,left:r}){n.style.top=i,n.style.left=r,n.style.width=t}},dropdownShouldOpen:{type:Function,default({noDrop:n,open:e,mutableLoading:t}){return n?!1:e&&!t}},uid:{type:[String,Number],default:()=>vA()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let n=this.modelValue;return this.isTrackingValues&&(n=this.$data._value),n!=null&&n!==""?[].concat(n):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const n={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:hi({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:e=>this.search=e.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:n,listFooter:n,header:Vu(hi({},n),{deselect:this.deselect}),footer:Vu(hi({},n),{deselect:this.deselect})}},childComponents(){return hi(hi({},Ku),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const n=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return n;const e=this.search.length?this.filter(n,this.search,this):n;if(this.taggable&&this.search.length){const t=this.createOption(this.search);this.optionExists(t)||e.unshift(t)}return e},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(n,e){const t=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(n,e,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&t()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(n){this.isTrackingValues&&this.setInternalValueFromOptions(n)}},multiple(){this.clearSelection()},open(n){this.$emit(n?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(n){Array.isArray(n)?this.$data._value=n.map(e=>this.findOptionFromReducedValue(e)):this.$data._value=this.findOptionFromReducedValue(n)},select(n){this.$emit("option:selecting",n),this.isOptionSelected(n)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(n):(this.taggable&&!this.optionExists(n)&&(this.$emit("option:created",n),this.pushTag(n)),this.multiple&&(n=this.selectedValue.concat(n)),this.updateValue(n),this.$emit("option:selected",n)),this.onAfterSelect(n)},deselect(n){this.$emit("option:deselecting",n),this.updateValue(this.selectedValue.filter(e=>!this.optionComparator(e,n))),this.$emit("option:deselected",n)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(n){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(n){typeof this.modelValue>"u"&&(this.$data._value=n),n!==null&&(Array.isArray(n)?n=n.map(e=>this.reduce(e)):n=this.reduce(n)),this.$emit("update:modelValue",n)},toggleDropdown(n){const e=n.target!==this.searchEl;e&&n.preventDefault();const t=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||t.filter(Boolean).some(i=>i.contains(n.target)||i===n.target)){n.preventDefault();return}this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(n){return this.selectedValue.some(e=>this.optionComparator(e,n))},isOptionDeselectable(n){return this.isOptionSelected(n)&&this.deselectFromDropdown},optionComparator(n,e){return this.getOptionKey(n)===this.getOptionKey(e)},findOptionFromReducedValue(n){const e=i=>JSON.stringify(this.reduce(i))===JSON.stringify(n),t=[...this.options,...this.pushedTags].filter(e);return t.length===1?t[0]:t.find(i=>this.optionComparator(i,this.$data._value))||n},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let n=null;this.multiple&&(n=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(n)}},optionExists(n){return this.optionList.some(e=>this.optionComparator(e,n))},normalizeOptionForSlot(n){return typeof n=="object"?n:{[this.label]:n}},pushTag(n){this.pushedTags.push(n)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:n,multiple:e}=this;this.clearSearchOnBlur({clearSearchOnSelect:n,multiple:e})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(n){const e=r=>(r.preventDefault(),!this.isComposing&&this.typeAheadSelect()),t={8:r=>this.maybeDeleteValue(),9:r=>this.onTab(),27:r=>this.onEscape(),38:r=>(r.preventDefault(),this.typeAheadUp()),40:r=>(r.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(r=>t[r]=e);const i=this.mapKeydown(t,this);if(typeof i[n.keyCode]=="function")return i[n.keyCode](n)}}},bA=["dir"],wA=["id","aria-expanded","aria-owns"],AA={ref:"selectedOptions",class:"vs__selected-options"},SA=["disabled","title","aria-label","onClick"],CA={ref:"actions",class:"vs__actions"},xA=["disabled"],EA={class:"vs__spinner"},TA=["id"],kA=["id","aria-selected","onMouseover","onClick"],_A={key:0,class:"vs__no-options"},LA=Ci(" Sorry, no matching options. "),RA=["id"];function MA(n,e,t,i,r,l){const d=ug("append-to-body");return he(),ye("div",{dir:t.dir,class:fn(["v-select",l.stateClasses])},[St(n.$slots,"header",Ft(Pt(l.scope.header))),ue("div",{id:`vs${t.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":l.dropdownOpen.toString(),"aria-owns":`vs${t.uid}__listbox`,"aria-label":"Search for option",onMousedown:e[1]||(e[1]=g=>l.toggleDropdown(g))},[ue("div",AA,[(he(!0),ye(Ve,null,yr(l.selectedValue,(g,s)=>St(n.$slots,"selected-option-container",{option:l.normalizeOptionForSlot(g),deselect:l.deselect,multiple:t.multiple,disabled:t.disabled},()=>[(he(),ye("span",{key:t.getOptionKey(g),class:"vs__selected"},[St(n.$slots,"selected-option",Ft(Pt(l.normalizeOptionForSlot(g))),()=>[Ci(it(t.getOptionLabel(g)),1)]),t.multiple?(he(),ye("button",{key:0,ref_for:!0,ref:p=>r.deselectButtons[s]=p,disabled:t.disabled,type:"button",class:"vs__deselect",title:`Deselect ${t.getOptionLabel(g)}`,"aria-label":`Deselect ${t.getOptionLabel(g)}`,onClick:p=>l.deselect(g)},[(he(),st(ro(l.childComponents.Deselect)))],8,SA)):Me("",!0)]))])),256)),St(n.$slots,"search",Ft(Pt(l.scope.search)),()=>[ue("input",fa({class:"vs__search"},l.scope.search.attributes,hg(l.scope.search.events)),null,16)])],512),ue("div",CA,[Mt(ue("button",{ref:"clearButton",disabled:t.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:e[0]||(e[0]=(...g)=>l.clearSelection&&l.clearSelection(...g))},[(he(),st(ro(l.childComponents.Deselect)))],8,xA),[[hc,l.showClearButton]]),St(n.$slots,"open-indicator",Ft(Pt(l.scope.openIndicator)),()=>[t.noDrop?Me("",!0):(he(),st(ro(l.childComponents.OpenIndicator),Ft(fa({key:0},l.scope.openIndicator.attributes)),null,16))]),St(n.$slots,"spinner",Ft(Pt(l.scope.spinner)),()=>[Mt(ue("div",EA,"Loading...",512),[[hc,n.mutableLoading]])])],512)],40,wA),Ke(fd,{name:t.transition},{default:Rn(()=>[l.dropdownOpen?Mt((he(),ye("ul",{id:`vs${t.uid}__listbox`,ref:"dropdownMenu",key:`vs${t.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:e[2]||(e[2]=ma((...g)=>l.onMousedown&&l.onMousedown(...g),["prevent"])),onMouseup:e[3]||(e[3]=(...g)=>l.onMouseUp&&l.onMouseUp(...g))},[St(n.$slots,"list-header",Ft(Pt(l.scope.listHeader))),(he(!0),ye(Ve,null,yr(l.filteredOptions,(g,s)=>(he(),ye("li",{id:`vs${t.uid}__option-${s}`,key:t.getOptionKey(g),role:"option",class:fn(["vs__dropdown-option",{"vs__dropdown-option--deselect":l.isOptionDeselectable(g)&&s===n.typeAheadPointer,"vs__dropdown-option--selected":l.isOptionSelected(g),"vs__dropdown-option--highlight":s===n.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(g)}]),"aria-selected":s===n.typeAheadPointer?!0:null,onMouseover:p=>t.selectable(g)?n.typeAheadPointer=s:null,onClick:ma(p=>t.selectable(g)?l.select(g):null,["prevent","stop"])},[St(n.$slots,"option",Ft(Pt(l.normalizeOptionForSlot(g))),()=>[Ci(it(t.getOptionLabel(g)),1)])],42,kA))),128)),l.filteredOptions.length===0?(he(),ye("li",_A,[St(n.$slots,"no-options",Ft(Pt(l.scope.noOptions)),()=>[LA])])):Me("",!0),St(n.$slots,"list-footer",Ft(Pt(l.scope.listFooter)))],40,TA)),[[d]]):(he(),ye("ul",{key:1,id:`vs${t.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,RA))]),_:3},8,["name"]),St(n.$slots,"footer",Ft(Pt(l.scope.footer)))],10,bA)}const $A=El(yA,[["render",MA]]),DA={style:{width:"100%"}},OA=["name","value"],IA={class:"is-flex"},NA={key:0},FA={key:1},PA={key:2,class:"ml-2"},BA={__name:"RelationalFieldSelect",props:{name:String,collection:String,labelField:String,firstOption:String,selected:[String,Array],combinedFields:Array,isCombinedField:Boolean,multiple:{type:Boolean,default:!1}},setup(n){const{formModel:e}=Qo(Ir()),t=n,i=Ie([]),r=Ie(Array.isArray(t.selected)?t.selected:[t.selected]),l=Ie([]),d=Ie(null);Et(r,a=>{Array.isArray(a)&&(a[0]===""?e.value[t.name]=[]:e.value[t.name]=a)});const g=async()=>{try{const a=await Xe.collection(t.collection).getFullList({});i.value=a,s(a)}catch{d.value=!0}},s=a=>{if(Array.isArray(t.selected))l.value=t.selected.map(u=>{var c;return((c=a.find(h=>h.id===u))==null?void 0:c[t.labelField])||""});else{const u=a.find(c=>c.id===t.selected);l.value=u?[u[t.labelField]]:[]}},p=a=>{Array.isArray(a)?r.value=a.map(u=>u.id):r.value=[a.id]},o=(a,u)=>u.map(c=>a[c]).filter(c=>c).join(" ");return gn(g),(a,u)=>(he(),ye("div",DA,[Array.isArray(r.value)?(he(!0),ye(Ve,{key:0},yr([...new Set(r.value)],c=>(he(),ye("input",{type:"hidden",name:t.name,value:c},null,8,OA))),256)):Me("",!0),Ke(ke($A),{placeholder:t.firstOption,options:i.value,label:t.labelField,modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=c=>l.value=c),multiple:t.multiple,value:t.selected,"onOption:selected":p},{option:Rn(c=>[ue("div",IA,[t.isCombinedField?(he(),ye("span",NA,it(o(c,t.combinedFields)),1)):(he(),ye("span",FA,it(c[t.labelField]),1)),t.collection==="employee"?(he(),ye("span",PA,[Ke(zd,{filename:c.photo,record:c,size:"24x24"},null,8,["filename","record"])])):Me("",!0)])]),_:1},8,["placeholder","options","label","modelValue","multiple","value"])]))}};var ea={exports:{}},Gu;function WA(){return Gu||(Gu=1,function(n,e){(function(){var t="ace",i=function(){return this}();!i&&typeof window<"u"&&(i=window);var r=function(o,a,u){if(typeof o!="string"){r.original?r.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(u=a),r.modules[o]||(r.payloads[o]=u,r.modules[o]=null)};r.modules={},r.payloads={};var l=function(o,a,u){if(typeof a=="string"){var c=s(o,a);if(c!=null)return u&&u(),c}else if(Object.prototype.toString.call(a)==="[object Array]"){for(var h=[],f=0,v=a.length;f<v;++f){var b=s(o,a[f]);if(b==null&&d.original)return;h.push(b)}return u&&u.apply(null,h)||!0}},d=function(o,a){var u=l("",o,a);return u==null&&d.original?d.original.apply(this,arguments):u},g=function(o,a){if(a.indexOf("!")!==-1){var u=a.split("!");return g(o,u[0])+"!"+g(o,u[1])}if(a.charAt(0)=="."){var c=o.split("/").slice(0,-1).join("/");for(a=c+"/"+a;a.indexOf(".")!==-1&&h!=a;){var h=a;a=a.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return a},s=function(o,a){a=g(o,a);var u=r.modules[a];if(!u){if(u=r.payloads[a],typeof u=="function"){var c={},h={id:a,uri:"",exports:c,packaged:!0},f=function(b,S){return l(a,b,S)},v=u(f,c,h);c=v||h.exports,r.modules[a]=c,delete r.payloads[a]}u=r.modules[a]=c||u}return u};function p(o){var a=i;i[o]||(i[o]={}),a=i[o],(!a.define||!a.define.packaged)&&(r.original=a.define,a.define=r,a.define.packaged=!0),(!a.require||!a.require.packaged)&&(d.original=a.require,a.require=d,a.require.packaged=!0)}p(t)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(t,i,r){function l(d,g,s){Object.defineProperty(d,g,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||l(String.prototype,"startsWith",function(d,g){return g=g||0,this.lastIndexOf(d,g)===g}),String.prototype.endsWith||l(String.prototype,"endsWith",function(d,g){var s=this;(g===void 0||g>s.length)&&(g=s.length),g-=d.length;var p=s.indexOf(d,g);return p!==-1&&p===g}),String.prototype.repeat||l(String.prototype,"repeat",function(d){for(var g="",s=this;d>0;)d&1&&(g+=s),(d>>=1)&&(s+=s);return g}),String.prototype.includes||l(String.prototype,"includes",function(d,g){return this.indexOf(d,g)!=-1}),Object.assign||(Object.assign=function(d){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(d),s=1;s<arguments.length;s++){var p=arguments[s];p!=null&&Object.keys(p).forEach(function(o){g[o]=p[o]})}return g}),Object.values||(Object.values=function(d){return Object.keys(d).map(function(g){return d[g]})}),Array.prototype.find||l(Array.prototype,"find",function(d){for(var g=this.length,s=arguments[1],p=0;p<g;p++){var o=this[p];if(d.call(s,o,p,this))return o}}),Array.prototype.findIndex||l(Array.prototype,"findIndex",function(d){for(var g=this.length,s=arguments[1],p=0;p<g;p++){var o=this[p];if(d.call(s,o,p,this))return p}}),Array.prototype.includes||l(Array.prototype,"includes",function(d,g){return this.indexOf(d,g)!=-1}),Array.prototype.fill||l(Array.prototype,"fill",function(d){for(var g=this,s=g.length>>>0,p=arguments[1],o=p>>0,a=o<0?Math.max(s+o,0):Math.min(o,s),u=arguments[2],c=u===void 0?s:u>>0,h=c<0?Math.max(s+c,0):Math.min(c,s);a<h;)g[a]=d,a++;return g}),Array.of||l(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(t,i,r){t("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(t,i,r){i.deepCopy=function l(d){if(typeof d!="object"||!d)return d;var g;if(Array.isArray(d)){g=[];for(var s=0;s<d.length;s++)g[s]=l(d[s]);return g}if(Object.prototype.toString.call(d)!=="[object Object]")return d;g={};for(var s in d)g[s]=l(d[s]);return g}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(t,i,r){i.last=function(g){return g[g.length-1]},i.stringReverse=function(g){return g.split("").reverse().join("")},i.stringRepeat=function(g,s){for(var p="";s>0;)s&1&&(p+=g),(s>>=1)&&(g+=g);return p};var l=/^\s\s*/,d=/\s\s*$/;i.stringTrimLeft=function(g){return g.replace(l,"")},i.stringTrimRight=function(g){return g.replace(d,"")},i.copyObject=function(g){var s={};for(var p in g)s[p]=g[p];return s},i.copyArray=function(g){for(var s=[],p=0,o=g.length;p<o;p++)g[p]&&typeof g[p]=="object"?s[p]=this.copyObject(g[p]):s[p]=g[p];return s},i.deepCopy=t("./deep_copy").deepCopy,i.arrayToMap=function(g){for(var s={},p=0;p<g.length;p++)s[g[p]]=1;return s},i.createMap=function(g){var s=Object.create(null);for(var p in g)s[p]=g[p];return s},i.arrayRemove=function(g,s){for(var p=0;p<=g.length;p++)s===g[p]&&g.splice(p,1)},i.escapeRegExp=function(g){return g.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},i.escapeHTML=function(g){return(""+g).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},i.getMatchOffsets=function(g,s){var p=[];return g.replace(s,function(o){p.push({offset:arguments[arguments.length-2],length:o.length})}),p},i.deferredCall=function(g){var s=null,p=function(){s=null,g()},o=function(a){return o.cancel(),s=setTimeout(p,a||0),o};return o.schedule=o,o.call=function(){return this.cancel(),g(),o},o.cancel=function(){return clearTimeout(s),s=null,o},o.isPending=function(){return s},o},i.delayedCall=function(g,s){var p=null,o=function(){p=null,g()},a=function(u){p==null&&(p=setTimeout(o,u||s))};return a.delay=function(u){p&&clearTimeout(p),p=setTimeout(o,u||s)},a.schedule=a,a.call=function(){this.cancel(),g()},a.cancel=function(){p&&clearTimeout(p),p=null},a.isPending=function(){return p},a},i.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},i.skipEmptyMatch=function(g,s,p){return p&&g.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(t,i,r){i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS};var l=typeof navigator=="object"?navigator:{},d=(/mac|win|linux/i.exec(l.platform)||["other"])[0].toLowerCase(),g=l.userAgent||"",s=l.appName||"";i.isWin=d=="win",i.isMac=d=="mac",i.isLinux=d=="linux",i.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((g.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((g.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),i.isOldIE=i.isIE&&i.isIE<9,i.isGecko=i.isMozilla=g.match(/ Gecko\/\d+/),i.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",i.isWebKit=parseFloat(g.split("WebKit/")[1])||void 0,i.isChrome=parseFloat(g.split(" Chrome/")[1])||void 0,i.isSafari=parseFloat(g.split(" Safari/")[1])&&!i.isChrome||void 0,i.isEdge=parseFloat(g.split(" Edge/")[1])||void 0,i.isAIR=g.indexOf("AdobeAIR")>=0,i.isAndroid=g.indexOf("Android")>=0,i.isChromeOS=g.indexOf(" CrOS ")>=0,i.isIOS=/iPad|iPhone|iPod/.test(g)&&!window.MSStream,i.isIOS&&(i.isMac=!0),i.isMobile=i.isIOS||i.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(t,i,r){var l=t("./useragent"),d="http://www.w3.org/1999/xhtml";i.buildDom=function u(c,h,f){if(typeof c=="string"&&c){var v=document.createTextNode(c);return h&&h.appendChild(v),v}if(!Array.isArray(c))return c&&c.appendChild&&h&&h.appendChild(c),c;if(typeof c[0]!="string"||!c[0]){for(var b=[],S=0;S<c.length;S++){var R=u(c[S],h,f);R&&b.push(R)}return b}var x=document.createElement(c[0]),C=c[1],y=1;C&&typeof C=="object"&&!Array.isArray(C)&&(y=2);for(var S=y;S<c.length;S++)u(c[S],x,f);return y==2&&Object.keys(C).forEach(function(T){var L=C[T];T==="class"?x.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||T=="value"||T[0]=="$"?x[T]=L:T==="ref"?f&&(f[L]=x):T==="style"?typeof L=="string"&&(x.style.cssText=L):L!=null&&x.setAttribute(T,L)}),h&&h.appendChild(x),x},i.getDocumentHead=function(u){return u||(u=document),u.head||u.getElementsByTagName("head")[0]||u.documentElement},i.createElement=function(u,c){return document.createElementNS?document.createElementNS(c||d,u):document.createElement(u)},i.removeChildren=function(u){u.innerHTML=""},i.createTextNode=function(u,c){var h=c?c.ownerDocument:document;return h.createTextNode(u)},i.createFragment=function(u){var c=u?u.ownerDocument:document;return c.createDocumentFragment()},i.hasCssClass=function(u,c){var h=(u.className+"").split(/\s+/g);return h.indexOf(c)!==-1},i.addCssClass=function(u,c){i.hasCssClass(u,c)||(u.className+=" "+c)},i.removeCssClass=function(u,c){for(var h=u.className.split(/\s+/g);;){var f=h.indexOf(c);if(f==-1)break;h.splice(f,1)}u.className=h.join(" ")},i.toggleCssClass=function(u,c){for(var h=u.className.split(/\s+/g),f=!0;;){var v=h.indexOf(c);if(v==-1)break;f=!1,h.splice(v,1)}return f&&h.push(c),u.className=h.join(" "),f},i.setCssClass=function(u,c,h){h?i.addCssClass(u,c):i.removeCssClass(u,c)},i.hasCssString=function(u,c){var h=0,f;if(c=c||document,f=c.querySelectorAll("style")){for(;h<f.length;)if(f[h++].id===u)return!0}},i.removeElementById=function(u,c){c=c||document,c.getElementById(u)&&c.getElementById(u).remove()};var g,s=[];i.useStrictCSP=function(u){g=u,u==!1?p():s||(s=[])};function p(){var u=s;s=null,u&&u.forEach(function(c){o(c[0],c[1])})}function o(u,c,h){if(!(typeof document>"u")){if(s){if(h)p();else if(h===!1)return s.push([u,c])}if(!g){var f=h;!h||!h.getRootNode?f=document:(f=h.getRootNode(),(!f||f==h)&&(f=document));var v=f.ownerDocument||f;if(c&&i.hasCssString(c,f))return null;c&&(u+=`
/*# sourceURL=ace/css/`+c+" */");var b=i.createElement("style");b.appendChild(v.createTextNode(u)),c&&(b.id=c),f==v&&(f=i.getDocumentHead(v)),f.insertBefore(b,f.firstChild)}}}if(i.importCssString=o,i.importCssStylsheet=function(u,c){i.buildDom(["link",{rel:"stylesheet",href:u}],i.getDocumentHead(c))},i.scrollbarWidth=function(u){var c=i.createElement("ace_inner");c.style.width="100%",c.style.minWidth="0px",c.style.height="200px",c.style.display="block";var h=i.createElement("ace_outer"),f=h.style;f.position="absolute",f.left="-10000px",f.overflow="hidden",f.width="200px",f.minWidth="0px",f.height="150px",f.display="block",h.appendChild(c);var v=u&&u.documentElement||document&&document.documentElement;if(!v)return 0;v.appendChild(h);var b=c.offsetWidth;f.overflow="scroll";var S=c.offsetWidth;return b===S&&(S=h.clientWidth),v.removeChild(h),b-S},i.computedStyle=function(u,c){return window.getComputedStyle(u,"")||{}},i.setStyle=function(u,c,h){u[c]!==h&&(u[c]=h)},i.HAS_CSS_ANIMATION=!1,i.HAS_CSS_TRANSFORMS=!1,i.HI_DPI=l.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,l.isChromeOS&&(i.HI_DPI=!1),typeof document<"u"){var a=document.createElement("div");i.HI_DPI&&a.style.transform!==void 0&&(i.HAS_CSS_TRANSFORMS=!0),!l.isEdge&&typeof a.style.animationName<"u"&&(i.HAS_CSS_ANIMATION=!0),a=null}i.HAS_CSS_TRANSFORMS?i.translate=function(u,c,h){u.style.transform="translate("+Math.round(c)+"px, "+Math.round(h)+"px)"}:i.translate=function(u,c,h){u.style.top=Math.round(h)+"px",u.style.left=Math.round(c)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(t,i,r){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var l=t("./dom");i.get=function(d,g){var s=new XMLHttpRequest;s.open("GET",d,!0),s.onreadystatechange=function(){s.readyState===4&&g(s.responseText)},s.send(null)},i.loadScript=function(d,g){var s=l.getDocumentHead(),p=document.createElement("script");p.src=d,s.appendChild(p),p.onload=p.onreadystatechange=function(o,a){(a||!p.readyState||p.readyState=="loaded"||p.readyState=="complete")&&(p=p.onload=p.onreadystatechange=null,a||g())}},i.qualifyURL=function(d){var g=document.createElement("a");return g.href=d,g.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(t,i,r){i.inherits=function(l,d){l.super_=d,l.prototype=Object.create(d.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(l,d){for(var g in d)l[g]=d[g];return l},i.implement=function(l,d){i.mixin(l,d)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(t,i,r){var l={},d=function(){this.propagationStopped=!0},g=function(){this.defaultPrevented=!0};l._emit=l._dispatchEvent=function(s,p){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var o=this._eventRegistry[s]||[],a=this._defaultHandlers[s];if(!(!o.length&&!a)){(typeof p!="object"||!p)&&(p={}),p.type||(p.type=s),p.stopPropagation||(p.stopPropagation=d),p.preventDefault||(p.preventDefault=g),o=o.slice();for(var u=0;u<o.length&&(o[u](p,this),!p.propagationStopped);u++);if(a&&!p.defaultPrevented)return a(p,this)}},l._signal=function(s,p){var o=(this._eventRegistry||{})[s];if(o){o=o.slice();for(var a=0;a<o.length;a++)o[a](p,this)}},l.once=function(s,p){var o=this;if(this.on(s,function a(){o.off(s,a),p.apply(null,arguments)}),!p)return new Promise(function(a){p=a})},l.setDefaultHandler=function(s,p){var o=this._defaultHandlers;if(o||(o=this._defaultHandlers={_disabled_:{}}),o[s]){var a=o[s],u=o._disabled_[s];u||(o._disabled_[s]=u=[]),u.push(a);var c=u.indexOf(p);c!=-1&&u.splice(c,1)}o[s]=p},l.removeDefaultHandler=function(s,p){var o=this._defaultHandlers;if(o){var a=o._disabled_[s];if(o[s]==p)a&&this.setDefaultHandler(s,a.pop());else if(a){var u=a.indexOf(p);u!=-1&&a.splice(u,1)}}},l.on=l.addEventListener=function(s,p,o){this._eventRegistry=this._eventRegistry||{};var a=this._eventRegistry[s];return a||(a=this._eventRegistry[s]=[]),a.indexOf(p)==-1&&a[o?"unshift":"push"](p),p},l.off=l.removeListener=l.removeEventListener=function(s,p){this._eventRegistry=this._eventRegistry||{};var o=this._eventRegistry[s];if(o){var a=o.indexOf(p);a!==-1&&o.splice(a,1)}},l.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},i.EventEmitter=l}),ace.define("ace/lib/report_error",["require","exports","module"],function(t,i,r){i.reportError=function(d,g){var s=new Error(d);s.data=g,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(t,i,r){var l={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions"};i.defaultEnglishMessages=l}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(t,i,r){"no use strict";var l=t("./oop"),d=t("./event_emitter").EventEmitter,g=t("./report_error").reportError,s=t("./default_english_messages").defaultEnglishMessages,p={setOptions:function(h){Object.keys(h).forEach(function(f){this.setOption(f,h[f])},this)},getOptions:function(h){var f={};if(h)Array.isArray(h)||(f=h,h=Object.keys(f));else{var v=this.$options;h=Object.keys(v).filter(function(b){return!v[b].hidden})}return h.forEach(function(b){f[b]=this.getOption(b)},this),f},setOption:function(h,f){if(this["$"+h]!==f){var v=this.$options[h];if(!v)return o('misspelled option "'+h+'"');if(v.forwardTo)return this[v.forwardTo]&&this[v.forwardTo].setOption(h,f);v.handlesSet||(this["$"+h]=f),v&&v.set&&v.set.call(this,f)}},getOption:function(h){var f=this.$options[h];return f?f.forwardTo?this[f.forwardTo]&&this[f.forwardTo].getOption(h):f&&f.get?f.get.call(this):this["$"+h]:o('misspelled option "'+h+'"')}};function o(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var a,u,c=function(){function h(){this.$defaultOptions={},a=s,u="dollarSigns"}return h.prototype.defineOptions=function(f,v,b){return f.$options||(this.$defaultOptions[v]=f.$options={}),Object.keys(b).forEach(function(S){var R=b[S];typeof R=="string"&&(R={forwardTo:R}),R.name||(R.name=S),f.$options[R.name]=R,"initialValue"in R&&(f["$"+R.name]=R.initialValue)}),l.implement(f,p),this},h.prototype.resetOptions=function(f){Object.keys(f.$options).forEach(function(v){var b=f.$options[v];"value"in b&&f.setOption(v,b.value)})},h.prototype.setDefaultValue=function(f,v,b){if(!f){for(f in this.$defaultOptions)if(this.$defaultOptions[f][v])break;if(!this.$defaultOptions[f][v])return!1}var S=this.$defaultOptions[f]||(this.$defaultOptions[f]={});S[v]&&(S.forwardTo?this.setDefaultValue(S.forwardTo,v,b):S[v].value=b)},h.prototype.setDefaultValues=function(f,v){Object.keys(v).forEach(function(b){this.setDefaultValue(f,b,v[b])},this)},h.prototype.setMessages=function(f,v){a=f,v&&v.placeholders&&(u=v.placeholders)},h.prototype.nls=function(f,v,b){a[f]||(o("No message found for the key '"+f+"' in messages with id "+a.$id+", trying to find a translation for the default string '"+v+"'."),a[v]||o("No message found for the default string '"+v+"' in the provided messages. Falling back to the default English message."));var S=a[f]||a[v]||v;return b&&(u==="dollarSigns"&&(S=S.replace(/\$(\$|[\d]+)/g,function(R,x){return x=="$"?"$":b[x]})),u==="curlyBrackets"&&(S=S.replace(/\{([^\}]+)\}/g,function(R,x){return b[x]}))),S},h}();c.prototype.warn=o,c.prototype.reportError=g,l.implement(c.prototype,d),i.AppConfig=c}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(t,i,r){r.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(t,i,r){i.isDark=!1,i.cssClass="ace-tm",i.cssText=t("./textmate-css"),i.$id="ace/theme/textmate";var l=t("../lib/dom");l.importCssString(i.cssText,i.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(t,i,r){"no use strict";var l=t("./lib/lang"),d=t("./lib/net"),g=t("./lib/dom"),s=t("./lib/app_config").AppConfig;r.exports=i=new s;var p={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};i.get=function(c){if(!p.hasOwnProperty(c))throw new Error("Unknown config key: "+c);return p[c]},i.set=function(c,h){if(p.hasOwnProperty(c))p[c]=h;else if(this.setDefaultValue("",c,h)==!1)throw new Error("Unknown config key: "+c);c=="useStrictCSP"&&g.useStrictCSP(h)},i.all=function(){return l.copyObject(p)},i.$modes={},i.moduleUrl=function(c,h){if(p.$moduleUrls[c])return p.$moduleUrls[c];var f=c.split("/");h=h||f[f.length-2]||"";var v=h=="snippets"?"/":"-",b=f[f.length-1];if(h=="worker"&&v=="-"){var S=new RegExp("^"+h+"[\\-_]|[\\-_]"+h+"$","g");b=b.replace(S,"")}(!b||b==h)&&f.length>1&&(b=f[f.length-2]);var R=p[h+"Path"];return R==null?R=p.basePath:v=="/"&&(h=v=""),R&&R.slice(-1)!="/"&&(R+="/"),R+h+v+b+this.get("suffix")},i.setModuleUrl=function(c,h){return p.$moduleUrls[c]=h};var o=function(c,h){if(c==="ace/theme/textmate"||c==="./theme/textmate")return h(null,t("./theme/textmate"));if(a)return a(c,h);console.error("loader is not configured")},a;i.setLoader=function(c){a=c},i.dynamicModules=Object.create(null),i.$loading={},i.$loaded={},i.loadModule=function(c,h){var f;if(Array.isArray(c))var v=c[0],b=c[1];else if(typeof c=="string")var b=c;var S=function(R){if(R&&!i.$loading[b])return h&&h(R);if(i.$loading[b]||(i.$loading[b]=[]),i.$loading[b].push(h),!(i.$loading[b].length>1)){var x=function(){o(b,function(C,y){y&&(i.$loaded[b]=y),i._emit("load.module",{name:b,module:y});var T=i.$loading[b];i.$loading[b]=null,T.forEach(function(L){L&&L(y)})})};if(!i.get("packaged"))return x();d.loadScript(i.moduleUrl(b,v),x),u()}};if(i.dynamicModules[b])i.dynamicModules[b]().then(function(R){R.default?S(R.default):S(R)});else{try{f=this.$require(b)}catch{}S(f||i.$loaded[b])}},i.$require=function(c){if(typeof r.require=="function"){var h="require";return r[h](c)}},i.setModuleLoader=function(c,h){i.dynamicModules[c]=h};var u=function(){!p.basePath&&!p.workerPath&&!p.modePath&&!p.themePath&&!Object.keys(p.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};i.version="1.37.3"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(t,i,r){t("./lib/fixoldbrowsers");var l=t("./config");l.setLoader(function(p,o){t([p],function(a){o(null,a)})});var d=function(){return this||typeof window<"u"&&window}();r.exports=function(p){l.init=g,l.$require=t,p.require=t},g(!0);function g(p){if(!(!d||!d.document)){l.set("packaged",p||t.packaged||r.packaged||d.define&&(void 0).packaged);var o={},a="",u=document.currentScript||document._currentScript,c=u&&u.ownerDocument||document;u&&u.src&&(a=u.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var h=c.getElementsByTagName("script"),f=0;f<h.length;f++){var v=h[f],b=v.src||v.getAttribute("src");if(b){for(var S=v.attributes,R=0,x=S.length;R<x;R++){var C=S[R];C.name.indexOf("data-ace-")===0&&(o[s(C.name.replace(/^data-ace-/,""))]=C.value)}var y=b.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);y&&(a=y[1])}}a&&(o.base=o.base||a,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base;for(var T in o)typeof o[T]<"u"&&l.set(T,o[T])}}function s(p){return p.replace(/-(.)/g,function(o,a){return a.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(t,i,r){var l=function(){function d(g,s,p,o){this.start={row:g,column:s},this.end={row:p,column:o}}return d.prototype.isEqual=function(g){return this.start.row===g.start.row&&this.end.row===g.end.row&&this.start.column===g.start.column&&this.end.column===g.end.column},d.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},d.prototype.contains=function(g,s){return this.compare(g,s)==0},d.prototype.compareRange=function(g){var s,p=g.end,o=g.start;return s=this.compare(p.row,p.column),s==1?(s=this.compare(o.row,o.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(o.row,o.column),s==-1?-1:s==1?42:0)},d.prototype.comparePoint=function(g){return this.compare(g.row,g.column)},d.prototype.containsRange=function(g){return this.comparePoint(g.start)==0&&this.comparePoint(g.end)==0},d.prototype.intersects=function(g){var s=this.compareRange(g);return s==-1||s==0||s==1},d.prototype.isEnd=function(g,s){return this.end.row==g&&this.end.column==s},d.prototype.isStart=function(g,s){return this.start.row==g&&this.start.column==s},d.prototype.setStart=function(g,s){typeof g=="object"?(this.start.column=g.column,this.start.row=g.row):(this.start.row=g,this.start.column=s)},d.prototype.setEnd=function(g,s){typeof g=="object"?(this.end.column=g.column,this.end.row=g.row):(this.end.row=g,this.end.column=s)},d.prototype.inside=function(g,s){return this.compare(g,s)==0?!(this.isEnd(g,s)||this.isStart(g,s)):!1},d.prototype.insideStart=function(g,s){return this.compare(g,s)==0?!this.isEnd(g,s):!1},d.prototype.insideEnd=function(g,s){return this.compare(g,s)==0?!this.isStart(g,s):!1},d.prototype.compare=function(g,s){return!this.isMultiLine()&&g===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:g<this.start.row?-1:g>this.end.row?1:this.start.row===g?s>=this.start.column?0:-1:this.end.row===g?s<=this.end.column?0:1:0},d.prototype.compareStart=function(g,s){return this.start.row==g&&this.start.column==s?-1:this.compare(g,s)},d.prototype.compareEnd=function(g,s){return this.end.row==g&&this.end.column==s?1:this.compare(g,s)},d.prototype.compareInside=function(g,s){return this.end.row==g&&this.end.column==s?1:this.start.row==g&&this.start.column==s?-1:this.compare(g,s)},d.prototype.clipRows=function(g,s){if(this.end.row>s)var p={row:s+1,column:0};else if(this.end.row<g)var p={row:g,column:0};if(this.start.row>s)var o={row:s+1,column:0};else if(this.start.row<g)var o={row:g,column:0};return d.fromPoints(o||this.start,p||this.end)},d.prototype.extend=function(g,s){var p=this.compare(g,s);if(p==0)return this;if(p==-1)var o={row:g,column:s};else var a={row:g,column:s};return d.fromPoints(o||this.start,a||this.end)},d.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},d.prototype.isMultiLine=function(){return this.start.row!==this.end.row},d.prototype.clone=function(){return d.fromPoints(this.start,this.end)},d.prototype.collapseRows=function(){return this.end.column==0?new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new d(this.start.row,0,this.end.row,0)},d.prototype.toScreenRange=function(g){var s=g.documentToScreenPosition(this.start),p=g.documentToScreenPosition(this.end);return new d(s.row,s.column,p.row,p.column)},d.prototype.moveBy=function(g,s){this.start.row+=g,this.start.column+=s,this.end.row+=g,this.end.column+=s},d}();l.fromPoints=function(d,g){return new l(d.row,d.column,g.row,g.column)},l.comparePoints=function(d,g){return d.row-g.row||d.column-g.column},i.Range=l}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(t,i,r){for(var l=t("./oop"),d={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},g={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)g["Digit"+s]=48+s,g["Numpad"+s]=96+s,d.PRINTABLE_KEYS[48+s]=""+s,d.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var p=String.fromCharCode(s+32);g["Key"+p.toUpperCase()]=s,d.PRINTABLE_KEYS[s]=p}for(var s=1;s<13;s++)g["F"+s]=111+s,d.FUNCTION_KEYS[111+s]="F"+s;var o={Shift:16,Control:17,Alt:18,Meta:224};for(var a in o)g[a]=g[a+"Left"]=g[a+"Right"]=o[a];i.$codeToKeyCode=g,d.PRINTABLE_KEYS[173]="-";for(var u in d.FUNCTION_KEYS){var c=d.FUNCTION_KEYS[u].toLowerCase();d[c]=parseInt(u,10)}for(var u in d.PRINTABLE_KEYS){var c=d.PRINTABLE_KEYS[u].toLowerCase();d[c]=parseInt(u,10)}l.mixin(d,d.MODIFIER_KEYS),l.mixin(d,d.PRINTABLE_KEYS),l.mixin(d,d.FUNCTION_KEYS),d.enter=d.return,d.escape=d.esc,d.del=d.delete,function(){for(var h=["cmd","ctrl","alt","shift"],f=Math.pow(2,h.length);f--;)d.KEY_MODS[f]=h.filter(function(v){return f&d.KEY_MODS[v]}).join("-")+"-"}(),d.KEY_MODS[0]="",d.KEY_MODS[-1]="input-",l.mixin(i,d),i.default=i,i.keyCodeToString=function(h){var f=d[h];return typeof f!="string"&&(f=String.fromCharCode(h)),f.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,i,r){var l=t("./keys"),d=t("./useragent"),g=null,s=0,p;function o(){p=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return p={passive:!1},!0}})}catch{}}function a(){return p==null&&o(),p}function u(R,x,C){this.elem=R,this.type=x,this.callback=C}u.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var c=i.addListener=function(R,x,C,y){R.addEventListener(x,C,a()),y&&y.$toDestroy.push(new u(R,x,C))},h=i.removeListener=function(R,x,C){R.removeEventListener(x,C,a())};i.stopEvent=function(R){return i.stopPropagation(R),i.preventDefault(R),!1},i.stopPropagation=function(R){R.stopPropagation&&R.stopPropagation()},i.preventDefault=function(R){R.preventDefault&&R.preventDefault()},i.getButton=function(R){return R.type=="dblclick"?0:R.type=="contextmenu"||d.isMac&&R.ctrlKey&&!R.altKey&&!R.shiftKey?2:R.button},i.capture=function(R,x,C){var y=R&&R.ownerDocument||document;function T(L){x&&x(L),C&&C(L),h(y,"mousemove",x),h(y,"mouseup",T),h(y,"dragstart",T)}return c(y,"mousemove",x),c(y,"mouseup",T),c(y,"dragstart",T),T},i.addMouseWheelListener=function(R,x,C){c(R,"wheel",function(y){var T=.15,L=y.deltaX||0,_=y.deltaY||0;switch(y.deltaMode){case y.DOM_DELTA_PIXEL:y.wheelX=L*T,y.wheelY=_*T;break;case y.DOM_DELTA_LINE:var k=15;y.wheelX=L*k,y.wheelY=_*k;break;case y.DOM_DELTA_PAGE:var I=150;y.wheelX=L*I,y.wheelY=_*I;break}x(y)},C)},i.addMultiMouseDownListener=function(R,x,C,y,T){var L=0,_,k,I,w={2:"dblclick",3:"tripleclick",4:"quadclick"};function m(A){if(i.getButton(A)!==0?L=0:A.detail>1?(L++,L>4&&(L=1)):L=1,d.isIE){var E=Math.abs(A.clientX-_)>5||Math.abs(A.clientY-k)>5;(!I||E)&&(L=1),I&&clearTimeout(I),I=setTimeout(function(){I=null},x[L-1]||600),L==1&&(_=A.clientX,k=A.clientY)}if(A._clicks=L,C[y]("mousedown",A),L>4)L=0;else if(L>1)return C[y](w[L],A)}Array.isArray(R)||(R=[R]),R.forEach(function(A){c(A,"mousedown",m,T)})};function f(R){return 0|(R.ctrlKey?1:0)|(R.altKey?2:0)|(R.shiftKey?4:0)|(R.metaKey?8:0)}i.getModifierString=function(R){return l.KEY_MODS[f(R)]};function v(R,x,C){var y=f(x);if(!C&&x.code&&(C=l.$codeToKeyCode[x.code]||C),!d.isMac&&g){if(x.getModifierState&&(x.getModifierState("OS")||x.getModifierState("Win"))&&(y|=8),g.altGr)if((3&y)!=3)g.altGr=0;else return;if(C===18||C===17){var T=x.location;if(C===17&&T===1)g[C]==1&&(s=x.timeStamp);else if(C===18&&y===3&&T===2){var L=x.timeStamp-s;L<50&&(g.altGr=!0)}}}if(C in l.MODIFIER_KEYS&&(C=-1),!(!y&&C===13&&x.location===3&&(R(x,y,-C),x.defaultPrevented))){if(d.isChromeOS&&y&8){if(R(x,y,C),x.defaultPrevented)return;y&=-9}return!y&&!(C in l.FUNCTION_KEYS)&&!(C in l.PRINTABLE_KEYS)?!1:R(x,y,C)}}i.addCommandKeyListener=function(R,x,C){var y=null;c(R,"keydown",function(T){g[T.keyCode]=(g[T.keyCode]||0)+1;var L=v(x,T,T.keyCode);return y=T.defaultPrevented,L},C),c(R,"keypress",function(T){y&&(T.ctrlKey||T.altKey||T.shiftKey||T.metaKey)&&(i.stopEvent(T),y=null)},C),c(R,"keyup",function(T){g[T.keyCode]=null},C),g||(b(),c(window,"focus",b))};function b(){g=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!d.isOldIE){var S=1;i.nextTick=function(R,x){x=x||window;var C="zero-timeout-message-"+S++,y=function(T){T.data==C&&(i.stopPropagation(T),h(x,"message",y),R())};c(x,"message",y),x.postMessage(C,"*")}}i.$idleBlocked=!1,i.onIdle=function(R,x){return setTimeout(function C(){i.$idleBlocked?setTimeout(C,100):R()},x)},i.$idleBlockId=null,i.blockIdle=function(R){i.$idleBlockId&&clearTimeout(i.$idleBlockId),i.$idleBlocked=!0,i.$idleBlockId=setTimeout(function(){i.$idleBlocked=!1},R||100)},i.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),i.nextFrame?i.nextFrame=i.nextFrame.bind(window):i.nextFrame=function(R){setTimeout(R,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(t,i,r){var l;r.exports={lineMode:!1,pasteCancelled:function(){return l&&l>Date.now()-50?!0:l=!1},cancel:function(){l=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(t,i,r){var l=t("../lib/event"),d=t("../config").nls,g=t("../lib/useragent"),s=t("../lib/dom"),p=t("../lib/lang"),o=t("../clipboard"),a=g.isChrome<18,u=g.isIE,c=g.isChrome>63,h=400,f=t("../lib/keys"),v=f.KEY_MODS,b=g.isIOS,S=b?/\s/:/\n/,R=g.isMobile,x;x=function(C,y){var T=s.createElement("textarea");T.className="ace_text-input",T.setAttribute("wrap","off"),T.setAttribute("autocorrect","off"),T.setAttribute("autocapitalize","off"),T.setAttribute("spellcheck","false"),T.style.opacity="0",C.insertBefore(T,C.firstChild);var L=!1,_=!1,k=!1,I=!1,w="";R||(T.style.fontSize="1px");var m=!1,A=!1,E="",M=0,O=0,$=0,D=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,F=0;try{var z=document.activeElement===T}catch{}this.setNumberOfExtraLines=function(Q){if(D=Number.MAX_SAFE_INTEGER,N=Number.MIN_SAFE_INTEGER,Q<0){F=0;return}F=Q},this.setAriaLabel=function(){var Q="";if(y.$textInputAriaLabel&&(Q+="".concat(y.$textInputAriaLabel,", ")),y.session){var re=y.session.selection.cursor.row;Q+=d("text-input.aria-label","Cursor at row $0",[re+1])}T.setAttribute("aria-label",Q)},this.setAriaOptions=function(Q){Q.activeDescendant?(T.setAttribute("aria-haspopup","true"),T.setAttribute("aria-autocomplete",Q.inline?"both":"list"),T.setAttribute("aria-activedescendant",Q.activeDescendant)):(T.setAttribute("aria-haspopup","false"),T.setAttribute("aria-autocomplete","both"),T.removeAttribute("aria-activedescendant")),Q.role&&T.setAttribute("role",Q.role),Q.setLabel&&(T.setAttribute("aria-roledescription",d("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),l.addListener(T,"blur",function(Q){A||(y.onBlur(Q),z=!1)},y),l.addListener(T,"focus",function(Q){if(!A){if(z=!0,g.isEdge)try{if(!document.hasFocus())return}catch{}y.onFocus(Q),g.isEdge?setTimeout(j):j()}},y),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:y.renderer.enableKeyboardAccessibility}),w||c||this.$focusScroll=="browser")return T.focus({preventScroll:!0});var Q=T.style.top;T.style.position="fixed",T.style.top="0px";try{var re=T.getBoundingClientRect().top!=0}catch{return}var ae=[];if(re)for(var me=T.parentElement;me&&me.nodeType==1;)ae.push(me),me.setAttribute("ace_nocontext","true"),!me.parentElement&&me.getRootNode?me=me.getRootNode().host:me=me.parentElement;T.focus({preventScroll:!0}),re&&ae.forEach(function(we){we.removeAttribute("ace_nocontext")}),setTimeout(function(){T.style.position="",T.style.top=="0px"&&(T.style.top=Q)},0)},this.blur=function(){T.blur()},this.isFocused=function(){return z},y.on("beforeEndOperation",function(){var Q=y.curOp,re=Q&&Q.command&&Q.command.name;if(re!="insertstring"){var ae=re&&(Q.docChanged||Q.selectionChanged);k&&ae&&(E=T.value="",ie()),j()}}),y.on("changeSelection",this.setAriaLabel);var P=function(Q,re){for(var ae=re,me=1;me<=Q-D&&me<2*F+1;me++)ae+=y.session.getLine(Q-me).length+1;return ae},j=b?function(Q){if(!(!z||L&&!Q||I)){Q||(Q="");var re=`
 ab`+Q+`cde fg
`;re!=T.value&&(T.value=E=re);var ae=4,me=4+(Q.length||(y.selection.isEmpty()?0:1));(M!=ae||O!=me)&&T.setSelectionRange(ae,me),M=ae,O=me}}:function(){if(!(k||I)&&!(!z&&!Y)){k=!0;var Q=0,re=0,ae="";if(y.session){var me=y.selection,we=me.getRange(),_e=me.cursor.row;_e===N+1?(D=N+1,N=D+2*F):_e===D-1?(N=D-1,D=N-2*F):(_e<D-1||_e>N+1)&&(D=_e>F?_e-F:0,N=_e>F?_e+F:2*F);for(var Le=[],De=D;De<=N;De++)Le.push(y.session.getLine(De));if(ae=Le.join(`
`),Q=P(we.start.row,we.start.column),re=P(we.end.row,we.end.column),we.start.row<D){var xe=y.session.getLine(D-1);Q=we.start.row<D-1?0:Q,re+=xe.length+1,ae=xe+`
`+ae}else if(we.end.row>N){var be=y.session.getLine(N+1);re=we.end.row>N+1?be.length:we.end.column,re+=ae.length+1,ae=ae+`
`+be}else R&&_e>0&&(ae=`
`+ae,re+=1,Q+=1);ae.length>h&&(Q<h&&re<h?ae=ae.slice(0,h):(ae=`
`,Q==re?Q=re=0:(Q=0,re=1)));var Be=ae+`

`;Be!=E&&(T.value=E=Be,M=O=Be.length)}if(Y&&(M=T.selectionStart,O=T.selectionEnd),O!=re||M!=Q||T.selectionEnd!=O)try{T.setSelectionRange(Q,re),M=Q,O=re}catch{}k=!1}};this.resetSelection=j,z&&y.onFocus();var G=function(Q){return Q.selectionStart===0&&Q.selectionEnd>=E.length&&Q.value===E&&E&&Q.selectionEnd!==O},H=function(Q){k||(L?L=!1:G(T)?(y.selectAll(),j()):R&&T.selectionStart!=M&&j())},W=null;this.setInputHandler=function(Q){W=Q},this.getInputHandler=function(){return W};var Y=!1,q=function(Q,re){if(Y&&(Y=!1),_)return j(),Q&&y.onPaste(Q),_=!1,"";for(var ae=T.selectionStart,me=T.selectionEnd,we=M,_e=E.length-O,Le=Q,De=Q.length-ae,xe=Q.length-me,be=0;we>0&&E[be]==Q[be];)be++,we--;for(Le=Le.slice(be),be=1;_e>0&&E.length-be>M-1&&E[E.length-be]==Q[Q.length-be];)be++,_e--;De-=be-1,xe-=be-1;var Be=Le.length-be+1;if(Be<0&&(we=-Be,Be=0),Le=Le.slice(0,Be),!re&&!Le&&!De&&!we&&!_e&&!xe)return"";I=!0;var Lt=!1;return g.isAndroid&&Le==". "&&(Le="  ",Lt=!0),Le&&!we&&!_e&&!De&&!xe||m?y.onTextInput(Le):y.onTextInput(Le,{extendLeft:we,extendRight:_e,restoreStart:De,restoreEnd:xe}),I=!1,E=Q,M=ae,O=me,$=xe,Lt?`
`:Le},J=function(Q){if(k)return Z();if(Q&&Q.inputType){if(Q.inputType=="historyUndo")return y.execCommand("undo");if(Q.inputType=="historyRedo")return y.execCommand("redo")}var re=T.value,ae=q(re,!0);(re.length>h+100||S.test(ae)||R&&M<1&&M==O)&&j()},ne=function(Q,re,ae){var me=Q.clipboardData||window.clipboardData;if(!(!me||a)){var we=u||ae?"Text":"text/plain";try{return re?me.setData(we,re)!==!1:me.getData(we)}catch(_e){if(!ae)return ne(_e,re,!0)}}},B=function(Q,re){var ae=y.getCopyText();if(!ae)return l.preventDefault(Q);ne(Q,ae)?(b&&(j(ae),L=ae,setTimeout(function(){L=!1},10)),re?y.onCut():y.onCopy(),l.preventDefault(Q)):(L=!0,T.value=ae,T.select(),setTimeout(function(){L=!1,j(),re?y.onCut():y.onCopy()}))},U=function(Q){B(Q,!0)},K=function(Q){B(Q,!1)},X=function(Q){var re=ne(Q);o.pasteCancelled()||(typeof re=="string"?(re&&y.onPaste(re,Q),g.isIE&&setTimeout(j),l.preventDefault(Q)):(T.value="",_=!0))};l.addCommandKeyListener(T,function(Q,re,ae){if(!k)return y.onCommandKey(Q,re,ae)},y),l.addListener(T,"select",H,y),l.addListener(T,"input",J,y),l.addListener(T,"cut",U,y),l.addListener(T,"copy",K,y),l.addListener(T,"paste",X,y),(!("oncut"in T)||!("oncopy"in T)||!("onpaste"in T))&&l.addListener(C,"keydown",function(Q){if(!(g.isMac&&!Q.metaKey||!Q.ctrlKey))switch(Q.keyCode){case 67:K(Q);break;case 86:X(Q);break;case 88:U(Q);break}},y);var ee=function(Q){if(!(k||!y.onCompositionStart||y.$readOnly)&&(k={},!m)){Q.data&&(k.useTextareaForIME=!1),setTimeout(Z,0),y._signal("compositionStart"),y.on("mousedown",se);var re=y.getSelectionRange();re.end.row=re.start.row,re.end.column=re.start.column,k.markerRange=re,k.selectionStart=M,y.onCompositionStart(k),k.useTextareaForIME?(E=T.value="",M=0,O=0):(T.msGetInputContext&&(k.context=T.msGetInputContext()),T.getInputContext&&(k.context=T.getInputContext()))}},Z=function(){if(!(!k||!y.onCompositionUpdate||y.$readOnly)){if(m)return se();if(k.useTextareaForIME)y.onCompositionUpdate(T.value);else{var Q=T.value;q(Q),k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+O-k.selectionStart+$)}}},ie=function(Q){!y.onCompositionEnd||y.$readOnly||(k=!1,y.onCompositionEnd(),y.off("mousedown",se),Q&&J())};function se(){A=!0,T.blur(),T.focus(),A=!1}var oe=p.delayedCall(Z,50).schedule.bind(null,null);function te(Q){Q.keyCode==27&&T.value.length<T.selectionStart&&(k||(E=T.value),M=O=-1,j()),oe()}l.addListener(T,"compositionstart",ee,y),l.addListener(T,"compositionupdate",Z,y),l.addListener(T,"keyup",te,y),l.addListener(T,"keydown",oe,y),l.addListener(T,"compositionend",ie,y),this.getElement=function(){return T},this.setCommandMode=function(Q){m=Q,T.readOnly=!1},this.setReadOnly=function(Q){m||(T.readOnly=Q)},this.setCopyWithEmptySelection=function(Q){},this.onContextMenu=function(Q){Y=!0,j(),y._emit("nativecontextmenu",{target:y,domEvent:Q}),this.moveToMouse(Q,!0)},this.moveToMouse=function(Q,re){w||(w=T.style.cssText),T.style.cssText=(re?"z-index:100000;":"")+(g.isIE?"opacity:0.1;":"")+"text-indent: -"+(M+O)*y.renderer.characterWidth*.5+"px;";var ae=y.container.getBoundingClientRect(),me=s.computedStyle(y.container),we=ae.top+(parseInt(me.borderTopWidth)||0),_e=ae.left+(parseInt(ae.borderLeftWidth)||0),Le=ae.bottom-we-T.clientHeight-2,De=function(xe){s.translate(T,xe.clientX-_e-2,Math.min(xe.clientY-we-2,Le))};De(Q),Q.type=="mousedown"&&(y.renderer.$isMousePressed=!0,clearTimeout(fe),g.isWin&&l.capture(y.container,De,le))},this.onContextMenuClose=le;var fe;function le(){clearTimeout(fe),fe=setTimeout(function(){w&&(T.style.cssText=w,w=""),y.renderer.$isMousePressed=!1,y.renderer.$keepTextAreaAtCursor&&y.renderer.$moveTextAreaToCursor()},0)}var de=function(Q){y.textInput.onContextMenu(Q),le()};l.addListener(T,"mouseup",de,y),l.addListener(T,"mousedown",function(Q){Q.preventDefault(),le()},y),l.addListener(y.renderer.scroller,"contextmenu",de,y),l.addListener(T,"contextmenu",de,y),b&&ge(C,y,T);function ge(Q,re,ae){var me=null,we=!1;ae.addEventListener("keydown",function(Le){me&&clearTimeout(me),we=!0},!0),ae.addEventListener("keyup",function(Le){me=setTimeout(function(){we=!1},100)},!0);var _e=function(Le){if(document.activeElement===ae&&!(we||k||re.$mouseHandler.isMousePressed)&&!L){var De=ae.selectionStart,xe=ae.selectionEnd,be=null,Be=0;if(De==0?be=f.up:De==1?be=f.home:xe>O&&E[xe]==`
`?be=f.end:De<M&&E[De-1]==" "?(be=f.left,Be=v.option):De<M||De==M&&O!=M&&De==xe?be=f.left:xe>O&&E.slice(0,xe).split(`
`).length>2?be=f.down:xe>O&&E[xe-1]==" "?(be=f.right,Be=v.option):(xe>O||xe==O&&O!=M&&De==xe)&&(be=f.right),De!==xe&&(Be|=v.shift),be){var Lt=re.onCommandKey({},Be,be);if(!Lt&&re.commands){be=f.keyCodeToString(be);var Pr=re.commands.findKeyCommand(Be,be);Pr&&re.execCommand(Pr)}M=De,O=xe,j("")}}};document.addEventListener("selectionchange",_e),re.on("destroy",function(){document.removeEventListener("selectionchange",_e)})}this.destroy=function(){T.parentElement&&T.parentElement.removeChild(T)}},i.TextInput=x,i.$setUserAgentForTests=function(C,y){R=C,b=y}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(t,i,r){var l=t("../lib/useragent"),d=0,g=550,s=function(){function a(u){u.$clickSelection=null;var c=u.editor;c.setDefaultHandler("mousedown",this.onMouseDown.bind(u)),c.setDefaultHandler("dblclick",this.onDoubleClick.bind(u)),c.setDefaultHandler("tripleclick",this.onTripleClick.bind(u)),c.setDefaultHandler("quadclick",this.onQuadClick.bind(u)),c.setDefaultHandler("mousewheel",this.onMouseWheel.bind(u));var h=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];h.forEach(function(f){u[f]=this[f]},this),u.selectByLines=this.extendSelectionBy.bind(u,"getLineRange"),u.selectByWords=this.extendSelectionBy.bind(u,"getWordRange")}return a.prototype.onMouseDown=function(u){var c=u.inSelection(),h=u.getDocumentPosition();this.mousedownEvent=u;var f=this.editor,v=u.getButton();if(v!==0){var b=f.getSelectionRange(),S=b.isEmpty();(S||v==1)&&f.selection.moveToPosition(h),v==2&&(f.textInput.onContextMenu(u.domEvent),l.isMozilla||u.preventDefault());return}if(this.mousedownEvent.time=Date.now(),c&&!f.isFocused()&&(f.focus(),this.$focusTimeout&&!this.$clickSelection&&!f.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(u);return}return this.captureMouse(u),this.startSelect(h,u.domEvent._clicks>1),u.preventDefault()},a.prototype.startSelect=function(u,c){u=u||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var h=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?h.selection.selectToPosition(u):c||h.selection.moveToPosition(u),c||this.select(),h.setStyle("ace_selecting"),this.setState("select"))},a.prototype.select=function(){var u,c=this.editor,h=c.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(h);if(f==-1)u=this.$clickSelection.end;else if(f==1)u=this.$clickSelection.start;else{var v=o(this.$clickSelection,h);h=v.cursor,u=v.anchor}c.selection.setSelectionAnchor(u.row,u.column)}c.selection.selectToPosition(h),c.renderer.scrollCursorIntoView()},a.prototype.extendSelectionBy=function(u){var c,h=this.editor,f=h.renderer.screenToTextCoordinates(this.x,this.y),v=h.selection[u](f.row,f.column);if(this.$clickSelection){var b=this.$clickSelection.comparePoint(v.start),S=this.$clickSelection.comparePoint(v.end);if(b==-1&&S<=0)c=this.$clickSelection.end,(v.end.row!=f.row||v.end.column!=f.column)&&(f=v.start);else if(S==1&&b>=0)c=this.$clickSelection.start,(v.start.row!=f.row||v.start.column!=f.column)&&(f=v.end);else if(b==-1&&S==1)f=v.end,c=v.start;else{var R=o(this.$clickSelection,f);f=R.cursor,c=R.anchor}h.selection.setSelectionAnchor(c.row,c.column)}h.selection.selectToPosition(f),h.renderer.scrollCursorIntoView()},a.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},a.prototype.focusWait=function(){var u=p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),c=Date.now();(u>d||c-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},a.prototype.onDoubleClick=function(u){var c=u.getDocumentPosition(),h=this.editor,f=h.session,v=f.getBracketRange(c);v?(v.isEmpty()&&(v.start.column--,v.end.column++),this.setState("select")):(v=h.selection.getWordRange(c.row,c.column),this.setState("selectByWords")),this.$clickSelection=v,this.select()},a.prototype.onTripleClick=function(u){var c=u.getDocumentPosition(),h=this.editor;this.setState("selectByLines");var f=h.getSelectionRange();f.isMultiLine()&&f.contains(c.row,c.column)?(this.$clickSelection=h.selection.getLineRange(f.start.row),this.$clickSelection.end=h.selection.getLineRange(f.end.row).end):this.$clickSelection=h.selection.getLineRange(c.row),this.select()},a.prototype.onQuadClick=function(u){var c=this.editor;c.selectAll(),this.$clickSelection=c.getSelectionRange(),this.setState("selectAll")},a.prototype.onMouseWheel=function(u){if(!u.getAccelKey()){u.getShiftKey()&&u.wheelY&&!u.wheelX&&(u.wheelX=u.wheelY,u.wheelY=0);var c=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var h=this.$lastScroll,f=u.domEvent.timeStamp,v=f-h.t,b=v?u.wheelX/v:h.vx,S=v?u.wheelY/v:h.vy;v<g&&(b=(b+h.vx)/2,S=(S+h.vy)/2);var R=Math.abs(b/S),x=!1;if(R>=1&&c.renderer.isScrollableBy(u.wheelX*u.speed,0)&&(x=!0),R<=1&&c.renderer.isScrollableBy(0,u.wheelY*u.speed)&&(x=!0),x)h.allowed=f;else if(f-h.allowed<g){var C=Math.abs(b)<=1.5*Math.abs(h.vx)&&Math.abs(S)<=1.5*Math.abs(h.vy);C?(x=!0,h.allowed=f):h.allowed=0}if(h.t=f,h.vx=b,h.vy=S,x)return c.renderer.scrollBy(u.wheelX*u.speed,u.wheelY*u.speed),u.stop()}},a}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,i.DefaultHandlers=s;function p(a,u,c,h){return Math.sqrt(Math.pow(c-a,2)+Math.pow(h-u,2))}function o(a,u){if(a.start.row==a.end.row)var c=2*u.column-a.start.column-a.end.column;else if(a.start.row==a.end.row-1&&!a.start.column&&!a.end.column)var c=u.column-4;else var c=2*u.row-a.start.row-a.end.row;return c<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(t,i,r){i.preventParentScroll=function(d){d.stopPropagation();var g=d.currentTarget,s=g.scrollHeight>g.clientHeight;s||d.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(t,i,r){var l=this&&this.__extends||function(){var f=function(v,b){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,R){S.__proto__=R}||function(S,R){for(var x in R)Object.prototype.hasOwnProperty.call(R,x)&&(S[x]=R[x])},f(v,b)};return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");f(v,b);function S(){this.constructor=v}v.prototype=b===null?Object.create(b):(S.prototype=b.prototype,new S)}}(),d=this&&this.__values||function(f){var v=typeof Symbol=="function"&&Symbol.iterator,b=v&&f[v],S=0;if(b)return b.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&S>=f.length&&(f=void 0),{value:f&&f[S++],done:!f}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},g=t("./lib/dom");t("./lib/event");var s=t("./range").Range,p=t("./lib/scroll").preventParentScroll,o="ace_tooltip",a=function(){function f(v){this.isOpen=!1,this.$element=null,this.$parentNode=v}return f.prototype.$init=function(){return this.$element=g.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},f.prototype.getElement=function(){return this.$element||this.$init()},f.prototype.setText=function(v){this.getElement().textContent=v},f.prototype.setHtml=function(v){this.getElement().innerHTML=v},f.prototype.setPosition=function(v,b){this.getElement().style.left=v+"px",this.getElement().style.top=b+"px"},f.prototype.setClassName=function(v){g.addCssClass(this.getElement(),v)},f.prototype.setTheme=function(v){this.$element.className=o+" "+(v.isDark?"ace_dark ":"")+(v.cssClass||"")},f.prototype.show=function(v,b,S){v!=null&&this.setText(v),b!=null&&S!=null&&this.setPosition(b,S),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},f.prototype.hide=function(v){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},f.prototype.getHeight=function(){return this.getElement().offsetHeight},f.prototype.getWidth=function(){return this.getElement().offsetWidth},f.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},f}(),u=function(){function f(){this.popups=[]}return f.prototype.addPopup=function(v){this.popups.push(v),this.updatePopups()},f.prototype.removePopup=function(v){var b=this.popups.indexOf(v);b!==-1&&(this.popups.splice(b,1),this.updatePopups())},f.prototype.updatePopups=function(){var v,b,S,R;this.popups.sort(function(w,m){return m.priority-w.priority});var x=[];try{for(var C=d(this.popups),y=C.next();!y.done;y=C.next()){var T=y.value,L=!0;try{for(var _=(S=void 0,d(x)),k=_.next();!k.done;k=_.next()){var I=k.value;if(this.doPopupsOverlap(I,T)){L=!1;break}}}catch(w){S={error:w}}finally{try{k&&!k.done&&(R=_.return)&&R.call(_)}finally{if(S)throw S.error}}L?x.push(T):T.hide()}}catch(w){v={error:w}}finally{try{y&&!y.done&&(b=C.return)&&b.call(C)}finally{if(v)throw v.error}}},f.prototype.doPopupsOverlap=function(v,b){var S=v.getElement().getBoundingClientRect(),R=b.getElement().getBoundingClientRect();return S.left<R.right&&S.right>R.left&&S.top<R.bottom&&S.bottom>R.top},f}(),c=new u;i.popupManager=c,i.Tooltip=a;var h=function(f){l(v,f);function v(b){b===void 0&&(b=document.body);var S=f.call(this,b)||this;S.timeout=void 0,S.lastT=0,S.idleTime=350,S.lastEvent=void 0,S.onMouseOut=S.onMouseOut.bind(S),S.onMouseMove=S.onMouseMove.bind(S),S.waitForHover=S.waitForHover.bind(S),S.hide=S.hide.bind(S);var R=S.getElement();return R.style.whiteSpace="pre-wrap",R.style.pointerEvents="auto",R.addEventListener("mouseout",S.onMouseOut),R.tabIndex=-1,R.addEventListener("blur",(function(){R.contains(document.activeElement)||this.hide()}).bind(S)),R.addEventListener("wheel",p),S}return v.prototype.addToEditor=function(b){b.on("mousemove",this.onMouseMove),b.on("mousedown",this.hide),b.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},v.prototype.removeFromEditor=function(b){b.off("mousemove",this.onMouseMove),b.off("mousedown",this.hide),b.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},v.prototype.onMouseMove=function(b,S){this.lastEvent=b,this.lastT=Date.now();var R=S.$mouseHandler.isMousePressed;if(this.isOpen){var x=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(x.row,x.column)||R||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||R||(this.lastEvent=b,this.timeout=setTimeout(this.waitForHover,this.idleTime))},v.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var b=Date.now()-this.lastT;if(this.idleTime-b>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-b);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},v.prototype.isOutsideOfText=function(b){var S=b.editor,R=b.getDocumentPosition(),x=S.session.getLine(R.row);if(R.column==x.length){var C=S.renderer.pixelToScreenCoordinates(b.clientX,b.clientY),y=S.session.documentToScreenPosition(R.row,R.column);if(y.column!=C.column||y.row!=C.row)return!0}return!1},v.prototype.setDataProvider=function(b){this.$gatherData=b},v.prototype.showForRange=function(b,S,R,x){var C=10;if(!(x&&x!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var y=b.renderer;this.isOpen||(c.addPopup(this),this.$registerCloseEvents(),this.setTheme(y.theme)),this.isOpen=!0,this.addMarker(S,b.session),this.range=s.fromPoints(S.start,S.end);var T=y.textToScreenCoordinates(S.start.row,S.start.column),L=y.scroller.getBoundingClientRect();T.pageX<L.left&&(T.pageX=L.left);var _=this.getElement();_.innerHTML="",_.appendChild(R),_.style.maxHeight="",_.style.display="block";var k=_.clientHeight,I=_.clientWidth,w=window.innerHeight-T.pageY-y.lineHeight,m=!0;T.pageY-k<0&&T.pageY<w&&(m=!1),_.style.maxHeight=(m?T.pageY:w)-C+"px",_.style.top=m?"":T.pageY+y.lineHeight+"px",_.style.bottom=m?window.innerHeight-T.pageY+"px":"",_.style.left=Math.min(T.pageX,window.innerWidth-I-C)+"px"}},v.prototype.addMarker=function(b,S){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=S,this.marker=S&&S.addMarker(b,"ace_highlight-marker","text")},v.prototype.hide=function(b){!b&&document.activeElement==this.getElement()||b&&b.target&&(b.type!="keydown"||b.ctrlKey||b.metaKey)&&this.$element.contains(b.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,c.removePopup(this)))},v.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},v.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},v.prototype.onMouseOut=function(b){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!b.relatedTarget||this.getElement().contains(b.relatedTarget)||b&&b.currentTarget.contains(b.relatedTarget)||b.relatedTarget.classList.contains("ace_content")||this.hide())},v}(a);i.HoverTooltip=h}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config","ace/lib/lang"],function(t,i,r){var l=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(v[S]=b[S])},c(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(h,f);function v(){this.constructor=h}h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),d=this&&this.__values||function(c){var h=typeof Symbol=="function"&&Symbol.iterator,f=h&&c[h],v=0;if(f)return f.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},g=t("../lib/dom"),s=t("../lib/event"),p=t("../tooltip").Tooltip,o=t("../config").nls;t("../lib/lang");function a(c){var h=c.editor,f=h.renderer.$gutterLayer,v=new u(h);c.editor.setDefaultHandler("guttermousedown",function(y){if(!(!h.isFocused()||y.getButton()!=0)){var T=f.getRegion(y);if(T!="foldWidgets"){var L=y.getDocumentPosition().row,_=h.session.selection;if(y.getShiftKey())_.selectTo(L,0);else{if(y.domEvent.detail==2)return h.selectAll(),y.preventDefault();c.$clickSelection=h.selection.getLineRange(L)}return c.setState("selectByLines"),c.captureMouse(y),y.preventDefault()}}});var b,S;function R(){var y=S.getDocumentPosition().row,T=h.session.getLength();if(y==T){var L=h.renderer.pixelToScreenCoordinates(0,S.y).row,_=S.$pos;if(L>h.session.documentToScreenRow(_.row,_.column))return x()}if(v.showTooltip(y),!!v.isOpen)if(h.on("mousewheel",x),c.$tooltipFollowsMouse)C(S);else{var k=S.getGutterRow(),I=f.$lines.get(k);if(I){var w=I.element.querySelector(".ace_gutter_annotation"),m=w.getBoundingClientRect(),A=v.getElement().style;A.left=m.right+"px",A.top=m.bottom+"px"}else C(S)}}function x(){b&&(b=clearTimeout(b)),v.isOpen&&(v.hideTooltip(),h.off("mousewheel",x))}function C(y){v.setPosition(y.x,y.y)}c.editor.setDefaultHandler("guttermousemove",function(y){var T=y.domEvent.target||y.domEvent.srcElement;if(g.hasCssClass(T,"ace_fold-widget"))return x();v.isOpen&&c.$tooltipFollowsMouse&&C(y),S=y,!b&&(b=setTimeout(function(){b=null,S&&!c.isMousePressed?R():x()},50))}),s.addListener(h.renderer.$gutter,"mouseout",function(y){S=null,!(!v.isOpen||b)&&(b=setTimeout(function(){b=null,x()},50))},h),h.on("changeSession",x),h.on("input",x)}i.GutterHandler=a;var u=function(c){l(h,c);function h(f){var v=c.call(this,f.container)||this;return v.editor=f,v.visibleTooltipRow,v}return h.prototype.setPosition=function(f,v){var b=window.innerWidth||document.documentElement.clientWidth,S=window.innerHeight||document.documentElement.clientHeight,R=this.getWidth(),x=this.getHeight();f+=15,v+=15,f+R>b&&(f-=f+R-b),v+x>S&&(v-=20+x),p.prototype.setPosition.call(this,f,v)},Object.defineProperty(h,"annotationLabels",{get:function(){return{error:{singular:o("gutter-tooltip.aria-label.error.singular","error"),plural:o("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:o("gutter-tooltip.aria-label.security.singular","security finding"),plural:o("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:o("gutter-tooltip.aria-label.warning.singular","warning"),plural:o("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:o("gutter-tooltip.aria-label.info.singular","information message"),plural:o("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:o("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:o("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),h.prototype.showTooltip=function(f){var v,b=this.editor.renderer.$gutterLayer,S=b.$annotations[f],R;S?R={displayText:Array.from(S.displayText),type:Array.from(S.type)}:R={displayText:[],type:[]};var x=b.session.getFoldLine(f);if(x&&b.$showFoldedAnnotations){for(var C={error:[],security:[],warning:[],info:[],hint:[]},y={error:1,security:2,warning:3,info:4,hint:5},T,L=f+1;L<=x.end.row;L++)if(b.$annotations[L])for(var _=0;_<b.$annotations[L].text.length;_++){var k=b.$annotations[L].type[_];C[k].push(b.$annotations[L].text[_]),(!T||y[k]<y[T])&&(T=k)}if(["error","security","warning"].includes(T)){var I="".concat(h.annotationsToSummaryString(C)," in folded code.");R.displayText.push(I),R.type.push(T+"_fold")}}if(R.displayText.length===0)return this.hideTooltip();for(var w={error:[],security:[],warning:[],info:[],hint:[]},m=b.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",L=0;L<R.displayText.length;L++){var A=g.createElement("span"),E=g.createElement("span");(v=E.classList).add.apply(v,["ace_".concat(R.type[L]),m]),E.setAttribute("aria-label","".concat(h.annotationLabels[R.type[L].replace("_fold","")].singular)),E.setAttribute("role","img"),E.appendChild(g.createTextNode(" ")),A.appendChild(E),A.appendChild(g.createTextNode(R.displayText[L])),A.appendChild(g.createElement("br")),w[R.type[L].replace("_fold","")].push(A)}var M=this.getElement();g.removeChildren(M),w.error.forEach(function(O){return M.appendChild(O)}),w.security.forEach(function(O){return M.appendChild(O)}),w.warning.forEach(function(O){return M.appendChild(O)}),w.info.forEach(function(O){return M.appendChild(O)}),w.hint.forEach(function(O){return M.appendChild(O)}),M.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=f,this.editor._signal("showGutterTooltip",this)},h.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},h.annotationsToSummaryString=function(f){var v,b,S=[],R=["error","security","warning","info","hint"];try{for(var x=d(R),C=x.next();!C.done;C=x.next()){var y=C.value;if(f[y].length){var T=f[y].length===1?h.annotationLabels[y].singular:h.annotationLabels[y].plural;S.push("".concat(f[y].length," ").concat(T))}}}catch(L){v={error:L}}finally{try{C&&!C.done&&(b=x.return)&&b.call(x)}finally{if(v)throw v.error}}return S.join(", ")},h}(p);i.GutterTooltip=u}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,i,r){var l=t("../lib/event"),d=t("../lib/useragent"),g=function(){function s(p,o){this.speed,this.wheelX,this.wheelY,this.domEvent=p,this.editor=o,this.x=this.clientX=p.clientX,this.y=this.clientY=p.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){l.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){l.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var p=this.getDocumentPosition().row,o=this.editor.session.documentToScreenRow(p,0),a=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return o-a},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var p=this.editor,o=p.getSelectionRange();if(o.isEmpty())this.$inSelection=!1;else{var a=this.getDocumentPosition();this.$inSelection=o.contains(a.row,a.column)}return this.$inSelection},s.prototype.getButton=function(){return l.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return d.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();i.MouseEvent=g}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(t,i,r){var l=t("../lib/dom"),d=t("../lib/event"),g=t("../lib/useragent"),s=200,p=200,o=5;function a(c){var h=c.editor,f=l.createElement("div");f.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",f.textContent="";var v=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];v.forEach(function(P){c[P]=this[P]},this),h.on("mousedown",this.onMouseDown.bind(c));var b=h.container,S,R,x,C,y,T,L=0,_,k,I,w,m;this.onDragStart=function(P){if(this.cancelDrag||!b.draggable){var j=this;return setTimeout(function(){j.startSelect(),j.captureMouse(P)},0),P.preventDefault()}y=h.getSelectionRange();var G=P.dataTransfer;G.effectAllowed=h.getReadOnly()?"copy":"copyMove",h.container.appendChild(f),G.setDragImage&&G.setDragImage(f,0,0),setTimeout(function(){h.container.removeChild(f)}),G.clearData(),G.setData("Text",h.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(P){if(b.draggable=!1,k=!1,this.setState(null),!h.getReadOnly()){var j=P.dataTransfer.dropEffect;!_&&j=="move"&&h.session.remove(h.getSelectionRange()),h.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(P){if(!(h.getReadOnly()||!F(P.dataTransfer)))return R=P.clientX,x=P.clientY,S||O(),L++,P.dataTransfer.dropEffect=_=z(P),d.preventDefault(P)},this.onDragOver=function(P){if(!(h.getReadOnly()||!F(P.dataTransfer)))return R=P.clientX,x=P.clientY,S||(O(),L++),D!==null&&(D=null),P.dataTransfer.dropEffect=_=z(P),d.preventDefault(P)},this.onDragLeave=function(P){if(L--,L<=0&&S)return $(),_=null,d.preventDefault(P)},this.onDrop=function(P){if(T){var j=P.dataTransfer;if(k)switch(_){case"move":y.contains(T.row,T.column)?y={start:T,end:T}:y=h.moveText(y,T);break;case"copy":y=h.moveText(y,T,!0);break}else{var G=j.getData("Text");y={start:T,end:h.session.insert(T,G)},h.focus(),_=null}return $(),d.preventDefault(P)}},d.addListener(b,"dragstart",this.onDragStart.bind(c),h),d.addListener(b,"dragend",this.onDragEnd.bind(c),h),d.addListener(b,"dragenter",this.onDragEnter.bind(c),h),d.addListener(b,"dragover",this.onDragOver.bind(c),h),d.addListener(b,"dragleave",this.onDragLeave.bind(c),h),d.addListener(b,"drop",this.onDrop.bind(c),h);function A(P,j){var G=Date.now(),H=!j||P.row!=j.row,W=!j||P.column!=j.column;if(!w||H||W)h.moveCursorToPosition(P),w=G,m={x:R,y:x};else{var Y=u(m.x,m.y,R,x);Y>o?w=null:G-w>=p&&(h.renderer.scrollCursorIntoView(),w=null)}}function E(P,j){var G=Date.now(),H=h.renderer.layerConfig.lineHeight,W=h.renderer.layerConfig.characterWidth,Y=h.renderer.scroller.getBoundingClientRect(),q={x:{left:R-Y.left,right:Y.right-R},y:{top:x-Y.top,bottom:Y.bottom-x}},J=Math.min(q.x.left,q.x.right),ne=Math.min(q.y.top,q.y.bottom),B={row:P.row,column:P.column};J/W<=2&&(B.column+=q.x.left<q.x.right?-3:2),ne/H<=1&&(B.row+=q.y.top<q.y.bottom?-1:1);var U=P.row!=B.row,K=P.column!=B.column,X=!j||P.row!=j.row;U||K&&!X?I?G-I>=s&&h.renderer.scrollCursorIntoView(B):I=G:I=null}function M(){var P=T;T=h.renderer.screenToTextCoordinates(R,x),A(T,P),E(T,P)}function O(){y=h.selection.toOrientedRange(),S=h.session.addMarker(y,"ace_selection",h.getSelectionStyle()),h.clearSelection(),h.isFocused()&&h.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),M(),C=setInterval(M,20),L=0,d.addListener(document,"mousemove",N)}function $(){clearInterval(C),h.session.removeMarker(S),S=null,h.selection.fromOrientedRange(y),h.isFocused()&&!k&&h.$resetCursorStyle(),y=null,T=null,L=0,I=null,w=null,d.removeListener(document,"mousemove",N)}var D=null;function N(){D==null&&(D=setTimeout(function(){D!=null&&S&&$()},20))}function F(P){var j=P.types;return!j||Array.prototype.some.call(j,function(G){return G=="text/plain"||G=="Text"})}function z(P){var j=["copy","copymove","all","uninitialized"],G=["move","copymove","linkmove","all","uninitialized"],H=g.isMac?P.altKey:P.ctrlKey,W="uninitialized";try{W=P.dataTransfer.effectAllowed.toLowerCase()}catch{}var Y="none";return H&&j.indexOf(W)>=0?Y="copy":G.indexOf(W)>=0?Y="move":j.indexOf(W)>=0&&(Y="copy"),Y}}(function(){this.dragWait=function(){var c=Date.now()-this.mousedownEvent.time;c>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var c=this.editor.container;c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(c){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var c=this.editor,h=c.container;h.draggable=!0,c.renderer.$cursorLayer.setBlinking(!1),c.setStyle("ace_dragging");var f=g.isWin?"default":"move";c.renderer.setCursorStyle(f),this.setState("dragReady")},this.onMouseDrag=function(c){var h=this.editor.container;if(g.isIE&&this.state=="dragReady"){var f=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>3&&h.dragDrop()}if(this.state==="dragWait"){var f=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);f>0&&(h.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(c){if(this.$dragEnabled){this.mousedownEvent=c;var h=this.editor,f=c.inSelection(),v=c.getButton(),b=c.domEvent.detail||1;if(b===1&&v===0&&f){if(c.editor.inMultiSelectMode&&(c.getAccelKey()||c.getShiftKey()))return;this.mousedownEvent.time=Date.now();var S=c.domEvent.target||c.domEvent.srcElement;if("unselectable"in S&&(S.unselectable="on"),h.getDragDelay()){if(g.isWebKit){this.cancelDrag=!0;var R=h.container;R.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(c,this.onMouseDrag.bind(this)),c.defaultPrevented=!0}}}}).call(a.prototype);function u(c,h,f,v){return Math.sqrt(Math.pow(f-c,2)+Math.pow(v-h,2))}i.DragdropHandler=a}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(t,i,r){var l=t("./mouse_event").MouseEvent,d=t("../lib/event"),g=t("../lib/dom");i.addTouchListeners=function(s,p){var o="scroll",a,u,c,h,f,v,b=0,S,R=0,x=0,C=0,y,T;function L(){var A=window.navigator&&window.navigator.clipboard,E=!1,M=function(){var D=p.getCopyText(),N=p.session.getUndoManager().hasUndo();T.replaceChild(g.buildDom(E?["span",!D&&O("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],D&&O("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],D&&O("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],A&&O("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],N&&O("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],O("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],O("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),T.firstChild)},O=function(D){return p.commands.canExecute(D,p)},$=function(D){var N=D.target.getAttribute("action");if(N=="more"||!E)return E=!E,M();N=="paste"?A.readText().then(function(F){p.execCommand(N,F)}):N&&((N=="cut"||N=="copy")&&(A?A.writeText(p.getCopyText()):document.execCommand("copy")),p.execCommand(N)),T.firstChild.style.display="none",E=!1,N!="openCommandPalette"&&p.focus()};T=g.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(D){o="menu",D.stopPropagation(),D.preventDefault(),p.textInput.focus()},ontouchend:function(D){D.stopPropagation(),D.preventDefault(),$(D)},onclick:$},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],p.container)}function _(){if(!p.getOption("enableMobileMenu")){T&&k();return}T||L();var A=p.selection.cursor,E=p.renderer.textToScreenCoordinates(A.row,A.column),M=p.renderer.textToScreenCoordinates(0,0).pageX,O=p.renderer.scrollLeft,$=p.container.getBoundingClientRect();T.style.top=E.pageY-$.top-3+"px",E.pageX-$.left<$.width-70?(T.style.left="",T.style.right="10px"):(T.style.right="",T.style.left=M+O-$.left+"px"),T.style.display="",T.firstChild.style.display="none",p.on("input",k)}function k(A){T&&(T.style.display="none"),p.off("input",k)}function I(){f=null,clearTimeout(f);var A=p.selection.getRange(),E=A.contains(S.row,S.column);(A.isEmpty()||!E)&&(p.selection.moveToPosition(S),p.selection.selectWord()),o="wait",_()}function w(){f=null,clearTimeout(f),p.selection.moveToPosition(S);var A=R>=2?p.selection.getLineRange(S.row):p.session.getBracketRange(S);A&&!A.isEmpty()?p.selection.setRange(A):p.selection.selectWord(),o="wait"}d.addListener(s,"contextmenu",function(A){if(y){var E=p.textInput.getElement();E.focus()}},p),d.addListener(s,"touchstart",function(A){var E=A.touches;if(f||E.length>1){clearTimeout(f),f=null,c=-1,o="zoom";return}y=p.$mouseHandler.isMousePressed=!0;var M=p.renderer.layerConfig.lineHeight,O=p.renderer.layerConfig.lineHeight,$=A.timeStamp;h=$;var D=E[0],N=D.clientX,F=D.clientY;Math.abs(a-N)+Math.abs(u-F)>M&&(c=-1),a=A.clientX=N,u=A.clientY=F,x=C=0;var z=new l(A,p);if(S=z.getDocumentPosition(),$-c<500&&E.length==1&&!b)R++,A.preventDefault(),A.button=0,w();else{R=0;var P=p.selection.cursor,j=p.selection.isEmpty()?P:p.selection.anchor,G=p.renderer.$cursorLayer.getPixelPosition(P,!0),H=p.renderer.$cursorLayer.getPixelPosition(j,!0),W=p.renderer.scroller.getBoundingClientRect(),Y=p.renderer.layerConfig.offset,q=p.renderer.scrollLeft,J=function(U,K){return U=U/O,K=K/M-.75,U*U+K*K};if(A.clientX<W.left){o="zoom";return}var ne=J(A.clientX-W.left-G.left+q,A.clientY-W.top-G.top+Y),B=J(A.clientX-W.left-H.left+q,A.clientY-W.top-H.top+Y);ne<3.5&&B<3.5&&(o=ne>B?"cursor":"anchor"),B<3.5?o="anchor":ne<3.5?o="cursor":o="scroll",f=setTimeout(I,450)}c=$},p),d.addListener(s,"touchend",function(A){y=p.$mouseHandler.isMousePressed=!1,v&&clearInterval(v),o=="zoom"?(o="",b=0):f?(p.selection.moveToPosition(S),b=0,_()):o=="scroll"?(m(),k()):_(),clearTimeout(f),f=null},p),d.addListener(s,"touchmove",function(A){f&&(clearTimeout(f),f=null);var E=A.touches;if(!(E.length>1||o=="zoom")){var M=E[0],O=a-M.clientX,$=u-M.clientY;if(o=="wait")if(O*O+$*$>4)o="cursor";else return A.preventDefault();a=M.clientX,u=M.clientY,A.clientX=M.clientX,A.clientY=M.clientY;var D=A.timeStamp,N=D-h;if(h=D,o=="scroll"){var F=new l(A,p);F.speed=1,F.wheelX=O,F.wheelY=$,10*Math.abs(O)<Math.abs($)&&(O=0),10*Math.abs($)<Math.abs(O)&&($=0),N!=0&&(x=O/N,C=$/N),p._emit("mousewheel",F),F.propagationStopped||(x=C=0)}else{var z=new l(A,p),P=z.getDocumentPosition();o=="cursor"?p.selection.moveCursorToPosition(P):o=="anchor"&&p.selection.setSelectionAnchor(P.row,P.column),p.renderer.scrollCursorIntoView(P),A.preventDefault()}}},p);function m(){b+=60,v=setInterval(function(){b--<=0&&(clearInterval(v),v=null),Math.abs(x)<.01&&(x=0),Math.abs(C)<.01&&(C=0),b<20&&(x=.9*x),b<20&&(C=.9*C);var A=p.session.getScrollTop();p.renderer.scrollBy(10*x,10*C),A==p.session.getScrollTop()&&(b=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(t,i,r){var l=t("../lib/event"),d=t("../lib/useragent"),g=t("./default_handlers").DefaultHandlers,s=t("./default_gutter_handler").GutterHandler,p=t("./mouse_event").MouseEvent,o=t("./dragdrop_handler").DragdropHandler,a=t("./touch_handler").addTouchListeners,u=t("../config"),c=function(){function h(f){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var v=this;this.editor=f,new g(this),new s(this),new o(this);var b=function(x){var C=!document.hasFocus||!document.hasFocus()||!f.isFocused()&&document.activeElement==(f.textInput&&f.textInput.getElement());C&&window.focus(),f.focus(),setTimeout(function(){f.isFocused()||f.focus()})},S=f.renderer.getMouseEventTarget();l.addListener(S,"click",this.onMouseEvent.bind(this,"click"),f),l.addListener(S,"mousemove",this.onMouseMove.bind(this,"mousemove"),f),l.addMultiMouseDownListener([S,f.renderer.scrollBarV&&f.renderer.scrollBarV.inner,f.renderer.scrollBarH&&f.renderer.scrollBarH.inner,f.textInput&&f.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",f),l.addMouseWheelListener(f.container,this.onMouseWheel.bind(this,"mousewheel"),f),a(f.container,f);var R=f.renderer.$gutter;l.addListener(R,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),f),l.addListener(R,"click",this.onMouseEvent.bind(this,"gutterclick"),f),l.addListener(R,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),f),l.addListener(R,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),f),l.addListener(S,"mousedown",b,f),l.addListener(R,"mousedown",b,f),d.isIE&&f.renderer.scrollBarV&&(l.addListener(f.renderer.scrollBarV.element,"mousedown",b,f),l.addListener(f.renderer.scrollBarH.element,"mousedown",b,f)),f.on("mousemove",function(x){if(!(v.state||v.$dragDelay||!v.$dragEnabled)){var C=f.renderer.screenToTextCoordinates(x.x,x.y),y=f.session.selection.getRange(),T=f.renderer;!y.isEmpty()&&y.insideStart(C.row,C.column)?T.setCursorStyle("default"):T.setCursorStyle("")}},f)}return h.prototype.onMouseEvent=function(f,v){this.editor.session&&this.editor._emit(f,new p(v,this.editor))},h.prototype.onMouseMove=function(f,v){var b=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!b||!b.length||this.editor._emit(f,new p(v,this.editor))},h.prototype.onMouseWheel=function(f,v){var b=new p(v,this.editor);b.speed=this.$scrollSpeed*2,b.wheelX=v.wheelX,b.wheelY=v.wheelY,this.editor._emit(f,b)},h.prototype.setState=function(f){this.state=f},h.prototype.captureMouse=function(f,v){this.x=f.x,this.y=f.y,this.isMousePressed=!0;var b=this.editor,S=this.editor.renderer;S.$isMousePressed=!0;var R=this,x=function(_){if(_){if(d.isWebKit&&!_.which&&R.releaseMouse)return R.releaseMouse();R.x=_.clientX,R.y=_.clientY,v&&v(_),R.mouseEvent=new p(_,R.editor),R.$mouseMoved=!0}},C=function(_){b.off("beforeEndOperation",T),clearInterval(L),b.session&&y(),R[R.state+"End"]&&R[R.state+"End"](_),R.state="",R.isMousePressed=S.$isMousePressed=!1,S.$keepTextAreaAtCursor&&S.$moveTextAreaToCursor(),R.$onCaptureMouseMove=R.releaseMouse=null,_&&R.onMouseEvent("mouseup",_),b.endOperation()},y=function(){R[R.state]&&R[R.state](),R.$mouseMoved=!1};if(d.isOldIE&&f.domEvent.type=="dblclick")return setTimeout(function(){C(f)});var T=function(_){R.releaseMouse&&b.curOp.command.name&&b.curOp.selectionChanged&&(R[R.state+"End"]&&R[R.state+"End"](),R.state="",R.releaseMouse())};b.on("beforeEndOperation",T),b.startOperation({command:{name:"mouse"}}),R.$onCaptureMouseMove=x,R.releaseMouse=l.capture(this.editor.container,x,C);var L=setInterval(y,20)},h.prototype.cancelContextMenu=function(){var f=(function(v){v&&v.domEvent&&v.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",f),v&&v.domEvent&&l.stopEvent(v.domEvent))}).bind(this);setTimeout(f,10),this.editor.on("nativecontextmenu",f)},h.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},h}();c.prototype.releaseMouse=null,u.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:d.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),i.MouseHandler=c}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(t,i,r){var l=t("../lib/dom"),d=function(){function g(s){s.on("click",function(p){var o=p.getDocumentPosition(),a=s.session,u=a.getFoldAt(o.row,o.column,1);u&&(p.getAccelKey()?a.removeFold(u):a.expandFold(u),p.stop());var c=p.domEvent&&p.domEvent.target;c&&l.hasCssClass(c,"ace_inline_button")&&l.hasCssClass(c,"ace_toggle_wrap")&&(a.setOption("wrap",!a.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(p){var o=s.renderer.$gutterLayer.getRegion(p);if(o=="foldWidgets"){var a=p.getDocumentPosition().row,u=s.session;u.foldWidgets&&u.foldWidgets[a]&&s.session.onFoldWidgetClick(a,p),s.isFocused()||s.focus(),p.stop()}}),s.on("gutterdblclick",function(p){var o=s.renderer.$gutterLayer.getRegion(p);if(o=="foldWidgets"){var a=p.getDocumentPosition().row,u=s.session,c=u.getParentFoldRangeData(a,!0),h=c.range||c.firstRange;if(h){a=h.start.row;var f=u.getFoldAt(a,u.getLine(a).length,1);f?u.removeFold(f):(u.addFold("...",h),s.renderer.scrollCursorIntoView({row:h.start.row,column:0}))}p.stop()}})}return g}();i.FoldHandler=d}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(t,i,r){var l=t("../lib/keys"),d=t("../lib/event"),g=function(){function s(p){this.$editor=p,this.$data={editor:p},this.$handlers=[],this.setDefaultHandler(p.commands)}return s.prototype.setDefaultHandler=function(p){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=p,this.addKeyboardHandler(p,0)},s.prototype.setKeyboardHandler=function(p){var o=this.$handlers;if(o[o.length-1]!=p){for(;o[o.length-1]&&o[o.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(o[o.length-1]);this.addKeyboardHandler(p,1)}},s.prototype.addKeyboardHandler=function(p,o){if(p){typeof p=="function"&&!p.handleKeyboard&&(p.handleKeyboard=p);var a=this.$handlers.indexOf(p);a!=-1&&this.$handlers.splice(a,1),o==null?this.$handlers.push(p):this.$handlers.splice(o,0,p),a==-1&&p.attach&&p.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(p){var o=this.$handlers.indexOf(p);return o==-1?!1:(this.$handlers.splice(o,1),p.detach&&p.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var p=this.$data,o=p.editor;return this.$handlers.map(function(a){return a.getStatusText&&a.getStatusText(o,p)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(p,o,a,u){for(var c,h=!1,f=this.$editor.commands,v=this.$handlers.length;v--&&(c=this.$handlers[v].handleKeyboard(this.$data,p,o,a,u),!(!(!c||!c.command)&&(c.command=="null"?h=!0:h=f.exec(c.command,this.$editor,c.args,u),h&&u&&p!=-1&&c.passEvent!=!0&&c.command.passEvent!=!0&&d.stopEvent(u),h))););return!h&&p==-1&&(c={command:"insertstring"},h=f.exec("insertstring",this.$editor,o)),h&&this.$editor._signal&&this.$editor._signal("keyboardActivity",c),h},s.prototype.onCommandKey=function(p,o,a){var u=l.keyCodeToString(a);return this.$callKeyboardHandlers(o,u,a,p)},s.prototype.onTextInput=function(p){return this.$callKeyboardHandlers(-1,p)},s}();i.KeyBinding=g}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(t,i,r){var l=0,d=0,g=!1,s=!1,p=!1,o=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],a=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,c=1,h=0,f=1,v=2,b=3,S=4,R=5,x=6,C=7,y=8,T=9,L=10,_=11,k=12,I=13,w=14,m=15,A=16,E=17,M=18,O=[M,M,M,M,M,M,M,M,M,x,R,x,y,R,M,M,M,M,M,M,M,M,M,M,M,M,M,M,R,R,R,x,y,S,S,_,_,_,S,S,S,S,S,L,T,L,T,T,v,v,v,v,v,v,v,v,v,v,T,S,S,S,S,S,S,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,S,S,S,S,S,S,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,S,S,S,S,M,M,M,M,M,M,R,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,T,S,_,_,_,_,S,S,S,S,h,S,S,M,S,S,_,_,v,v,S,h,S,S,S,v,h,S,S,S,S,S],$=[y,y,y,y,y,y,y,y,y,y,y,M,M,M,h,f,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,y,R,I,w,m,A,E,T,_,_,_,_,_,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,T,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,y];function D(P,j,G,H){var W=l?a:o,Y=null,q=null,J=null,ne=0,B=null,U=null,K=-1,X=null,ee=null,Z=[];if(!H)for(X=0,H=[];X<G;X++)H[X]=z(P[X]);for(d=l,g=!1,s=!1,p=!1,ee=0;ee<G;ee++){if(Y=ne,Z[ee]=q=F(P,H,Z,ee),ne=W[Y][q],B=ne&240,ne&=15,j[ee]=J=W[ne][5],B>0)if(B==16){for(X=K;X<ee;X++)j[X]=1;K=-1}else K=-1;if(U=W[ne][6],U)K==-1&&(K=ee);else if(K>-1){for(X=K;X<ee;X++)j[X]=J;K=-1}H[ee]==R&&(j[ee]=0),d|=J}if(p){for(X=0;X<G;X++)if(H[X]==x){j[X]=l;for(var ie=X-1;ie>=0&&H[ie]==y;ie--)j[ie]=l}}}function N(P,j,G){if(!(d<P)){if(P==1&&l==c&&!s){G.reverse();return}for(var H=G.length,W=0,Y,q,J,ne;W<H;){if(j[W]>=P){for(Y=W+1;Y<H&&j[Y]>=P;)Y++;for(q=W,J=Y-1;q<J;q++,J--)ne=G[q],G[q]=G[J],G[J]=ne;W=Y}W++}}}function F(P,j,G,H){var W=j[H],Y,q,J,ne;switch(W){case h:case f:g=!1;case S:case b:return W;case v:return g?b:v;case C:return g=!0,f;case y:return S;case T:return H<1||H+1>=j.length||(Y=G[H-1])!=v&&Y!=b||(q=j[H+1])!=v&&q!=b?S:(g&&(q=b),q==Y?q:S);case L:return Y=H>0?G[H-1]:R,Y==v&&H+1<j.length&&j[H+1]==v?v:S;case _:if(H>0&&G[H-1]==v)return v;if(g)return S;for(ne=H+1,J=j.length;ne<J&&j[ne]==_;)ne++;return ne<J&&j[ne]==v?v:S;case k:for(J=j.length,ne=H+1;ne<J&&j[ne]==k;)ne++;if(ne<J){var B=P[H],U=B>=1425&&B<=2303||B==64286;if(Y=j[ne],U&&(Y==f||Y==C))return f}return H<1||(Y=j[H-1])==R?S:G[H-1];case R:return g=!1,s=!0,l;case x:return p=!0,S;case I:case w:case A:case E:case m:g=!1;case M:return S}}function z(P){var j=P.charCodeAt(0),G=j>>8;return G==0?j>191?h:O[j]:G==5?/[\u0591-\u05f4]/.test(P)?f:h:G==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(P)?k:/[\u0660-\u0669\u066b-\u066c]/.test(P)?b:j==1642?_:/[\u06f0-\u06f9]/.test(P)?v:C:G==32&&j<=8287?$[j&255]:G==254&&j>=65136?C:S}i.L=h,i.R=f,i.EN=v,i.ON_R=3,i.AN=4,i.R_H=5,i.B=6,i.RLE=7,i.DOT="",i.doBidiReorder=function(P,j,G){if(P.length<2)return{};var H=P.split(""),W=new Array(H.length),Y=new Array(H.length),q=[];l=G?c:u,D(H,q,H.length,j);for(var J=0;J<W.length;W[J]=J,J++);N(2,q,W),N(1,q,W);for(var J=0;J<W.length-1;J++)j[J]===b?q[J]=i.AN:q[J]===f&&(j[J]>C&&j[J]<I||j[J]===S||j[J]===M)?q[J]=i.ON_R:J>0&&H[J-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(H[J])&&(q[J-1]=q[J]=i.R_H,J++);H[H.length-1]===i.DOT&&(q[H.length-1]=i.B),H[0]===""&&(q[0]=i.RLE);for(var J=0;J<W.length;J++)Y[J]=q[W[J]];return{logicalFromVisual:W,bidiLevels:Y}},i.hasBidiCharacters=function(P,j){for(var G=!1,H=0;H<P.length;H++)j[H]=z(P.charAt(H)),!G&&(j[H]==f||j[H]==C||j[H]==b)&&(G=!0);return G},i.getVisualFromLogicalIdx=function(P,j){for(var G=0;G<j.logicalFromVisual.length;G++)if(j.logicalFromVisual[G]==P)return G;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(t,i,r){var l=t("./lib/bidiutil"),d=t("./lib/lang"),g=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function p(o){this.session=o,this.bidiMap={},this.currentRow=null,this.bidiUtil=l,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=g.test(o.getValue())}return p.prototype.isBidiRow=function(o,a,u){return this.seenBidi?(o!==this.currentRow&&(this.currentRow=o,this.updateRowLine(a,u),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},p.prototype.onChange=function(o){this.seenBidi?this.currentRow=null:o.action=="insert"&&g.test(o.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},p.prototype.getDocumentRow=function(){var o=0,a=this.session.$screenRowCache;if(a.length){var u=this.session.$getRowCacheIndex(a,this.currentRow);u>=0&&(o=this.session.$docRowCache[u])}return o},p.prototype.getSplitIndex=function(){var o=0,a=this.session.$screenRowCache;if(a.length)for(var u,c=this.session.$getRowCacheIndex(a,this.currentRow);this.currentRow-o>0&&(u=this.session.$getRowCacheIndex(a,this.currentRow-o-1),u===c);)c=u,o++;else o=this.currentRow;return o},p.prototype.updateRowLine=function(o,a){o===void 0&&(o=this.getDocumentRow());var u=o===this.session.getLength()-1,c=u?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(o),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var h=this.session.$wrapData[o];h&&(a===void 0&&(a=this.getSplitIndex()),a>0&&h.length?(this.wrapIndent=h.indent,this.wrapOffset=this.wrapIndent*this.charWidths[l.L],this.line=a<h.length?this.line.substring(h[a-1],h[a]):this.line.substring(h[h.length-1])):this.line=this.line.substring(0,h[a]),a==h.length&&(this.line+=this.showInvisibles?c:l.DOT))}else this.line+=this.showInvisibles?c:l.DOT;var f=this.session,v=0,b;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(S,R){return S==="	"||f.isFullWidth(S.charCodeAt(0))?(b=S==="	"?f.getScreenTabSize(R+v):2,v+=b-1,d.stringRepeat(l.DOT,b)):S}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==l.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},p.prototype.updateBidiMap=function(){var o=[];l.hasBidiCharacters(this.line,o)||this.isRtlDir?this.bidiMap=l.doBidiReorder(this.line,o,this.isRtlDir):this.bidiMap={}},p.prototype.markAsDirty=function(){this.currentRow=null},p.prototype.updateCharacterWidths=function(o){if(this.characterWidth!==o.$characterSize.width){this.fontMetrics=o;var a=this.characterWidth=o.$characterSize.width,u=o.$measureCharWidth("");this.charWidths[l.L]=this.charWidths[l.EN]=this.charWidths[l.ON_R]=a,this.charWidths[l.R]=this.charWidths[l.AN]=u,this.charWidths[l.R_H]=u*.45,this.charWidths[l.B]=this.charWidths[l.RLE]=0,this.currentRow=null}},p.prototype.setShowInvisibles=function(o){this.showInvisibles=o,this.currentRow=null},p.prototype.setEolChar=function(o){this.EOL=o},p.prototype.setContentWidth=function(o){this.contentWidth=o},p.prototype.isRtlLine=function(o){return this.$isRtl?!0:o!=null?this.session.getLine(o).charAt(0)==this.RLE:this.isRtlDir},p.prototype.setRtlDirection=function(o,a){for(var u=o.getCursorPosition(),c=o.selection.getSelectionAnchor().row;c<=u.row;c++)!a&&o.session.getLine(c).charAt(0)===o.session.$bidiHandler.RLE?o.session.doc.removeInLine(c,0,1):a&&o.session.getLine(c).charAt(0)!==o.session.$bidiHandler.RLE&&o.session.doc.insert({column:0,row:c},o.session.$bidiHandler.RLE)},p.prototype.getPosLeft=function(o){o-=this.wrapIndent;var a=this.line.charAt(0)===this.RLE?1:0,u=o>a?this.session.getOverwrite()?o:o-1:a,c=l.getVisualFromLogicalIdx(u,this.bidiMap),h=this.bidiMap.bidiLevels,f=0;!this.session.getOverwrite()&&o<=a&&h[c]%2!==0&&c++;for(var v=0;v<c;v++)f+=this.charWidths[h[v]];return!this.session.getOverwrite()&&o>a&&h[c]%2===0&&(f+=this.charWidths[h[c]]),this.wrapIndent&&(f+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(f+=this.rtlLineOffset),f},p.prototype.getSelections=function(o,a){var u=this.bidiMap,c=u.bidiLevels,h,f=[],v=0,b=Math.min(o,a)-this.wrapIndent,S=Math.max(o,a)-this.wrapIndent,R=!1,x=!1,C=0;this.wrapIndent&&(v+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var y,T=0;T<c.length;T++)y=u.logicalFromVisual[T],h=c[T],R=y>=b&&y<S,R&&!x?C=v:!R&&x&&f.push({left:C,width:v-C}),v+=this.charWidths[h],x=R;if(R&&T===c.length&&f.push({left:C,width:v-C}),this.isRtlDir)for(var L=0;L<f.length;L++)f[L].left+=this.rtlLineOffset;return f},p.prototype.offsetToCol=function(u){this.isRtlDir&&(u-=this.rtlLineOffset);var a=0,u=Math.max(u,0),c=0,h=0,f=this.bidiMap.bidiLevels,v=this.charWidths[f[h]];for(this.wrapIndent&&(u-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);u>c+v/2;){if(c+=v,h===f.length-1){v=0;break}v=this.charWidths[f[++h]]}return h>0&&f[h-1]%2!==0&&f[h]%2===0?(u<c&&h--,a=this.bidiMap.logicalFromVisual[h]):h>0&&f[h-1]%2===0&&f[h]%2!==0?a=1+(u>c?this.bidiMap.logicalFromVisual[h]:this.bidiMap.logicalFromVisual[h-1]):this.isRtlDir&&h===f.length-1&&v===0&&f[h-1]%2===0||!this.isRtlDir&&h===0&&f[h]%2!==0?a=1+this.bidiMap.logicalFromVisual[h]:(h>0&&f[h-1]%2!==0&&v!==0&&h--,a=this.bidiMap.logicalFromVisual[h]),a===0&&this.isRtlDir&&a++,a+this.wrapIndent},p}();i.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(t,i,r){var l=t("./lib/oop"),d=t("./lib/lang"),g=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,p=function(){function o(a){this.session=a,this.doc=a.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var u=this;this.cursor.on("change",function(c){u.$cursorChanged=!0,u.$silent||u._emit("changeCursor"),!u.$isEmpty&&!u.$silent&&u._emit("changeSelection"),!u.$keepDesiredColumnOnChange&&c.old.column!=c.value.column&&(u.$desiredColumn=null)}),this.anchor.on("change",function(){u.$anchorChanged=!0,!u.$isEmpty&&!u.$silent&&u._emit("changeSelection")})}return o.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},o.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},o.prototype.getCursor=function(){return this.lead.getPosition()},o.prototype.setAnchor=function(a,u){this.$isEmpty=!1,this.anchor.setPosition(a,u)},o.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},o.prototype.getSelectionLead=function(){return this.lead.getPosition()},o.prototype.isBackwards=function(){var a=this.anchor,u=this.lead;return a.row>u.row||a.row==u.row&&a.column>u.column},o.prototype.getRange=function(){var a=this.anchor,u=this.lead;return this.$isEmpty?s.fromPoints(u,u):this.isBackwards()?s.fromPoints(u,a):s.fromPoints(a,u)},o.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},o.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},o.prototype.setRange=function(a,u){var c=u?a.end:a.start,h=u?a.start:a.end;this.$setSelection(c.row,c.column,h.row,h.column)},o.prototype.$setSelection=function(a,u,c,h){if(!this.$silent){var f=this.$isEmpty,v=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(a,u),this.cursor.setPosition(c,h),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||f!=this.$isEmpty||v)&&this._emit("changeSelection")}},o.prototype.$moveSelection=function(a){var u=this.lead;this.$isEmpty&&this.setSelectionAnchor(u.row,u.column),a.call(this)},o.prototype.selectTo=function(a,u){this.$moveSelection(function(){this.moveCursorTo(a,u)})},o.prototype.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},o.prototype.moveTo=function(a,u){this.clearSelection(),this.moveCursorTo(a,u)},o.prototype.moveToPosition=function(a){this.clearSelection(),this.moveCursorToPosition(a)},o.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},o.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},o.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},o.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},o.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},o.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},o.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},o.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},o.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},o.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},o.prototype.getWordRange=function(a,u){if(typeof u>"u"){var c=a||this.lead;a=c.row,u=c.column}return this.session.getWordRange(a,u)},o.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},o.prototype.selectAWord=function(){var a=this.getCursor(),u=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(u)},o.prototype.getLineRange=function(a,u){var c=typeof a=="number"?a:this.lead.row,h,f=this.session.getFoldLine(c);return f?(c=f.start.row,h=f.end.row):h=c,u===!0?new s(c,0,h,this.session.getLine(h).length):new s(c,0,h+1,0)},o.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},o.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},o.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},o.prototype.wouldMoveIntoSoftTab=function(a,u,c){var h=a.column,f=a.column+u;return c<0&&(h=a.column-u,f=a.column),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(h,f).split(" ").length-1==u},o.prototype.moveCursorLeft=function(){var a=this.lead.getPosition(),u;if(u=this.session.getFoldAt(a.row,a.column,-1))this.moveCursorTo(u.start.row,u.start.column);else if(a.column===0)a.row>0&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length);else{var c=this.session.getTabSize();this.wouldMoveIntoSoftTab(a,c,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-c):this.moveCursorBy(0,-1)}},o.prototype.moveCursorRight=function(){var a=this.lead.getPosition(),u;if(u=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(u.end.row,u.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var c=this.session.getTabSize(),a=this.lead;this.wouldMoveIntoSoftTab(a,c,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,c):this.moveCursorBy(0,1)}},o.prototype.moveCursorLineStart=function(){var a=this.lead.row,u=this.lead.column,c=this.session.documentToScreenRow(a,u),h=this.session.screenToDocumentPosition(c,0),f=this.session.getDisplayLine(a,null,h.row,h.column),v=f.match(/^\s*/);v[0].length!=u&&!this.session.$useEmacsStyleLineStart&&(h.column+=v[0].length),this.moveCursorToPosition(h)},o.prototype.moveCursorLineEnd=function(){var a=this.lead,u=this.session.getDocumentLastRowColumnPosition(a.row,a.column);if(this.lead.column==u.column){var c=this.session.getLine(u.row);if(u.column==c.length){var h=c.search(/\s+$/);h>0&&(u.column=h)}}this.moveCursorTo(u.row,u.column)},o.prototype.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,u=this.doc.getLine(a).length;this.moveCursorTo(a,u)},o.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},o.prototype.moveCursorLongWordRight=function(){var a=this.lead.row,u=this.lead.column,c=this.doc.getLine(a),h=c.substring(u);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var f=this.session.getFoldAt(a,u,1);if(f){this.moveCursorTo(f.end.row,f.end.column);return}if(this.session.nonTokenRe.exec(h)&&(u+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,h=c.substring(u)),u>=c.length){this.moveCursorTo(a,c.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(h)&&(u+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,u)},o.prototype.moveCursorLongWordLeft=function(){var a=this.lead.row,u=this.lead.column,c;if(c=this.session.getFoldAt(a,u,-1)){this.moveCursorTo(c.start.row,c.start.column);return}var h=this.session.getFoldStringAt(a,u,-1);h==null&&(h=this.doc.getLine(a).substring(0,u));var f=d.stringReverse(h);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(f)&&(u-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),u<=0){this.moveCursorTo(a,0),this.moveCursorLeft(),a>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(f)&&(u-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,u)},o.prototype.$shortWordEndIndex=function(a){var u=0,c,h=/\s/,f=this.session.tokenRe;if(f.lastIndex=0,this.session.tokenRe.exec(a))u=this.session.tokenRe.lastIndex;else{for(;(c=a[u])&&h.test(c);)u++;if(u<1){for(f.lastIndex=0;(c=a[u])&&!f.test(c);)if(f.lastIndex=0,u++,h.test(c))if(u>2){u--;break}else{for(;(c=a[u])&&h.test(c);)u++;if(u>2)break}}}return f.lastIndex=0,u},o.prototype.moveCursorShortWordRight=function(){var a=this.lead.row,u=this.lead.column,c=this.doc.getLine(a),h=c.substring(u),f=this.session.getFoldAt(a,u,1);if(f)return this.moveCursorTo(f.end.row,f.end.column);if(u==c.length){var v=this.doc.getLength();do a++,h=this.doc.getLine(a);while(a<v&&/^\s*$/.test(h));/^\s+/.test(h)||(h=""),u=0}var b=this.$shortWordEndIndex(h);this.moveCursorTo(a,u+b)},o.prototype.moveCursorShortWordLeft=function(){var a=this.lead.row,u=this.lead.column,c;if(c=this.session.getFoldAt(a,u,-1))return this.moveCursorTo(c.start.row,c.start.column);var h=this.session.getLine(a).substring(0,u);if(u===0){do a--,h=this.doc.getLine(a);while(a>0&&/^\s*$/.test(h));u=h.length,/\s+$/.test(h)||(h="")}var f=d.stringReverse(h),v=this.$shortWordEndIndex(f);return this.moveCursorTo(a,u-v)},o.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},o.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},o.prototype.moveCursorBy=function(a,u){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column),h;if(u===0&&(a!==0&&(this.session.$bidiHandler.isBidiRow(c.row,this.lead.row)?(h=this.session.$bidiHandler.getPosLeft(c.column),c.column=Math.round(h/this.session.$bidiHandler.charWidths[0])):h=c.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column),a!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var f=this.session.lineWidgets[this.lead.row];a<0?a-=f.rowsAbove||0:a>0&&(a+=f.rowCount-(f.rowsAbove||0))}var v=this.session.screenToDocumentPosition(c.row+a,c.column,h);a!==0&&u===0&&v.row===this.lead.row&&(v.column,this.lead.column),this.moveCursorTo(v.row,v.column+u,u===0)},o.prototype.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},o.prototype.moveCursorTo=function(a,u,c){var h=this.session.getFoldAt(a,u,1);h&&(a=h.start.row,u=h.start.column),this.$keepDesiredColumnOnChange=!0;var f=this.session.getLine(a);/[\uDC00-\uDFFF]/.test(f.charAt(u))&&f.charAt(u-1)&&(this.lead.row==a&&this.lead.column==u+1?u=u-1:u=u+1),this.lead.setPosition(a,u),this.$keepDesiredColumnOnChange=!1,c||(this.$desiredColumn=null)},o.prototype.moveCursorToScreen=function(a,u,c){var h=this.session.screenToDocumentPosition(a,u);this.moveCursorTo(h.row,h.column,c)},o.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},o.prototype.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},o.prototype.toOrientedRange=function(a){var u=this.getRange();return a?(a.start.column=u.start.column,a.start.row=u.start.row,a.end.column=u.end.column,a.end.row=u.end.row):a=u,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a},o.prototype.getRangeOfMovements=function(a){var u=this.getCursor();try{a(this);var c=this.getCursor();return s.fromPoints(u,c)}catch{return s.fromPoints(u,u)}finally{this.moveCursorToPosition(u)}},o.prototype.toJSON=function(){if(this.rangeCount)var a=this.ranges.map(function(u){var c=u.clone();return c.isBackwards=u.cursor==u.start,c});else{var a=this.getRange();a.isBackwards=this.isBackwards()}return a},o.prototype.fromJSON=function(a){if(a.start==null)if(this.rangeList&&a.length>1){this.toSingleRange(a[0]);for(var u=a.length;u--;){var c=s.fromPoints(a[u].start,a[u].end);a[u].isBackwards&&(c.cursor=c.start),this.addRange(c,!0)}return}else a=a[0];this.rangeList&&this.toSingleRange(a),this.setSelectionRange(a,a.isBackwards)},o.prototype.isEqual=function(a){if((a.length||this.rangeCount)&&a.length!=this.rangeCount)return!1;if(!a.length||!this.ranges)return this.getRange().isEqual(a);for(var u=this.ranges.length;u--;)if(!this.ranges[u].isEqual(a[u]))return!1;return!0},o}();p.prototype.setSelectionAnchor=p.prototype.setAnchor,p.prototype.getSelectionAnchor=p.prototype.getAnchor,p.prototype.setSelectionRange=p.prototype.setRange,l.implement(p.prototype,g),i.Selection=p}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(t,i,r){var l=t("./lib/report_error").reportError,d=2e3,g=function(){function s(p){this.splitRegex,this.states=p,this.regExps={},this.matchMappings={};for(var o in this.states){for(var a=this.states[o],u=[],c=0,h=this.matchMappings[o]={defaultToken:"text"},f="g",v=[],b=0;b<a.length;b++){var S=a[b];if(S.defaultToken&&(h.defaultToken=S.defaultToken),S.caseInsensitive&&f.indexOf("i")===-1&&(f+="i"),S.unicode&&f.indexOf("u")===-1&&(f+="u"),S.regex!=null){S.regex instanceof RegExp&&(S.regex=S.regex.toString().slice(1,-1));var R=S.regex,x=new RegExp("(?:("+R+")|(.))").exec("a").length-2;Array.isArray(S.token)?S.token.length==1||x==1?S.token=S.token[0]:x-1!=S.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:S,groupCount:x-1}),S.token=S.token[0]):(S.tokenArray=S.token,S.token=null,S.onMatch=this.$arrayTokens):typeof S.token=="function"&&!S.onMatch&&(x>1?S.onMatch=this.$applyToken:S.onMatch=S.token),x>1&&(/\\\d/.test(S.regex)?R=S.regex.replace(/\\([0-9]+)/g,function(C,y){return"\\"+(parseInt(y,10)+c+1)}):(x=1,R=this.removeCapturingGroups(S.regex)),!S.splitRegex&&typeof S.token!="string"&&v.push(S)),h[c]=b,c+=x,u.push(R),S.onMatch||(S.onMatch=null)}}u.length||(h[0]=0,u.push("$")),v.forEach(function(C){C.splitRegex=this.createSplitterRegexp(C.regex,f)},this),this.regExps[o]=new RegExp("("+u.join(")|(")+")|($)",f)}}return s.prototype.$setMaxTokenCount=function(p){d=p|0},s.prototype.$applyToken=function(p){var o=this.splitRegex.exec(p).slice(1),a=this.token.apply(this,o);if(typeof a=="string")return[{type:a,value:p}];for(var u=[],c=0,h=a.length;c<h;c++)o[c]&&(u[u.length]={type:a[c],value:o[c]});return u},s.prototype.$arrayTokens=function(p){if(!p)return[];var o=this.splitRegex.exec(p);if(!o)return"text";for(var a=[],u=this.tokenArray,c=0,h=u.length;c<h;c++)o[c+1]&&(a[a.length]={type:u[c],value:o[c+1]});return a},s.prototype.removeCapturingGroups=function(p){var o=p.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(a,u){return u?"(?:":a});return o},s.prototype.createSplitterRegexp=function(p,o){if(p.indexOf("(?=")!=-1){var a=0,u=!1,c={};p.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(h,f,v,b,S,R){return u?u=S!="]":S?u=!0:b?(a==c.stack&&(c.end=R+1,c.stack=-1),a--):v&&(a++,v.length!=1&&(c.stack=a,c.start=R)),h}),c.end!=null&&/^\)*$/.test(p.substr(c.end))&&(p=p.substring(0,c.start)+p.substr(c.end))}return p.charAt(0)!="^"&&(p="^"+p),p.charAt(p.length-1)!="$"&&(p+="$"),new RegExp(p,(o||"").replace("g",""))},s.prototype.getLineTokens=function(p,o){if(o&&typeof o!="string"){var a=o.slice(0);o=a[0],o==="#tmp"&&(a.shift(),o=a.shift())}else var a=[];var u=o||"start",c=this.states[u];c||(u="start",c=this.states[u]);var h=this.matchMappings[u],f=this.regExps[u];f.lastIndex=0;for(var v,b=[],S=0,R=0,x={type:null,value:""};v=f.exec(p);){var C=h.defaultToken,y=null,T=v[0],L=f.lastIndex;if(L-T.length>S){var _=p.substring(S,L-T.length);x.type==C?x.value+=_:(x.type&&b.push(x),x={type:C,value:_})}for(var k=0;k<v.length-2;k++)if(v[k+1]!==void 0){y=c[h[k]],y.onMatch?C=y.onMatch(T,u,a,p):C=y.token,y.next&&(typeof y.next=="string"?u=y.next:u=y.next(u,a),c=this.states[u],c||(this.reportError("state doesn't exist",u),u="start",c=this.states[u]),h=this.matchMappings[u],S=L,f=this.regExps[u],f.lastIndex=L),y.consumeLineEnd&&(S=L);break}if(T){if(typeof C=="string")(!y||y.merge!==!1)&&x.type===C?x.value+=T:(x.type&&b.push(x),x={type:C,value:T});else if(C){x.type&&b.push(x),x={type:null,value:""};for(var k=0;k<C.length;k++)b.push(C[k])}}if(S==p.length)break;if(S=L,R++>d){for(R>2*p.length&&this.reportError("infinite loop with in ace tokenizer",{startState:o,line:p});S<p.length;)x.type&&b.push(x),x={value:p.substring(S,S+=500),type:"overflow"};u="start",a=[];break}}return x.type&&b.push(x),a.length>1&&a[0]!==u&&a.unshift("#tmp",u),{tokens:b,state:a.length?a:u}},s}();g.prototype.reportError=l,i.Tokenizer=g}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(t,i,r){var l=t("../lib/deep_copy").deepCopy,d;d=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(p,o){if(!o){for(var a in p)this.$rules[a]=p[a];return}for(var a in p){for(var u=p[a],c=0;c<u.length;c++){var h=u[c];(h.next||h.onMatch)&&(typeof h.next=="string"&&h.next.indexOf(o)!==0&&(h.next=o+h.next),h.nextState&&h.nextState.indexOf(o)!==0&&(h.nextState=o+h.nextState))}this.$rules[o+a]=u}},this.getRules=function(){return this.$rules},this.embedRules=function(p,o,a,u,c){var h=typeof p=="function"?new p().getRules():p;if(u)for(var f=0;f<u.length;f++)u[f]=o+u[f];else{u=[];for(var v in h)u.push(o+v)}if(this.addRules(h,o),a)for(var b=Array.prototype[c?"push":"unshift"],f=0;f<u.length;f++)b.apply(this.$rules[u[f]],l(a));this.$embeds||(this.$embeds=[]),this.$embeds.push(o)},this.getEmbeds=function(){return this.$embeds};var g=function(p,o){return(p!="start"||o.length)&&o.unshift(this.nextState,p),this.nextState},s=function(p,o){return o.shift(),o.shift()||"start"};this.normalizeRules=function(){var p=0,o=this.$rules;function a(u){var c=o[u];c.processed=!0;for(var h=0;h<c.length;h++){var f=c[h],v=null;Array.isArray(f)&&(v=f,f={}),!f.regex&&f.start&&(f.regex=f.start,f.next||(f.next=[]),f.next.push({defaultToken:f.token},{token:f.token+".end",regex:f.end||f.start,next:"pop"}),f.token=f.token+".start",f.push=!0);var b=f.next||f.push;if(b&&Array.isArray(b)){var S=f.stateName;S||(S=f.token,typeof S!="string"&&(S=S[0]||""),o[S]&&(S+=p++)),o[S]=b,f.next=S,a(S)}else b=="pop"&&(f.next=s);if(f.push&&(f.nextState=f.next||f.push,f.next=g,delete f.push),f.rules)for(var R in f.rules)o[R]?o[R].push&&o[R].push.apply(o[R],f.rules[R]):o[R]=f.rules[R];var x=typeof f=="string"?f:f.include;if(x&&(x==="$self"&&(x="start"),Array.isArray(x)?v=x.map(function(y){return o[y]}):v=o[x]),v){var C=[h,1].concat(v);f.noEscape&&(C=C.filter(function(y){return!y.next})),c.splice.apply(c,C),h--}f.keywordMap&&(f.token=this.createKeywordMapper(f.keywordMap,f.defaultToken||"text",f.caseInsensitive),delete f.defaultToken)}}Object.keys(o).forEach(a,this)},this.createKeywordMapper=function(p,o,a,u){var c=Object.create(null);return this.$keywordList=[],Object.keys(p).forEach(function(h){for(var f=p[h],v=f.split(u||"|"),b=v.length;b--;){var S=v[b];this.$keywordList.push(S),a&&(S=S.toLowerCase()),c[S]=h}},this),p=null,a?function(h){return c[h.toLowerCase()]||o}:function(h){return c[h]||o}},this.getKeywords=function(){return this.$keywords}}).call(d.prototype),i.TextHighlightRules=d}),ace.define("ace/mode/behaviour",["require","exports","module"],function(t,i,r){var l;l=function(){this.$behaviours={}},(function(){this.add=function(d,g,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[d]:this.$behaviours[d]={}}this.$behaviours[d][g]=s},this.addBehaviours=function(d){for(var g in d)for(var s in d[g])this.add(g,s,d[g][s])},this.remove=function(d){this.$behaviours&&this.$behaviours[d]&&delete this.$behaviours[d]},this.inherit=function(d,g){if(typeof d=="function")var s=new d().getBehaviours(g);else var s=d.getBehaviours(g);this.addBehaviours(s)},this.getBehaviours=function(d){if(d){for(var g={},s=0;s<d.length;s++)this.$behaviours[d[s]]&&(g[d[s]]=this.$behaviours[d[s]]);return g}else return this.$behaviours}}).call(l.prototype),i.Behaviour=l}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(t,i,r){var l=t("./range").Range,d=function(){function g(s,p,o){this.$session=s,this.$row=p,this.$rowTokens=s.getTokens(p);var a=s.getTokenAt(p,o);this.$tokenIndex=a?a.index:-1}return g.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},g.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},g.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},g.prototype.getCurrentTokenRow=function(){return this.$row},g.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,p=this.$tokenIndex,o=s[p].start;if(o!==void 0)return o;for(o=0;p>0;)p-=1,o+=s[p].value.length;return o},g.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},g.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],p=this.getCurrentTokenColumn();return new l(this.$row,p,this.$row,p+s.value.length)},g}();i.TokenIterator=d}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(t,i,r){var l=t("../../lib/oop"),d=t("../behaviour").Behaviour,g=t("../../token_iterator").TokenIterator,s=t("../../lib/lang"),p=["text","paren.rparen","rparen","paren","punctuation.operator"],o=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],a,u={},c={'"':'"',"'":"'"},h=function(b){var S=-1;if(b.multiSelect&&(S=b.selection.index,u.rangeCount!=b.multiSelect.rangeCount&&(u={rangeCount:b.multiSelect.rangeCount})),u[S])return a=u[S];a=u[S]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(b,S,R,x){var C=b.end.row-b.start.row;return{text:R+S+x,selection:[0,b.start.column+1,C,b.end.column+(C?0:1)]}},v;v=function(b){b=b||{},this.add("braces","insertion",function(S,R,x,C,y){var T=x.getCursorPosition(),L=C.doc.getLine(T.row);if(y=="{"){h(x);var _=x.getSelectionRange(),k=C.doc.getTextRange(_),I=C.getTokenAt(T.row,T.column);if(k!==""&&k!=="{"&&x.getWrapBehavioursEnabled())return f(_,k,"{","}");if(I&&/(?:string)\.quasi|\.xml/.test(I.type)){var w=[/tag\-(?:open|name)/,/attribute\-name/];return w.some(function(D){return D.test(I.type)})||/(string)\.quasi/.test(I.type)&&I.value[T.column-I.start-1]!=="$"?void 0:(v.recordAutoInsert(x,C,"}"),{text:"{}",selection:[1,1]})}else if(v.isSaneInsertion(x,C))return/[\]\}\)]/.test(L[T.column])||x.inMultiSelectMode||b.braces?(v.recordAutoInsert(x,C,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert(x,C,"{"),{text:"{",selection:[1,1]})}else if(y=="}"){h(x);var m=L.substring(T.column,T.column+1);if(m=="}"){var A=C.$findOpeningBracket("}",{column:T.column+1,row:T.row});if(A!==null&&v.isAutoInsertedClosing(T,L,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(y==`
`||y==`\r
`){h(x);var E="";v.isMaybeInsertedClosing(T,L)&&(E=s.stringRepeat("}",a.maybeInsertedBrackets),v.clearMaybeInsertedClosing());var m=L.substring(T.column,T.column+1);if(m==="}"){var M=C.findMatchingBracket({row:T.row,column:T.column+1},"}");if(!M)return null;var O=this.$getIndent(C.getLine(M.row))}else if(E)var O=this.$getIndent(L);else{v.clearMaybeInsertedClosing();return}var $=O+C.getTabString();return{text:`
`+$+`
`+O+E,selection:[1,$.length,1,$.length]}}else v.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(S,R,x,C,y){var T=C.doc.getTextRange(y);if(!y.isMultiLine()&&T=="{"){h(x);var L=C.doc.getLine(y.start.row),_=L.substring(y.end.column,y.end.column+1);if(_=="}")return y.end.column++,y;a.maybeInsertedBrackets--}}),this.add("parens","insertion",function(S,R,x,C,y){if(y=="("){h(x);var T=x.getSelectionRange(),L=C.doc.getTextRange(T);if(L!==""&&x.getWrapBehavioursEnabled())return f(T,L,"(",")");if(v.isSaneInsertion(x,C))return v.recordAutoInsert(x,C,")"),{text:"()",selection:[1,1]}}else if(y==")"){h(x);var _=x.getCursorPosition(),k=C.doc.getLine(_.row),I=k.substring(_.column,_.column+1);if(I==")"){var w=C.$findOpeningBracket(")",{column:_.column+1,row:_.row});if(w!==null&&v.isAutoInsertedClosing(_,k,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(S,R,x,C,y){var T=C.doc.getTextRange(y);if(!y.isMultiLine()&&T=="("){h(x);var L=C.doc.getLine(y.start.row),_=L.substring(y.start.column+1,y.start.column+2);if(_==")")return y.end.column++,y}}),this.add("brackets","insertion",function(S,R,x,C,y){if(y=="["){h(x);var T=x.getSelectionRange(),L=C.doc.getTextRange(T);if(L!==""&&x.getWrapBehavioursEnabled())return f(T,L,"[","]");if(v.isSaneInsertion(x,C))return v.recordAutoInsert(x,C,"]"),{text:"[]",selection:[1,1]}}else if(y=="]"){h(x);var _=x.getCursorPosition(),k=C.doc.getLine(_.row),I=k.substring(_.column,_.column+1);if(I=="]"){var w=C.$findOpeningBracket("]",{column:_.column+1,row:_.row});if(w!==null&&v.isAutoInsertedClosing(_,k,y))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(S,R,x,C,y){var T=C.doc.getTextRange(y);if(!y.isMultiLine()&&T=="["){h(x);var L=C.doc.getLine(y.start.row),_=L.substring(y.start.column+1,y.start.column+2);if(_=="]")return y.end.column++,y}}),this.add("string_dquotes","insertion",function(S,R,x,C,y){var T=C.$mode.$quotes||c;if(y.length==1&&T[y]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(y)!=-1)return;h(x);var L=y,_=x.getSelectionRange(),k=C.doc.getTextRange(_);if(k!==""&&(k.length!=1||!T[k])&&x.getWrapBehavioursEnabled())return f(_,k,L,L);if(!k){var I=x.getCursorPosition(),w=C.doc.getLine(I.row),m=w.substring(I.column-1,I.column),A=w.substring(I.column,I.column+1),E=C.getTokenAt(I.row,I.column),M=C.getTokenAt(I.row,I.column+1);if(m=="\\"&&E&&/escape/.test(E.type))return null;var O=E&&/string|escape/.test(E.type),$=!M||/string|escape/.test(M.type),D;if(A==L)D=O!==$,D&&/string\.end/.test(M.type)&&(D=!1);else{if(O&&!$||O&&$)return null;var N=C.$mode.tokenRe;N.lastIndex=0;var F=N.test(m);N.lastIndex=0;var z=N.test(A),P=C.$mode.$pairQuotesAfter,j=P&&P[L]&&P[L].test(m);if(!j&&F||z||A&&!/[\s;,.})\]\\]/.test(A))return null;var G=w[I.column-2];if(m==L&&(G==L||N.test(G)))return null;D=!0}return{text:D?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(S,R,x,C,y){var T=C.$mode.$quotes||c,L=C.doc.getTextRange(y);if(!y.isMultiLine()&&T.hasOwnProperty(L)){h(x);var _=C.doc.getLine(y.start.row),k=_.substring(y.start.column+1,y.start.column+2);if(k==L)return y.end.column++,y}}),b.closeDocComment!==!1&&this.add("doc comment end","insertion",function(S,R,x,C,y){if(S==="doc-start"&&(y===`
`||y===`\r
`)&&x.selection.isEmpty()){var T=x.getCursorPosition();if(T.column===0)return;for(var L=C.doc.getLine(T.row),_=C.doc.getLine(T.row+1),k=C.getTokens(T.row),I=0,w=0;w<k.length;w++){I+=k[w].value.length;var m=k[w];if(I>=T.column){if(I===T.column){if(!/\.doc/.test(m.type))return;if(/\*\//.test(m.value)){var A=k[w+1];if(!A||!/\.doc/.test(A.type))return}}var E=T.column-(I-m.value.length),M=m.value.indexOf("*/"),O=m.value.indexOf("/**",M>-1?M+2:0);if(O!==-1&&E>O&&E<O+3||M!==-1&&O!==-1&&E>=M&&E<=O||!/\.doc/.test(m.type))return;break}}var $=this.$getIndent(L);if(/\s*\*/.test(_))return/^\s*\*/.test(L)?{text:y+$+"* ",selection:[1,2+$.length,1,2+$.length]}:{text:y+$+" * ",selection:[1,3+$.length,1,3+$.length]};if(/\/\*\*/.test(L.substring(0,T.column)))return{text:y+$+" * "+y+" "+$+"*/",selection:[1,4+$.length,1,4+$.length]}}})},v.isSaneInsertion=function(b,S){var R=b.getCursorPosition(),x=new g(S,R.row,R.column);if(!this.$matchTokenType(x.getCurrentToken()||"text",p)){if(/[)}\]]/.test(b.session.getLine(R.row)[R.column]))return!0;var C=new g(S,R.row,R.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",p))return!1}return x.stepForward(),x.getCurrentTokenRow()!==R.row||this.$matchTokenType(x.getCurrentToken()||"text",o)},v.$matchTokenType=function(b,S){return S.indexOf(b.type||b)>-1},v.recordAutoInsert=function(b,S,R){var x=b.getCursorPosition(),C=S.doc.getLine(x.row);this.isAutoInsertedClosing(x,C,a.autoInsertedLineEnd[0])||(a.autoInsertedBrackets=0),a.autoInsertedRow=x.row,a.autoInsertedLineEnd=R+C.substr(x.column),a.autoInsertedBrackets++},v.recordMaybeInsert=function(b,S,R){var x=b.getCursorPosition(),C=S.doc.getLine(x.row);this.isMaybeInsertedClosing(x,C)||(a.maybeInsertedBrackets=0),a.maybeInsertedRow=x.row,a.maybeInsertedLineStart=C.substr(0,x.column)+R,a.maybeInsertedLineEnd=C.substr(x.column),a.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(b,S,R){return a.autoInsertedBrackets>0&&b.row===a.autoInsertedRow&&R===a.autoInsertedLineEnd[0]&&S.substr(b.column)===a.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(b,S){return a.maybeInsertedBrackets>0&&b.row===a.maybeInsertedRow&&S.substr(b.column)===a.maybeInsertedLineEnd&&S.substr(0,b.column)==a.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){a.autoInsertedLineEnd=a.autoInsertedLineEnd.substr(1),a.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){a&&(a.maybeInsertedBrackets=0,a.maybeInsertedRow=-1)},l.inherits(v,d),i.CstyleBehaviour=v}),ace.define("ace/unicode",["require","exports","module"],function(t,i,r){for(var l=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],d=0,g=[],s=0;s<l.length;s+=2)g.push(d+=l[s]),l[s+1]&&g.push(45,d+=l[s+1]);i.wordChars=String.fromCharCode.apply(null,g)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(t,i,r){var l=t("../config"),d=t("../tokenizer").Tokenizer,g=t("./text_highlight_rules").TextHighlightRules,s=t("./behaviour/cstyle").CstyleBehaviour,p=t("../unicode"),o=t("../lib/lang"),a=t("../token_iterator").TokenIterator,u=t("../range").Range,c;c=function(){this.HighlightRules=g},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+p.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+p.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new d(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(h,f,v,b){var S=f.doc,R=!0,x=!0,C=1/0,y=f.getTabSize(),T=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var k=this.lineCommentStart.map(o.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var k=o.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;k=new RegExp("^(\\s*)(?:"+k+") ?"),T=f.getUseSoftTabs();var m=function(z,P){var j=z.match(k);if(j){var G=j[1].length,H=j[0].length;!M(z,G,H)&&j[0][H-1]==" "&&H--,S.removeInLine(P,G,H)}},E=L+" ",w=function(z,P){(!R||/\S/.test(z))&&(M(z,C,C)?S.insertInLine({row:P,column:C},E):S.insertInLine({row:P,column:C},L))},A=function(z,P){return k.test(z)},M=function(z,P,j){for(var G=0;P--&&z.charAt(P)==" ";)G++;if(G%y!=0)return!1;for(var G=0;z.charAt(j++)==" ";)G++;return y>2?G%y!=y-1:G%y==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,_=this.blockComment.end,k=new RegExp("^(\\s*)(?:"+o.escapeRegExp(L)+")"),I=new RegExp("(?:"+o.escapeRegExp(_)+")\\s*$"),w=function(D,N){A(D,N)||(!R||/\S/.test(D))&&(S.insertInLine({row:N,column:D.length},_),S.insertInLine({row:N,column:C},L))},m=function(D,N){var F;(F=D.match(I))&&S.removeInLine(N,D.length-F[0].length,D.length),(F=D.match(k))&&S.removeInLine(N,F[1].length,F[0].length)},A=function(D,N){if(k.test(D))return!0;for(var F=f.getTokens(N),z=0;z<F.length;z++)if(F[z].type==="comment")return!0}}function O(D){for(var N=v;N<=b;N++)D(S.getLine(N),N)}var $=1/0;O(function(D,N){var F=D.search(/\S/);F!==-1?(F<C&&(C=F),x&&!A(D,N)&&(x=!1)):$>D.length&&($=D.length)}),C==1/0&&(C=$,R=!1,x=!1),T&&C%y!=0&&(C=Math.floor(C/y)*y),O(x?m:w)},this.toggleBlockComment=function(h,f,v,b){var S=this.blockComment;if(S){!S.start&&S[0]&&(S=S[0]);var R=new a(f,b.row,b.column),x=R.getCurrentToken();f.selection;var C=f.selection.toOrientedRange(),y,T;if(x&&/comment/.test(x.type)){for(var L,_;x&&/comment/.test(x.type);){var k=x.value.indexOf(S.start);if(k!=-1){var I=R.getCurrentTokenRow(),w=R.getCurrentTokenColumn()+k;L=new u(I,w,I,w+S.start.length);break}x=R.stepBackward()}for(var R=new a(f,b.row,b.column),x=R.getCurrentToken();x&&/comment/.test(x.type);){var k=x.value.indexOf(S.end);if(k!=-1){var I=R.getCurrentTokenRow(),w=R.getCurrentTokenColumn()+k;_=new u(I,w,I,w+S.end.length);break}x=R.stepForward()}_&&f.remove(_),L&&(f.remove(L),y=L.start.row,T=-S.start.length)}else T=S.start.length,y=v.start.row,f.insert(v.end,S.end),f.insert(v.start,S.start);C.start.row==y&&(C.start.column+=T),C.end.row==y&&(C.end.column+=T),f.selection.fromOrientedRange(C)}},this.getNextLineIndent=function(h,f,v){return this.$getIndent(f)},this.checkOutdent=function(h,f,v){return!1},this.autoOutdent=function(h,f,v){},this.$getIndent=function(h){return h.match(/^\s*/)[0]},this.createWorker=function(h){return null},this.createModeDelegates=function(h){this.$embeds=[],this.$modes={};for(var f in h)if(h[f]){var v=h[f],b=v.prototype.$id,S=l.$modes[b];S||(l.$modes[b]=S=new v),l.$modes[f]||(l.$modes[f]=S),this.$embeds.push(f),this.$modes[f]=S}for(var R=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],x=function(y){(function(T){var L=R[y],_=T[L];T[R[y]]=function(){return this.$delegator(L,arguments,_)}})(C)},C=this,f=0;f<R.length;f++)x(f)},this.$delegator=function(h,f,v){var b=f[0]||"start";if(typeof b!="string"){if(Array.isArray(b[2])){var S=b[2][b[2].length-1],R=this.$modes[S];if(R)return R[h].apply(R,[b[1]].concat([].slice.call(f,1)))}b=b[0]||"start"}for(var x=0;x<this.$embeds.length;x++)if(this.$modes[this.$embeds[x]]){var C=b.split(this.$embeds[x]);if(!C[0]&&C[1]){f[0]=C[1];var R=this.$modes[this.$embeds[x]];return R[h].apply(R,f)}}var y=v.apply(this,f);return v?y:void 0},this.transformAction=function(h,f,v,b,S){if(this.$behaviour){var R=this.$behaviour.getBehaviours();for(var x in R)if(R[x][f]){var C=R[x][f].apply(this,arguments);if(C)return C}}},this.getKeywords=function(h){if(!this.completionKeywords){var f=this.$tokenizer.rules,v=[];for(var b in f)for(var S=f[b],R=0,x=S.length;R<x;R++)if(typeof S[R].token=="string")/keyword|support|storage/.test(S[R].token)&&v.push(S[R].regex);else if(typeof S[R].token=="object"){for(var C=0,y=S[R].token.length;C<y;C++)if(/keyword|support|storage/.test(S[R].token[C])){var b=S[R].regex.match(/\(.+?\)/g)[C];v.push(b.substr(1,b.length-2))}}this.completionKeywords=v}return h?v.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(h,f,v,b){var S=this.$keywordList||this.$createKeywordList();return S.map(function(R){return{name:R,value:R,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(c.prototype),i.Mode=c}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(t,i,r){var l=t("./lib/dom"),d=function(){function g(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return g.prototype.getRowLength=function(s){var p;return this.lineWidgets?p=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:p=0,!this.$useWrapMode||!this.$wrapData[s]?1+p:this.$wrapData[s].length+1+p},g.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(p){p&&p.rowCount&&!p.hidden&&(s+=p.rowCount)}),s},g.prototype.$onChangeEditor=function(s){this.attach(s.editor)},g.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},g.prototype.detach=function(s){var p=this.editor;if(p){this.editor=null,p.widgetManager=null,p.renderer.off("beforeRender",this.measureWidgets),p.renderer.off("afterRender",this.renderWidgets);var o=this.session.lineWidgets;o&&o.forEach(function(a){a&&a.el&&a.el.parentNode&&(a._inDocument=!1,a.el.parentNode.removeChild(a.el))})}},g.prototype.updateOnFold=function(s,p){var o=p.lineWidgets;if(!(!o||!s.action)){for(var a=s.data,u=a.start.row,c=a.end.row,h=s.action=="add",f=u+1;f<c;f++)o[f]&&(o[f].hidden=h);o[c]&&(h?o[u]?o[c].hidden=h:o[u]=o[c]:(o[u]==o[c]&&(o[u]=void 0),o[c].hidden=h))}},g.prototype.updateOnChange=function(s){var p=this.session.lineWidgets;if(p){var o=s.start.row,a=s.end.row-o;if(a!==0)if(s.action=="remove"){var u=p.splice(o+1,a);!p[o]&&u[u.length-1]&&(p[o]=u.pop()),u.forEach(function(h){h&&this.removeLineWidget(h)},this),this.$updateRows()}else{var c=new Array(a);p[o]&&p[o].column!=null&&s.start.column>p[o].column&&o++,c.unshift(o,0),p.splice.apply(p,c),this.$updateRows()}}},g.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var p=!0;s.forEach(function(o,a){if(o)for(p=!1,o.row=a;o.$oldWidget;)o.$oldWidget.row=a,o=o.$oldWidget}),p&&(this.session.lineWidgets=null)}},g.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var p=this.session.lineWidgets[s.row];return p&&(s.$oldWidget=p,p.el&&p.el.parentNode&&(p.el.parentNode.removeChild(p.el),p._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},g.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var p=this.editor.renderer;s.html&&!s.el&&(s.el=l.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=l.createElement("div"),s.el.textContent=s.text),s.el&&(l.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&l.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",p.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/p.layerConfig.lineHeight);var o=this.session.getFoldAt(s.row,0);if(s.$fold=o,o){var a=this.session.lineWidgets;s.row==o.end.row&&!a[o.start.row]?a[o.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,p),this.onWidgetChanged(s),s},g.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var p=this.session.lineWidgets[s.row];if(p==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;p;){if(p.$oldWidget==s){p.$oldWidget=s.$oldWidget;break}p=p.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},g.prototype.getWidgetsAtRow=function(s){for(var p=this.session.lineWidgets,o=p&&p[s],a=[];o;)a.push(o),o=o.$oldWidget;return a},g.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},g.prototype.measureWidgets=function(s,p){var o=this.session._changedWidgets,a=p.layerConfig;if(!(!o||!o.length)){for(var u=1/0,c=0;c<o.length;c++){var h=o[c];if(!(!h||!h.el)&&h.session==this.session){if(!h._inDocument){if(this.session.lineWidgets[h.row]!=h)continue;h._inDocument=!0,p.container.appendChild(h.el)}h.h=h.el.offsetHeight,h.fixedWidth||(h.w=h.el.offsetWidth,h.screenWidth=Math.ceil(h.w/a.characterWidth));var f=h.h/a.lineHeight;h.coverLine&&(f-=this.session.getRowLineCount(h.row),f<0&&(f=0)),h.rowCount!=f&&(h.rowCount=f,h.row<u&&(u=h.row))}}u!=1/0&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},g.prototype.renderWidgets=function(s,p){var o=p.layerConfig,a=this.session.lineWidgets;if(a){for(var u=Math.min(this.firstRow,o.firstRow),c=Math.max(this.lastRow,o.lastRow,a.length);u>0&&!a[u];)u--;this.firstRow=o.firstRow,this.lastRow=o.lastRow,p.$cursorLayer.config=o;for(var h=u;h<=c;h++){var f=a[h];if(!(!f||!f.el)){if(f.hidden){f.el.style.top=-100-(f.pixelHeight||0)+"px";continue}f._inDocument||(f._inDocument=!0,p.container.appendChild(f.el));var v=p.$cursorLayer.getPixelPosition({row:h,column:0},!0).top;f.coverLine||(v+=o.lineHeight*this.session.getRowLineCount(f.row)),f.el.style.top=v-o.offset+"px";var b=f.coverGutter?0:p.gutterWidth;f.fixedWidth||(b-=p.scrollLeft),f.el.style.left=b+"px",f.fullWidth&&f.screenWidth&&(f.el.style.minWidth=o.width+2*o.padding+"px"),f.fixedWidth?f.el.style.right=p.scrollBar.getWidth()+"px":f.el.style.right=""}}}},g}();i.LineWidgets=d}),ace.define("ace/apply_delta",["require","exports","module"],function(t,i,r){i.applyDelta=function(l,d,g){var s=d.start.row,p=d.start.column,o=l[s]||"";switch(d.action){case"insert":var a=d.lines;if(a.length===1)l[s]=o.substring(0,p)+d.lines[0]+o.substring(p);else{var u=[s,1].concat(d.lines);l.splice.apply(l,u),l[s]=o.substring(0,p)+l[s],l[s+d.lines.length-1]+=o.substring(p)}break;case"remove":var c=d.end.column,h=d.end.row;s===h?l[s]=o.substring(0,p)+o.substring(c):l.splice(s,h-s+1,o.substring(0,p)+l[h].substring(c));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var l=t("./lib/oop"),d=t("./lib/event_emitter").EventEmitter,g=function(){function o(a,u,c){this.$onChange=this.onChange.bind(this),this.attach(a),typeof u!="number"?this.setPosition(u.row,u.column):this.setPosition(u,c)}return o.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},o.prototype.getDocument=function(){return this.document},o.prototype.onChange=function(a){if(!(a.start.row==a.end.row&&a.start.row!=this.row)&&!(a.start.row>this.row)){var u=p(a,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},o.prototype.setPosition=function(a,u,c){var h;if(c?h={row:a,column:u}:h=this.$clipPositionToDocument(a,u),!(this.row==h.row&&this.column==h.column)){var f={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:f,value:h})}},o.prototype.detach=function(){this.document.off("change",this.$onChange)},o.prototype.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},o.prototype.$clipPositionToDocument=function(a,u){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):a<0?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,u))),u<0&&(c.column=0),c},o}();g.prototype.$insertRight=!1,l.implement(g.prototype,d);function s(o,a,u){var c=u?o.column<=a.column:o.column<a.column;return o.row<a.row||o.row==a.row&&c}function p(o,a,u){var c=o.action=="insert",h=(c?1:-1)*(o.end.row-o.start.row),f=(c?1:-1)*(o.end.column-o.start.column),v=o.start,b=c?v:o.end;return s(a,v,u)?{row:a.row,column:a.column}:s(b,a,!u)?{row:a.row+h,column:a.column+(a.row==b.row?f:0)}:{row:v.row,column:v.column}}i.Anchor=g}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(t,i,r){var l=t("./lib/oop"),d=t("./apply_delta").applyDelta,g=t("./lib/event_emitter").EventEmitter,s=t("./range").Range,p=t("./anchor").Anchor,o=function(){function a(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)}return a.prototype.setValue=function(u){var c=this.getLength()-1;this.remove(new s(0,0,c,this.getLine(c).length)),this.insert({row:0,column:0},u||"")},a.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},a.prototype.createAnchor=function(u,c){return new p(this,u,c)},a.prototype.$detectNewLine=function(u){var c=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=c?c[1]:`
`,this._signal("changeNewLineMode")},a.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},a.prototype.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},a.prototype.getNewLineMode=function(){return this.$newLineMode},a.prototype.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},a.prototype.getLine=function(u){return this.$lines[u]||""},a.prototype.getLines=function(u,c){return this.$lines.slice(u,c+1)},a.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},a.prototype.getLength=function(){return this.$lines.length},a.prototype.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},a.prototype.getLinesForRange=function(u){var c;if(u.start.row===u.end.row)c=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{c=this.getLines(u.start.row,u.end.row),c[0]=(c[0]||"").substring(u.start.column);var h=c.length-1;u.end.row-u.start.row==h&&(c[h]=c[h].substring(0,u.end.column))}return c},a.prototype.insertLines=function(u,c){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,c)},a.prototype.removeLines=function(u,c){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,c)},a.prototype.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},a.prototype.insert=function(u,c){return this.getLength()<=1&&this.$detectNewLine(c),this.insertMergedLines(u,this.$split(c))},a.prototype.insertInLine=function(u,c){var h=this.clippedPos(u.row,u.column),f=this.pos(u.row,u.column+c.length);return this.applyDelta({start:h,end:f,action:"insert",lines:[c]},!0),this.clonePos(f)},a.prototype.clippedPos=function(u,c){var h=this.getLength();u===void 0?u=h:u<0?u=0:u>=h&&(u=h-1,c=void 0);var f=this.getLine(u);return c==null&&(c=f.length),c=Math.min(Math.max(c,0),f.length),{row:u,column:c}},a.prototype.clonePos=function(u){return{row:u.row,column:u.column}},a.prototype.pos=function(u,c){return{row:u,column:c}},a.prototype.$clipPosition=function(u){var c=this.getLength();return u.row>=c?(u.row=Math.max(0,c-1),u.column=this.getLine(c-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},a.prototype.insertFullLines=function(u,c){u=Math.min(Math.max(u,0),this.getLength());var h=0;u<this.getLength()?(c=c.concat([""]),h=0):(c=[""].concat(c),u--,h=this.$lines[u].length),this.insertMergedLines({row:u,column:h},c)},a.prototype.insertMergedLines=function(u,c){var h=this.clippedPos(u.row,u.column),f={row:h.row+c.length-1,column:(c.length==1?h.column:0)+c[c.length-1].length};return this.applyDelta({start:h,end:f,action:"insert",lines:c}),this.clonePos(f)},a.prototype.remove=function(u){var c=this.clippedPos(u.start.row,u.start.column),h=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:c,end:h,action:"remove",lines:this.getLinesForRange({start:c,end:h})}),this.clonePos(c)},a.prototype.removeInLine=function(u,c,h){var f=this.clippedPos(u,c),v=this.clippedPos(u,h);return this.applyDelta({start:f,end:v,action:"remove",lines:this.getLinesForRange({start:f,end:v})},!0),this.clonePos(f)},a.prototype.removeFullLines=function(u,c){u=Math.min(Math.max(0,u),this.getLength()-1),c=Math.min(Math.max(0,c),this.getLength()-1);var h=c==this.getLength()-1&&u>0,f=c<this.getLength()-1,v=h?u-1:u,b=h?this.getLine(v).length:0,S=f?c+1:c,R=f?0:this.getLine(S).length,x=new s(v,b,S,R),C=this.$lines.slice(u,c+1);return this.applyDelta({start:x.start,end:x.end,action:"remove",lines:this.getLinesForRange(x)}),C},a.prototype.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},a.prototype.replace=function(u,c){if(u instanceof s||(u=s.fromPoints(u.start,u.end)),c.length===0&&u.isEmpty())return u.start;if(c==this.getTextRange(u))return u.end;this.remove(u);var h;return c?h=this.insert(u.start,c):h=u.start,h},a.prototype.applyDeltas=function(u){for(var c=0;c<u.length;c++)this.applyDelta(u[c])},a.prototype.revertDeltas=function(u){for(var c=u.length-1;c>=0;c--)this.revertDelta(u[c])},a.prototype.applyDelta=function(u,c){var h=u.action=="insert";(h?u.lines.length<=1&&!u.lines[0]:!s.comparePoints(u.start,u.end))||(h&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(d(this.$lines,u,c),this._signal("change",u)))},a.prototype.$safeApplyDelta=function(u){var c=this.$lines.length;(u.action=="remove"&&u.start.row<c&&u.end.row<c||u.action=="insert"&&u.start.row<=c)&&this.applyDelta(u)},a.prototype.$splitAndapplyLargeDelta=function(u,c){for(var h=u.lines,f=h.length-c+1,v=u.start.row,b=u.start.column,S=0,R=0;S<f;S=R){R+=c-1;var x=h.slice(S,R);x.push(""),this.applyDelta({start:this.pos(v+S,b),end:this.pos(v+R,b=0),action:u.action,lines:x},!0)}u.lines=h.slice(S),u.start.row=v+S,u.start.column=b,this.applyDelta(u,!0)},a.prototype.revertDelta=function(u){this.$safeApplyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},a.prototype.indexToPosition=function(u,c){for(var h=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,v=c||0,b=h.length;v<b;v++)if(u-=h[v].length+f,u<0)return{row:v,column:u+h[v].length+f};return{row:b-1,column:u+h[b-1].length+f}},a.prototype.positionToIndex=function(u,c){for(var h=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,v=0,b=Math.min(u.row,h.length),S=c||0;S<b;++S)v+=h[S].length+f;return v+u.column},a.prototype.$split=function(u){return u.split(/\r\n|\r|\n/)},a}();o.prototype.$autoNewLine="",o.prototype.$newLineMode="auto",l.implement(o.prototype,g),i.Document=o}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var l=t("./lib/oop"),d=t("./lib/event_emitter").EventEmitter,g=function(){function s(p,o){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=p;var a=this;this.$worker=function(){if(a.running){for(var u=new Date,c=a.currentLine,h=-1,f=a.doc,v=c;a.lines[c];)c++;var b=f.getLength(),S=0;for(a.running=!1;c<b;){a.$tokenizeRow(c),h=c;do c++;while(a.lines[c]);if(S++,S%5===0&&new Date-u>20){a.running=setTimeout(a.$worker,20);break}}a.currentLine=c,h==-1&&(h=c),v<=h&&a.fireUpdateEvent(v,h)}}}return s.prototype.setTokenizer=function(p){this.tokenizer=p,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(p){this.doc=p,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(p,o){var a={first:p,last:o};this._signal("update",{data:a})},s.prototype.start=function(p){this.currentLine=Math.min(p||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(p){var o=p.start.row,a=p.end.row-o;if(a===0)this.lines[o]=null;else if(p.action=="remove")this.lines.splice(o,a+1,null),this.states.splice(o,a+1,null);else{var u=Array(a+1);u.unshift(o,1),this.lines.splice.apply(this.lines,u),this.states.splice.apply(this.states,u)}this.currentLine=Math.min(o,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(p){return this.lines[p]||this.$tokenizeRow(p)},s.prototype.getState=function(p){return this.currentLine==p&&this.$tokenizeRow(p),this.states[p]||"start"},s.prototype.$tokenizeRow=function(p){var o=this.doc.getLine(p),a=this.states[p-1],u=this.tokenizer.getLineTokens(o,a,p);return this.states[p]+""!=u.state+""?(this.states[p]=u.state,this.lines[p+1]=null,this.currentLine>p+1&&(this.currentLine=p+1)):this.currentLine==p&&(this.currentLine=p+1),this.lines[p]=u.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();l.implement(g.prototype,d),i.BackgroundTokenizer=g}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(t,i,r){var l=t("./lib/lang"),d=t("./range").Range,g=function(){function s(p,o,a){a===void 0&&(a="text"),this.setRegexp(p),this.clazz=o,this.type=a}return s.prototype.setRegexp=function(p){this.regExp+""!=p+""&&(this.regExp=p,this.cache=[])},s.prototype.update=function(p,o,a,u){if(this.regExp)for(var c=u.firstRow,h=u.lastRow,f={},v=c;v<=h;v++){var b=this.cache[v];b==null&&(b=l.getMatchOffsets(a.getLine(v),this.regExp),b.length>this.MAX_RANGES&&(b=b.slice(0,this.MAX_RANGES)),b=b.map(function(C){return new d(v,C.offset,v,C.offset+C.length)}),this.cache[v]=b.length?b:"");for(var S=b.length;S--;){var R=b[S].toScreenRange(a),x=R.toString();f[x]||(f[x]=!0,o.drawSingleLineMarker(p,R,this.clazz,u))}}},s}();g.prototype.MAX_RANGES=500,i.SearchHighlight=g}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(t,i,r){var l=function(){function C(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return C.prototype.addSession=function(y){this.$session=y},C.prototype.add=function(y,T,L){if(!this.$fromUndo&&y!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),T===!1||!this.lastDeltas){this.lastDeltas=[];var _=this.$undoStack.length;_>this.$undoDepth-1&&this.$undoStack.splice(0,_-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),y.id=this.$rev=++this.$maxRev}(y.action=="remove"||y.action=="insert")&&(this.$lastDelta=y),this.lastDeltas.push(y)}},C.prototype.addSelection=function(y,T){this.selections.push({value:y,rev:T||this.$rev})},C.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},C.prototype.markIgnored=function(y,T){T==null&&(T=this.$rev+1);for(var L=this.$undoStack,_=L.length;_--;){var k=L[_][0];if(k.id<=y)break;k.id<T&&(k.ignore=!0)}this.lastDeltas=null},C.prototype.getSelection=function(y,T){for(var L=this.selections,_=L.length;_--;){var k=L[_];if(k.rev<y)return T&&(k=L[_+1]),k}},C.prototype.getRevision=function(){return this.$rev},C.prototype.getDeltas=function(y,T){T==null&&(T=this.$rev+1);for(var L=this.$undoStack,_=null,k=0,I=L.length;I--;){var w=L[I][0];if(w.id<T&&!_&&(_=I+1),w.id<=y){k=I+1;break}}return L.slice(k,_)},C.prototype.getChangedRanges=function(y,T){T==null&&(T=this.$rev+1)},C.prototype.getChangedLines=function(y,T){T==null&&(T=this.$rev+1)},C.prototype.undo=function(y,T){this.lastDeltas=null;var L=this.$undoStack;if(d(L,L.length)){y||(y=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var _=L.pop(),k=null;return _&&(k=y.undoChanges(_,T),this.$redoStack.push(_),this.$syncRev()),this.$fromUndo=!1,k}},C.prototype.redo=function(y,T){if(this.lastDeltas=null,y||(y=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var L=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);x(this.$redoStack,L),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(I){I[0].id=++this.$maxRev},this)}var _=this.$redoStack.pop(),k=null;return _&&(k=y.redoChanges(_,T),this.$undoStack.push(_),this.$syncRev()),this.$fromUndo=!1,k},C.prototype.$syncRev=function(){var y=this.$undoStack,T=y[y.length-1],L=T&&T[0].id||0;this.$redoStackBaseRev=L,this.$rev=L},C.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},C.prototype.canUndo=function(){return this.$undoStack.length>0},C.prototype.canRedo=function(){return this.$redoStack.length>0},C.prototype.bookmark=function(y){y==null&&(y=this.$rev),this.mark=y},C.prototype.isAtBookmark=function(){return this.$rev===this.mark},C.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},C.prototype.fromJSON=function(y){this.reset(),this.$undoStack=y.$undoStack,this.$redoStack=y.$redoStack},C.prototype.$prettyPrint=function(y){return y?a(y):a(this.$undoStack)+`
---
`+a(this.$redoStack)},C}();l.prototype.hasUndo=l.prototype.canUndo,l.prototype.hasRedo=l.prototype.canRedo,l.prototype.isClean=l.prototype.isAtBookmark,l.prototype.markClean=l.prototype.bookmark;function d(C,y){for(var T=y;T--;){var L=C[T];if(L&&!L[0].ignore){for(;T<y-1;){var _=h(C[T],C[T+1]);C[T]=_[0],C[T+1]=_[1],T++}return!0}}}var g=t("./range").Range,s=g.comparePoints;g.comparePoints;function p(C){return{row:C.row,column:C.column}}function o(C){return{start:p(C.start),end:p(C.end),action:C.action,lines:C.lines.slice()}}function a(C){if(C=C||this,Array.isArray(C))return C.map(a).join(`
`);var y="";return C.action?(y=C.action=="insert"?"+":"-",y+="["+C.lines+"]"):C.value&&(Array.isArray(C.value)?y=C.value.map(u).join(`
`):y=u(C.value)),C.start&&(y+=u(C)),(C.id||C.rev)&&(y+="	("+(C.id||C.rev)+")"),y}function u(C){return C.start.row+":"+C.start.column+"=>"+C.end.row+":"+C.end.column}function c(C,y){var T=C.action=="insert",L=y.action=="insert";if(T&&L)if(s(y.start,C.end)>=0)v(y,C,-1);else if(s(y.start,C.start)<=0)v(C,y,1);else return null;else if(T&&!L)if(s(y.start,C.end)>=0)v(y,C,-1);else if(s(y.end,C.start)<=0)v(C,y,-1);else return null;else if(!T&&L)if(s(y.start,C.start)>=0)v(y,C,1);else if(s(y.start,C.start)<=0)v(C,y,1);else return null;else if(!T&&!L)if(s(y.start,C.start)>=0)v(y,C,1);else if(s(y.end,C.start)<=0)v(C,y,-1);else return null;return[y,C]}function h(C,y){for(var T=C.length;T--;)for(var L=0;L<y.length;L++)if(!c(C[T],y[L])){for(;T<C.length;){for(;L--;)c(y[L],C[T]);L=y.length,T++}return[C,y]}return C.selectionBefore=y.selectionBefore=C.selectionAfter=y.selectionAfter=null,[y,C]}function f(C,y){var T=C.action=="insert",L=y.action=="insert";if(T&&L)s(C.start,y.start)<0?v(y,C,1):v(C,y,1);else if(T&&!L)s(C.start,y.end)>=0?v(C,y,-1):(s(C.start,y.start)<=0||v(C,g.fromPoints(y.start,C.start),-1),v(y,C,1));else if(!T&&L)s(y.start,C.end)>=0?v(y,C,-1):(s(y.start,C.start)<=0||v(y,g.fromPoints(C.start,y.start),-1),v(C,y,1));else if(!T&&!L)if(s(y.start,C.end)>=0)v(y,C,-1);else if(s(y.end,C.start)<=0)v(C,y,-1);else{var _,k;return s(C.start,y.start)<0&&(_=C,C=S(C,y.start)),s(C.end,y.end)>0&&(k=S(C,y.end)),b(y.end,C.start,C.end,-1),k&&!_&&(C.lines=k.lines,C.start=k.start,C.end=k.end,k=C),[y,_,k].filter(Boolean)}return[y,C]}function v(C,y,T){b(C.start,y.start,y.end,T),b(C.end,y.start,y.end,T)}function b(C,y,T,L){C.row==(L==1?y:T).row&&(C.column+=L*(T.column-y.column)),C.row+=L*(T.row-y.row)}function S(C,y){var T=C.lines,L=C.end;C.end=p(y);var _=C.end.row-C.start.row,k=T.splice(_,T.length),I=_?y.column:y.column-C.start.column;T.push(k[0].substring(0,I)),k[0]=k[0].substr(I);var w={start:p(y),end:L,lines:k,action:C.action};return w}function R(C,y){y=o(y);for(var T=C.length;T--;){for(var L=C[T],_=0;_<L.length;_++){var k=L[_],I=f(k,y);y=I[0],I.length!=2&&(I[2]?(L.splice(_+1,1,I[1],I[2]),_++):I[1]||(L.splice(_,1),_--))}L.length||C.splice(T,1)}return C}function x(C,y){for(var T=0;T<y.length;T++)for(var L=y[T],_=0;_<L.length;_++)R(C,L[_])}i.UndoManager=l}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(t,i,r){var l=t("../range").Range,d=function(){function g(s,p){this.foldData=s,Array.isArray(p)?this.folds=p:p=this.folds=[p];var o=p[p.length-1];this.range=new l(p[0].start.row,p[0].start.column,o.end.row,o.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}return g.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(p){p.start.row+=s,p.end.row+=s})},g.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(p,o){return-p.range.compareEnd(o.start.row,o.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},g.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},g.prototype.walk=function(s,p,o){var a=0,u=this.folds,c,h,f,v=!0;p==null&&(p=this.end.row,o=this.end.column);for(var b=0;b<u.length;b++){if(c=u[b],h=c.range.compareStart(p,o),h==-1){s(null,p,o,a,v);return}if(f=s(null,c.start.row,c.start.column,a,v),f=!f&&s(c.placeholder,c.start.row,c.start.column,a),f||h===0)return;v=!c.sameRow,a=c.end.column}s(null,p,o,a,v)},g.prototype.getNextFoldTo=function(s,p){for(var o,a,u=0;u<this.folds.length;u++){if(o=this.folds[u],a=o.range.compareEnd(s,p),a==-1)return{fold:o,kind:"after"};if(a===0)return{fold:o,kind:"inside"}}return null},g.prototype.addRemoveChars=function(s,p,o){var a=this.getNextFoldTo(s,p),u,c;if(a){if(u=a.fold,a.kind=="inside"&&u.start.column!=p&&u.start.row!=s)window.console&&window.console.log(s,p,u);else if(u.start.row==s){c=this.folds;var h=c.indexOf(u);for(h===0&&(this.start.column+=o),h;h<c.length;h++){if(u=c[h],u.start.column+=o,!u.sameRow)return;u.end.column+=o}this.end.column+=o}}},g.prototype.split=function(s,p){var o=this.getNextFoldTo(s,p);if(!o||o.kind=="inside")return null;var a=o.fold,u=this.folds,c=this.foldData,h=u.indexOf(a),f=u[h-1];this.end.row=f.end.row,this.end.column=f.end.column,u=u.splice(h,u.length-h);var v=new g(c,u);return c.splice(c.indexOf(this)+1,0,v),v},g.prototype.merge=function(s){for(var p=s.folds,o=0;o<p.length;o++)this.addFold(p[o]);var a=this.foldData;a.splice(a.indexOf(s),1)},g.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(p){s.push("  "+p.toString())}),s.push("]"),s.join(`
`)},g.prototype.idxToPosition=function(s){for(var p=0,o=0;o<this.folds.length;o++){var a=this.folds[o];if(s-=a.start.column-p,s<0)return{row:a.start.row,column:a.start.column+s};if(s-=a.placeholder.length,s<0)return a.start;p=a.end.column}return{row:this.end.row,column:this.end.column+s}},g}();i.FoldLine=d}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(t,i,r){var l=t("./range").Range,d=l.comparePoints,g=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(p,o,a){for(var u=this.ranges,c=a||0;c<u.length;c++){var h=u[c],f=d(p,h.end);if(!(f>0)){var v=d(p,h.start);return f===0?o&&v!==0?-c-2:c:v>0||v===0&&!o?c:-c-1}}return-c-1},s.prototype.add=function(p){var o=!p.isEmpty(),a=this.pointIndex(p.start,o);a<0&&(a=-a-1);var u=this.pointIndex(p.end,o,a);return u<0?u=-u-1:u++,this.ranges.splice(a,u-a,p)},s.prototype.addList=function(p){for(var o=[],a=p.length;a--;)o.push.apply(o,this.add(p[a]));return o},s.prototype.substractPoint=function(p){var o=this.pointIndex(p);if(o>=0)return this.ranges.splice(o,1)},s.prototype.merge=function(){var p=[],o=this.ranges;o=o.sort(function(f,v){return d(f.start,v.start)});for(var a=o[0],u,c=1;c<o.length;c++){u=a,a=o[c];var h=d(u.end,a.start);h<0||h==0&&!u.isEmpty()&&!a.isEmpty()||(d(u.end,a.end)<0&&(u.end.row=a.end.row,u.end.column=a.end.column),o.splice(c,1),p.push(a),a=u,c--)}return this.ranges=o,p},s.prototype.contains=function(p,o){return this.pointIndex({row:p,column:o})>=0},s.prototype.containsPoint=function(p){return this.pointIndex(p)>=0},s.prototype.rangeAtPoint=function(p){var o=this.pointIndex(p);if(o>=0)return this.ranges[o]},s.prototype.clipRows=function(p,o){var a=this.ranges;if(a[0].start.row>o||a[a.length-1].start.row<p)return[];var u=this.pointIndex({row:p,column:0});u<0&&(u=-u-1);var c=this.pointIndex({row:o,column:0},u);c<0&&(c=-c-1);for(var h=[],f=u;f<c;f++)h.push(a[f]);return h},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(p){this.session&&this.detach(),this.session=p,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(p){for(var o=p.start,a=p.end,u=o.row,c=a.row,h=this.ranges,f=0,v=h.length;f<v;f++){var b=h[f];if(b.end.row>=u)break}if(p.action=="insert")for(var S=c-u,R=-o.column+a.column;f<v;f++){var b=h[f];if(b.start.row>u)break;if(b.start.row==u&&b.start.column>=o.column&&(b.start.column==o.column&&this.$bias<=0||(b.start.column+=R,b.start.row+=S)),b.end.row==u&&b.end.column>=o.column){if(b.end.column==o.column&&this.$bias<0)continue;b.end.column==o.column&&R>0&&f<v-1&&b.end.column>b.start.column&&b.end.column==h[f+1].start.column&&(b.end.column-=R),b.end.column+=R,b.end.row+=S}}else for(var S=u-c,R=o.column-a.column;f<v;f++){var b=h[f];if(b.start.row>c)break;b.end.row<c&&(u<b.end.row||u==b.end.row&&o.column<b.end.column)?(b.end.row=u,b.end.column=o.column):b.end.row==c?b.end.column<=a.column?(S||b.end.column>o.column)&&(b.end.column=o.column,b.end.row=o.row):(b.end.column+=R,b.end.row+=S):b.end.row>c&&(b.end.row+=S),b.start.row<c&&(u<b.start.row||u==b.start.row&&o.column<b.start.column)?(b.start.row=u,b.start.column=o.column):b.start.row==c?b.start.column<=a.column?(S||b.start.column>o.column)&&(b.start.column=o.column,b.start.row=o.row):(b.start.column+=R,b.start.row+=S):b.start.row>c&&(b.start.row+=S)}if(S!=0&&f<v)for(;f<v;f++){var b=h[f];b.start.row+=S,b.end.row+=S}},s}();g.prototype.comparePoints=d,i.RangeList=g}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(t,i,r){var l=this&&this.__extends||function(){var u=function(c,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(f[b]=v[b])},u(c,h)};return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),d=t("../range_list").RangeList,g=function(u){l(c,u);function c(h,f){var v=u.call(this)||this;return v.foldLine=null,v.placeholder=f,v.range=h,v.start=h.start,v.end=h.end,v.sameRow=h.start.row==h.end.row,v.subFolds=v.ranges=[],v}return c.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},c.prototype.setFoldLine=function(h){this.foldLine=h,this.subFolds.forEach(function(f){f.setFoldLine(h)})},c.prototype.clone=function(){var h=this.range.clone(),f=new c(h,this.placeholder);return this.subFolds.forEach(function(v){f.subFolds.push(v.clone())}),f.collapseChildren=this.collapseChildren,f},c.prototype.addSubFold=function(h){if(!this.range.isEqual(h)){p(h,this.start);for(var R=h.start.row,x=h.start.column,f=0,v=-1;f<this.subFolds.length&&(v=this.subFolds[f].range.compare(R,x),v==1);f++);var b=this.subFolds[f],S=0;if(v==0){if(b.range.containsRange(h))return b.addSubFold(h);S=1}for(var R=h.range.end.row,x=h.range.end.column,C=f,v=-1;C<this.subFolds.length&&(v=this.subFolds[C].range.compare(R,x),v==1);C++);v==0&&C++;for(var y=this.subFolds.splice(f,C-f,h),T=v==0?y.length-1:y.length,L=S;L<T;L++)h.addSubFold(y[L]);return h.setFoldLine(this.foldLine),h}},c.prototype.restoreRange=function(h){return a(h,this.start)},c}(d);function s(u,c){u.row-=c.row,u.row==0&&(u.column-=c.column)}function p(u,c){s(u.start,c),s(u.end,c)}function o(u,c){u.row==0&&(u.column+=c.column),u.row+=c.row}function a(u,c){o(u.start,c),o(u.end,c)}i.Fold=g}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(t,i,r){var l=t("../range").Range,d=t("./fold_line").FoldLine,g=t("./fold").Fold,s=t("../token_iterator").TokenIterator,p=t("../mouse/mouse_event").MouseEvent;function o(){this.getFoldAt=function(a,u,c){var h=this.getFoldLine(a);if(!h)return null;for(var f=h.folds,v=0;v<f.length;v++){var b=f[v].range;if(b.contains(a,u)){if(c==1&&b.isEnd(a,u)&&!b.isEmpty())continue;if(c==-1&&b.isStart(a,u)&&!b.isEmpty())continue;return f[v]}}},this.getFoldsInRange=function(a){var u=a.start,c=a.end,h=this.$foldData,f=[];u.column+=1,c.column-=1;for(var v=0;v<h.length;v++){var b=h[v].range.compareRange(a);if(b!=2){if(b==-2)break;for(var S=h[v].folds,R=0;R<S.length;R++){var x=S[R];if(b=x.range.compareRange(a),b==-2)break;if(b==2)continue;if(b==42)break;f.push(x)}}}return u.column-=1,c.column+=1,f},this.getFoldsInRangeList=function(a){if(Array.isArray(a)){var u=[];a.forEach(function(c){u=u.concat(this.getFoldsInRange(c))},this)}else var u=this.getFoldsInRange(a);return u},this.getAllFolds=function(){for(var a=[],u=this.$foldData,c=0;c<u.length;c++)for(var h=0;h<u[c].folds.length;h++)a.push(u[c].folds[h]);return a},this.getFoldStringAt=function(a,u,c,h){if(h=h||this.getFoldLine(a),!h)return null;for(var f={end:{column:0}},v,b,S=0;S<h.folds.length;S++){b=h.folds[S];var R=b.range.compareEnd(a,u);if(R==-1){v=this.getLine(b.start.row).substring(f.end.column,b.start.column);break}else if(R===0)return null;f=b}return v||(v=this.getLine(b.start.row).substring(f.end.column)),c==-1?v.substring(0,u-f.end.column):c==1?v.substring(u-f.end.column):v},this.getFoldLine=function(a,u){var c=this.$foldData,h=0;for(u&&(h=c.indexOf(u)),h==-1&&(h=0),h;h<c.length;h++){var f=c[h];if(f.start.row<=a&&f.end.row>=a)return f;if(f.end.row>a)return null}return null},this.getNextFoldLine=function(a,u){var c=this.$foldData,h=0;for(u&&(h=c.indexOf(u)),h==-1&&(h=0),h;h<c.length;h++){var f=c[h];if(f.end.row>=a)return f}return null},this.getFoldedRowCount=function(a,u){for(var c=this.$foldData,h=u-a+1,f=0;f<c.length;f++){var v=c[f],b=v.end.row,S=v.start.row;if(b>=u){S<u&&(S>=a?h-=u-S:h=0);break}else b>=a&&(S>=a?h-=b-S:h-=b-a+1)}return h},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(u,c){return u.start.row-c.start.row}),a},this.addFold=function(a,u){var c=this.$foldData,h=!1,f;a instanceof g?f=a:(f=new g(u,a),f.collapseChildren=u.collapseChildren),this.$clipRangeToDocument(f.range);var v=f.start.row,b=f.start.column,S=f.end.row,R=f.end.column,x=this.getFoldAt(v,b,1),C=this.getFoldAt(S,R,-1);if(x&&C==x)return x.addSubFold(f);x&&!x.range.isStart(v,b)&&this.removeFold(x),C&&!C.range.isEnd(S,R)&&this.removeFold(C);var y=this.getFoldsInRange(f.range);y.length>0&&(this.removeFolds(y),f.collapseChildren||y.forEach(function(k){f.addSubFold(k)}));for(var T=0;T<c.length;T++){var L=c[T];if(S==L.start.row){L.addFold(f),h=!0;break}else if(v==L.end.row){if(L.addFold(f),h=!0,!f.sameRow){var _=c[T+1];if(_&&_.start.row==S){L.merge(_);break}}break}else if(S<=L.start.row)break}return h||(L=this.$addFoldLine(new d(this.$foldData,f))),this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row),this.$modified=!0,this._signal("changeFold",{data:f,action:"add"}),f},this.addFolds=function(a){a.forEach(function(u){this.addFold(u)},this)},this.removeFold=function(a){var u=a.foldLine,c=u.start.row,h=u.end.row,f=this.$foldData,v=u.folds;if(v.length==1)f.splice(f.indexOf(u),1);else if(u.range.isEnd(a.end.row,a.end.column))v.pop(),u.end.row=v[v.length-1].end.row,u.end.column=v[v.length-1].end.column;else if(u.range.isStart(a.start.row,a.start.column))v.shift(),u.start.row=v[0].start.row,u.start.column=v[0].start.column;else if(a.sameRow)v.splice(v.indexOf(a),1);else{var b=u.split(a.start.row,a.start.column);v=b.folds,v.shift(),b.start.row=v[0].start.row,b.start.column=v[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(c,h):this.$updateRowLengthCache(c,h)),this.$modified=!0,this._signal("changeFold",{data:a,action:"remove"})},this.removeFolds=function(a){for(var u=[],c=0;c<a.length;c++)u.push(a[c]);u.forEach(function(h){this.removeFold(h)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(u){a.restoreRange(u),this.addFold(u)},this),a.collapseChildren>0&&this.foldAll(a.start.row+1,a.end.row,a.collapseChildren-1),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(u){this.expandFold(u)},this)},this.unfold=function(a,u){var c,h;if(a==null)c=new l(0,0,this.getLength(),0),u==null&&(u=!0);else if(typeof a=="number")c=new l(a,0,a,this.getLine(a).length);else if("row"in a)c=l.fromPoints(a,a);else{if(Array.isArray(a))return h=[],a.forEach(function(v){h=h.concat(this.unfold(v))},this),h;c=a}h=this.getFoldsInRangeList(c);for(var f=h;h.length==1&&l.comparePoints(h[0].start,c.start)<0&&l.comparePoints(h[0].end,c.end)>0;)this.expandFolds(h),h=this.getFoldsInRangeList(c);if(u!=!1?this.removeFolds(h):this.expandFolds(h),f.length)return f},this.isRowFolded=function(a,u){return!!this.getFoldLine(a,u)},this.getRowFoldEnd=function(a,u){var c=this.getFoldLine(a,u);return c?c.end.row:a},this.getRowFoldStart=function(a,u){var c=this.getFoldLine(a,u);return c?c.start.row:a},this.getFoldDisplayLine=function(a,u,c,h,f){h==null&&(h=a.start.row),f==null&&(f=0),u==null&&(u=a.end.row),c==null&&(c=this.getLine(u).length);var v=this.doc,b="";return a.walk(function(S,R,x,C){if(!(R<h)){if(R==h){if(x<f)return;C=Math.max(f,C)}S!=null?b+=S:b+=v.getLine(R).substring(C,x)}},u,c),b},this.getDisplayLine=function(a,u,c,h){var f=this.getFoldLine(a);if(f)return this.getFoldDisplayLine(f,a,u,c,h);var v;return v=this.doc.getLine(a),v.substring(h||0,u||v.length)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(u){var c=u.folds.map(function(h){return h.clone()});return new d(a,c)}),a},this.toggleFold=function(a){var u=this.selection,c=u.getRange(),h,f;if(c.isEmpty()){var v=c.start;if(h=this.getFoldAt(v.row,v.column),h){this.expandFold(h);return}else(f=this.findMatchingBracket(v))?c.comparePoint(f)==1?c.end=f:(c.start=f,c.start.column++,c.end.column--):(f=this.findMatchingBracket({row:v.row,column:v.column+1}))?(c.comparePoint(f)==1?c.end=f:c.start=f,c.start.column++):c=this.getCommentFoldRange(v.row,v.column)||c}else{var b=this.getFoldsInRange(c);if(a&&b.length){this.expandFolds(b);return}else b.length==1&&(h=b[0])}if(h||(h=this.getFoldAt(c.start.row,c.start.column)),h&&h.range.toString()==c.toString()){this.expandFold(h);return}var S="...";if(!c.isMultiLine()){if(S=this.getTextRange(c),S.length<4)return;S=S.trim().substring(0,2)+".."}this.addFold(S,c)},this.getCommentFoldRange=function(a,u,c){var h=new s(this,a,u),f=h.getCurrentToken(),v=f&&f.type;if(f&&/^comment|string/.test(v)){v=v.match(/comment|string/)[0],v=="comment"&&(v+="|doc-start|\\.doc");var b=new RegExp(v),S=new l;if(c!=1){do f=h.stepBackward();while(f&&b.test(f.type));f=h.stepForward()}S.start.row=h.getCurrentTokenRow(),S.start.column=h.getCurrentTokenColumn()+f.value.length,h=new s(this,a,u);var R=this.getState(h.$row);if(c!=-1){var x=-1;do if(f=h.stepForward(),x==-1){var C=this.getState(h.$row);R.toString()!==C.toString()&&(x=h.$row)}else if(h.$row>x)break;while(f&&b.test(f.type));f=h.stepBackward()}else f=h.getCurrentToken();return S.end.row=h.getCurrentTokenRow(),S.end.column=h.getCurrentTokenColumn(),S}},this.foldAll=function(a,u,c,h){c==null&&(c=1e5);var f=this.foldWidgets;if(f){u=u||this.getLength(),a=a||0;for(var v=a;v<u;v++)if(f[v]==null&&(f[v]=this.getFoldWidget(v)),f[v]=="start"&&!(h&&!h(v))){var b=this.getFoldWidgetRange(v);b&&b.isMultiLine()&&b.end.row<=u&&b.start.row>=a&&(v=b.end.row,b.collapseChildren=c,this.addFold("...",b))}}},this.foldToLevel=function(a){for(this.foldAll();a-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var a=this;this.foldAll(null,null,null,function(u){for(var c=a.getTokens(u),h=0;h<c.length;h++){var f=c[h];if(!(f.type=="text"&&/^\s+$/.test(f.value)))return!!/comment/.test(f.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=a){this.$foldStyle=a,a=="manual"&&this.unfold();var u=this.$foldMode;this.$setFolding(null),this.$setFolding(u)}},this.$setFolding=function(a){if(this.$foldMode!=a){if(this.$foldMode=a,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!a||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(a,u){var c=this.foldWidgets;if(!c||u&&c[a])return{};for(var h=a-1,f;h>=0;){var v=c[h];if(v==null&&(v=c[h]=this.getFoldWidget(h)),v=="start"){var b=this.getFoldWidgetRange(h);if(f||(f=b),b&&b.end.row>=a)break}h--}return{range:h!==-1&&b,firstRange:f}},this.onFoldWidgetClick=function(a,u){u instanceof p&&(u=u.domEvent);var c={children:u.shiftKey,all:u.ctrlKey||u.metaKey,siblings:u.altKey},h=this.$toggleFoldWidget(a,c);if(!h){var f=u.target||u.srcElement;f&&/ace_fold-widget/.test(f.className)&&(f.className+=" ace_invalid")}},this.$toggleFoldWidget=function(a,u){if(this.getFoldWidget){var c=this.getFoldWidget(a),h=this.getLine(a),f=c==="end"?-1:1,v=this.getFoldAt(a,f===-1?0:h.length,f);if(v)return u.children||u.all?this.removeFold(v):this.expandFold(v),v;var b=this.getFoldWidgetRange(a,!0);if(b&&!b.isMultiLine()&&(v=this.getFoldAt(b.start.row,b.start.column,1),v&&b.isEqual(v.range)))return this.removeFold(v),v;if(u.siblings){var S=this.getParentFoldRangeData(a);if(S.range)var R=S.range.start.row+1,x=S.range.end.row;this.foldAll(R,x,u.all?1e4:0)}else u.children?(x=b?b.end.row:this.getLength(),this.foldAll(a+1,x,u.all?1e4:0)):b&&(u.all&&(b.collapseChildren=1e4),this.addFold("...",b));return b}},this.toggleFoldWidget=function(a){var u=this.selection.getCursor().row;u=this.getRowFoldStart(u);var c=this.$toggleFoldWidget(u,{});if(!c){var h=this.getParentFoldRangeData(u,!0);if(c=h.range||h.firstRange,c){u=c.start.row;var f=this.getFoldAt(u,this.getLine(u).length,1);f?this.removeFold(f):this.addFold("...",c)}}},this.updateFoldWidgets=function(a){var u=a.start.row,c=a.end.row-u;if(c===0)this.foldWidgets[u]=null;else if(a.action=="remove")this.foldWidgets.splice(u,c+1,null);else{var h=Array(c+1);h.unshift(u,1),this.foldWidgets.splice.apply(this.foldWidgets,h)}},this.tokenizerUpdateFoldWidgets=function(a){var u=a.data;u.first!=u.last&&this.foldWidgets.length>u.first&&this.foldWidgets.splice(u.first,this.foldWidgets.length)}}i.Folding=o}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(t,i,r){var l=t("../token_iterator").TokenIterator,d=t("../range").Range;function g(){this.findMatchingBracket=function(s,p){if(s.column==0)return null;var o=p||this.getLine(s.row).charAt(s.column-1);if(o=="")return null;var a=o.match(/([\(\[\{])|([\)\]\}])/);return a?a[1]?this.$findClosingBracket(a[1],s):this.$findOpeningBracket(a[2],s):null},this.getBracketRange=function(s){var p=this.getLine(s.row),o=!0,a,u=p.charAt(s.column-1),c=u&&u.match(/([\(\[\{])|([\)\]\}])/);if(c||(u=p.charAt(s.column),s={row:s.row,column:s.column+1},c=u&&u.match(/([\(\[\{])|([\)\]\}])/),o=!1),!c)return null;if(c[1]){var h=this.$findClosingBracket(c[1],s);if(!h)return null;a=d.fromPoints(s,h),o||(a.end.column++,a.start.column--),a.cursor=a.end}else{var h=this.$findOpeningBracket(c[2],s);if(!h)return null;a=d.fromPoints(h,s),o||(a.start.column++,a.end.column--),a.cursor=a.start}return a},this.getMatchingBracketRanges=function(s,p){var o=this.getLine(s.row),a=/([\(\[\{])|([\)\]\}])/,u=!p&&o.charAt(s.column-1),c=u&&u.match(a);if(c||(u=(p===void 0||p)&&o.charAt(s.column),s={row:s.row,column:s.column+1},c=u&&u.match(a)),!c)return null;var h=new d(s.row,s.column-1,s.row,s.column),f=c[1]?this.$findClosingBracket(c[1],s):this.$findOpeningBracket(c[2],s);if(!f)return[h];var v=new d(f.row,f.column,f.row,f.column+1);return[h,v]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,p,o){var a=this.$brackets[s],u=1,c=new l(this,p.row,p.column),h=c.getCurrentToken();if(h||(h=c.stepForward()),!!h){o||(o=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var f=p.column-c.getCurrentTokenColumn()-2,v=h.value;;){for(;f>=0;){var b=v.charAt(f);if(b==a){if(u-=1,u==0)return{row:c.getCurrentTokenRow(),column:f+c.getCurrentTokenColumn()}}else b==s&&(u+=1);f-=1}do h=c.stepBackward();while(h&&!o.test(h.type));if(h==null)break;v=h.value,f=v.length-1}return null}},this.$findClosingBracket=function(s,p,o){var a=this.$brackets[s],u=1,c=new l(this,p.row,p.column),h=c.getCurrentToken();if(h||(h=c.stepForward()),!!h){o||(o=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var f=p.column-c.getCurrentTokenColumn();;){for(var v=h.value,b=v.length;f<b;){var S=v.charAt(f);if(S==a){if(u-=1,u==0)return{row:c.getCurrentTokenRow(),column:f+c.getCurrentTokenColumn()}}else S==s&&(u+=1);f+=1}do h=c.stepForward();while(h&&!o.test(h.type));if(h==null)break;f=0}return null}},this.getMatchingTags=function(s){var p=new l(this,s.row,s.column),o=this.$findTagName(p);if(o){var a=p.stepBackward();return a.value==="<"?this.$findClosingTag(p,o):this.$findOpeningTag(p,o)}},this.$findTagName=function(s){var p=s.getCurrentToken(),o=!1,a=!1;if(p&&p.type.indexOf("tag-name")===-1)do a?p=s.stepBackward():p=s.stepForward(),p&&(p.value==="/>"?a=!0:p.type.indexOf("tag-name")!==-1&&(o=!0));while(p&&!o);return p},this.$findClosingTag=function(s,p){var o,a=p.value,u=p.value,c=0,h=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);p=s.stepForward();var f=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+p.value.length),v=!1;do{if(o=p,o.type.indexOf("tag-close")!==-1&&!v){var b=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);v=!0}if(p=s.stepForward(),p){if(p.value===">"&&!v){var b=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);v=!0}if(p.type.indexOf("tag-name")!==-1){if(a=p.value,u===a){if(o.value==="<")c++;else if(o.value==="</"&&(c--,c<0)){s.stepBackward();var S=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);p=s.stepForward();var R=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+p.value.length);if(p.type.indexOf("tag-close")===-1&&(p=s.stepForward()),p&&p.value===">")var x=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(u===a&&p.value==="/>"&&(c--,c<0))var S=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),R=S,x=R,b=new d(f.end.row,f.end.column,f.end.row,f.end.column+1)}}while(p&&c>=0);if(h&&b&&S&&x&&f&&R)return{openTag:new d(h.start.row,h.start.column,b.end.row,b.end.column),closeTag:new d(S.start.row,S.start.column,x.end.row,x.end.column),openTagName:f,closeTagName:R}},this.$findOpeningTag=function(s,p){var o=s.getCurrentToken(),a=p.value,u=0,c=s.getCurrentTokenRow(),h=s.getCurrentTokenColumn(),f=h+2,v=new d(c,h,c,f);s.stepForward();var b=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+p.value.length);if(p.type.indexOf("tag-close")===-1&&(p=s.stepForward()),!(!p||p.value!==">")){var S=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(p=o,c=s.getCurrentTokenRow(),h=s.getCurrentTokenColumn(),f=h+p.value.length,o=s.stepBackward(),p){if(p.type.indexOf("tag-name")!==-1){if(a===p.value)if(o.value==="<"){if(u++,u>0){var R=new d(c,h,c,f),x=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do p=s.stepForward();while(p&&p.value!==">");var C=new d(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else o.value==="</"&&u--}else if(p.value==="/>"){for(var y=0,T=o;T;){if(T.type.indexOf("tag-name")!==-1&&T.value===a){u--;break}else if(T.value==="<")break;T=s.stepBackward(),y++}for(var L=0;L<y;L++)s.stepForward()}}while(o&&u<=0);if(x&&C&&v&&S&&R&&b)return{openTag:new d(x.start.row,x.start.column,C.end.row,C.end.column),closeTag:new d(v.start.row,v.start.column,S.end.row,S.end.column),openTagName:R,closeTagName:b}}}}i.BracketMatch=g}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(t,i,r){var l=t("./lib/oop"),d=t("./lib/lang"),g=t("./bidihandler").BidiHandler,s=t("./config"),p=t("./lib/event_emitter").EventEmitter,o=t("./selection").Selection,a=t("./mode/text").Mode,u=t("./range").Range,c=t("./line_widgets").LineWidgets,h=t("./document").Document,f=t("./background_tokenizer").BackgroundTokenizer,v=t("./search_highlight").SearchHighlight,b=t("./undomanager").UndoManager,S=function(){function w(m,A){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++w.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new f(new a().getTokenizer(),this);var E=this;this.bgTokenizer.on("update",function(M){E._signal("tokenizerUpdate",M)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof m!="object"||!m.getLine)&&(m=new h(m)),this.setDocument(m),this.selection=new o(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new g(this),s.resetOptions(this),this.setMode(A),s._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return w.prototype.$initOperationListeners=function(){var m=this;this.curOp=null,this.on("change",function(){m.curOp||(m.startOperation(),m.curOp.selectionBefore=m.$lastSel),m.curOp.docChanged=!0},!0),this.on("changeSelection",function(){m.curOp||(m.startOperation(),m.curOp.selectionBefore=m.$lastSel),m.curOp.selectionChanged=!0},!0),this.$operationResetTimer=d.delayedCall(this.endOperation.bind(this,!0))},w.prototype.startOperation=function(m){if(this.curOp){if(!m||this.curOp.command)return;this.prevOp=this.curOp}m||(m={}),this.$operationResetTimer.schedule(),this.curOp={command:m.command||{},args:m.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",m)},w.prototype.endOperation=function(m){if(this.curOp){if(m&&m.returnValue===!1){this.curOp=null,this._signal("endOperation",m);return}if(m==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var A=this.selection.toJSON();this.curOp.selectionAfter=A,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(A),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",m)}},w.prototype.setDocument=function(m){this.doc&&this.doc.off("change",this.$onChange),this.doc=m,m.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},w.prototype.getDocument=function(){return this.doc},Object.defineProperty(w.prototype,"widgetManager",{get:function(){var m=new c(this);return this.widgetManager=m,this.$editor&&m.attach(this.$editor),m},set:function(m){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:m})},enumerable:!1,configurable:!0}),w.prototype.$resetRowCache=function(m){if(!m){this.$docRowCache=[],this.$screenRowCache=[];return}var A=this.$docRowCache.length,E=this.$getRowCacheIndex(this.$docRowCache,m)+1;A>E&&(this.$docRowCache.splice(E,A),this.$screenRowCache.splice(E,A))},w.prototype.$getRowCacheIndex=function(m,A){for(var E=0,M=m.length-1;E<=M;){var O=E+M>>1,$=m[O];if(A>$)E=O+1;else if(A<$)M=O-1;else return O}return E-1},w.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},w.prototype.onChangeFold=function(m){var A=m.data;this.$resetRowCache(A.start.row)},w.prototype.onChange=function(m){this.$modified=!0,this.$bidiHandler.onChange(m),this.$resetRowCache(m.start.row);var A=this.$updateInternalDataOnChange(m);!this.$fromUndo&&this.$undoManager&&(A&&A.length&&(this.$undoManager.add({action:"removeFolds",folds:A},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(m,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(m),this._signal("change",m)},w.prototype.onSelectionChange=function(){this._signal("changeSelection")},w.prototype.setValue=function(m){this.doc.setValue(m),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},w.fromJSON=function(m){typeof m=="string"&&(m=JSON.parse(m));var A=new b;A.$undoStack=m.history.undo,A.$redoStack=m.history.redo,A.mark=m.history.mark,A.$rev=m.history.rev;var E=new w(m.value);return m.folds.forEach(function(M){E.addFold("...",u.fromPoints(M.start,M.end))}),E.setAnnotations(m.annotations),E.setBreakpoints(m.breakpoints),E.setMode(m.mode),E.setScrollLeft(m.scrollLeft),E.setScrollTop(m.scrollTop),E.setUndoManager(A),E.selection.fromJSON(m.selection),E},w.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(m){return m.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},w.prototype.toString=function(){return this.doc.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.getState=function(m){return this.bgTokenizer.getState(m)},w.prototype.getTokens=function(m){return this.bgTokenizer.getTokens(m)},w.prototype.getTokenAt=function(m,A){var E=this.bgTokenizer.getTokens(m),M,O=0;if(A==null){var $=E.length-1;O=this.getLine(m).length}else for(var $=0;$<E.length&&(O+=E[$].value.length,!(O>=A));$++);return M=E[$],M?(M.index=$,M.start=O-M.value.length,M):null},w.prototype.setUndoManager=function(m){if(this.$undoManager=m,this.$informUndoManager&&this.$informUndoManager.cancel(),m){var A=this;m.addSession(this),this.$syncInformUndoManager=function(){A.$informUndoManager.cancel(),A.mergeUndoDeltas=!1},this.$informUndoManager=d.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},w.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},w.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},w.prototype.getTabString=function(){return this.getUseSoftTabs()?d.stringRepeat(" ",this.getTabSize()):"	"},w.prototype.setUseSoftTabs=function(m){this.setOption("useSoftTabs",m)},w.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},w.prototype.setTabSize=function(m){this.setOption("tabSize",m)},w.prototype.getTabSize=function(){return this.$tabSize},w.prototype.isTabStop=function(m){return this.$useSoftTabs&&m.column%this.$tabSize===0},w.prototype.setNavigateWithinSoftTabs=function(m){this.setOption("navigateWithinSoftTabs",m)},w.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},w.prototype.setOverwrite=function(m){this.setOption("overwrite",m)},w.prototype.getOverwrite=function(){return this.$overwrite},w.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},w.prototype.addGutterDecoration=function(m,A){this.$decorations[m]||(this.$decorations[m]=""),this.$decorations[m]+=" "+A,this._signal("changeBreakpoint",{})},w.prototype.removeGutterDecoration=function(m,A){this.$decorations[m]=(this.$decorations[m]||"").replace(" "+A,""),this._signal("changeBreakpoint",{})},w.prototype.getBreakpoints=function(){return this.$breakpoints},w.prototype.setBreakpoints=function(m){this.$breakpoints=[];for(var A=0;A<m.length;A++)this.$breakpoints[m[A]]="ace_breakpoint";this._signal("changeBreakpoint",{})},w.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},w.prototype.setBreakpoint=function(m,A){A===void 0&&(A="ace_breakpoint"),A?this.$breakpoints[m]=A:delete this.$breakpoints[m],this._signal("changeBreakpoint",{})},w.prototype.clearBreakpoint=function(m){delete this.$breakpoints[m],this._signal("changeBreakpoint",{})},w.prototype.addMarker=function(m,A,E,M){var O=this.$markerId++,$={range:m,type:E||"line",renderer:typeof E=="function"?E:null,clazz:A,inFront:!!M,id:O};return M?(this.$frontMarkers[O]=$,this._signal("changeFrontMarker")):(this.$backMarkers[O]=$,this._signal("changeBackMarker")),O},w.prototype.addDynamicMarker=function(m,A){if(m.update){var E=this.$markerId++;return m.id=E,m.inFront=!!A,A?(this.$frontMarkers[E]=m,this._signal("changeFrontMarker")):(this.$backMarkers[E]=m,this._signal("changeBackMarker")),m}},w.prototype.removeMarker=function(m){var A=this.$frontMarkers[m]||this.$backMarkers[m];if(A){var E=A.inFront?this.$frontMarkers:this.$backMarkers;delete E[m],this._signal(A.inFront?"changeFrontMarker":"changeBackMarker")}},w.prototype.getMarkers=function(m){return m?this.$frontMarkers:this.$backMarkers},w.prototype.highlight=function(m){if(!this.$searchHighlight){var A=new v(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(A)}this.$searchHighlight.setRegexp(m)},w.prototype.highlightLines=function(m,A,E,M){typeof A!="number"&&(E=A,A=m),E||(E="ace_step");var O=new u(m,0,A,1/0);return O.id=this.addMarker(O,E,"fullLine",M),O},w.prototype.setAnnotations=function(m){this.$annotations=m,this._signal("changeAnnotation",{})},w.prototype.getAnnotations=function(){return this.$annotations||[]},w.prototype.clearAnnotations=function(){this.setAnnotations([])},w.prototype.$detectNewLine=function(m){var A=m.match(/^.*?(\r?\n)/m);A?this.$autoNewLine=A[1]:this.$autoNewLine=`
`},w.prototype.getWordRange=function(m,A){var E=this.getLine(m),M=!1;if(A>0&&(M=!!E.charAt(A-1).match(this.tokenRe)),M||(M=!!E.charAt(A).match(this.tokenRe)),M)var O=this.tokenRe;else if(/^\s+$/.test(E.slice(A-1,A+1)))var O=/\s/;else var O=this.nonTokenRe;var $=A;if($>0){do $--;while($>=0&&E.charAt($).match(O));$++}for(var D=A;D<E.length&&E.charAt(D).match(O);)D++;return new u(m,$,m,D)},w.prototype.getAWordRange=function(m,A){for(var E=this.getWordRange(m,A),M=this.getLine(E.end.row);M.charAt(E.end.column).match(/[ \t]/);)E.end.column+=1;return E},w.prototype.setNewLineMode=function(m){this.doc.setNewLineMode(m)},w.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},w.prototype.setUseWorker=function(m){this.setOption("useWorker",m)},w.prototype.getUseWorker=function(){return this.$useWorker},w.prototype.onReloadTokenizer=function(m){var A=m.data;this.bgTokenizer.start(A.first),this._signal("tokenizerUpdate",m)},w.prototype.setMode=function(m,A){if(m&&typeof m=="object"){if(m.getTokenizer)return this.$onChangeMode(m);var E=m,M=E.path}else M=m||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new a),this.$modes[M]&&!E){this.$onChangeMode(this.$modes[M]),A&&A();return}this.$modeId=M,s.loadModule(["mode",M],(function(O){if(this.$modeId!==M)return A&&A();this.$modes[M]&&!E?this.$onChangeMode(this.$modes[M]):O&&O.Mode&&(O=new O.Mode(E),E||(this.$modes[M]=O,O.$id=M),this.$onChangeMode(O)),A&&A()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},w.prototype.$onChangeMode=function(m,A){if(A||(this.$modeId=m.$id),this.$mode!==m){var E=this.$mode;this.$mode=m,this.$stopWorker(),this.$useWorker&&this.$startWorker();var M=m.getTokenizer();if(M.on!==void 0){var O=this.onReloadTokenizer.bind(this);M.on("update",O)}this.bgTokenizer.setTokenizer(M),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=m.tokenRe,this.nonTokenRe=m.nonTokenRe,A||(m.attachToSession&&m.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(m.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:E,mode:m}))}},w.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},w.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(m){s.warn("Could not load worker",m),this.$worker=null}},w.prototype.getMode=function(){return this.$mode},w.prototype.setScrollTop=function(m){this.$scrollTop===m||isNaN(m)||(this.$scrollTop=m,this._signal("changeScrollTop",m))},w.prototype.getScrollTop=function(){return this.$scrollTop},w.prototype.setScrollLeft=function(m){this.$scrollLeft===m||isNaN(m)||(this.$scrollLeft=m,this._signal("changeScrollLeft",m))},w.prototype.getScrollLeft=function(){return this.$scrollLeft},w.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},w.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var m=0;return this.lineWidgets.forEach(function(A){A&&A.screenWidth>m&&(m=A.screenWidth)}),this.lineWidgetWidth=m},w.prototype.$computeWidth=function(m){if(this.$modified||m){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var A=this.doc.getAllLines(),E=this.$rowLengthCache,M=0,O=0,$=this.$foldData[O],D=$?$.start.row:1/0,N=A.length,F=0;F<N;F++){if(F>D){if(F=$.end.row+1,F>=N)break;$=this.$foldData[O++],D=$?$.start.row:1/0}E[F]==null&&(E[F]=this.$getStringScreenWidth(A[F])[0]),E[F]>M&&(M=E[F])}this.screenWidth=M}},w.prototype.getLine=function(m){return this.doc.getLine(m)},w.prototype.getLines=function(m,A){return this.doc.getLines(m,A)},w.prototype.getLength=function(){return this.doc.getLength()},w.prototype.getTextRange=function(m){return this.doc.getTextRange(m||this.selection.getRange())},w.prototype.insert=function(m,A){return this.doc.insert(m,A)},w.prototype.remove=function(m){return this.doc.remove(m)},w.prototype.removeFullLines=function(m,A){return this.doc.removeFullLines(m,A)},w.prototype.undoChanges=function(m,A){if(m.length){this.$fromUndo=!0;for(var E=m.length-1;E!=-1;E--){var M=m[E];M.action=="insert"||M.action=="remove"?this.doc.revertDelta(M):M.folds&&this.addFolds(M.folds)}!A&&this.$undoSelect&&(m.selectionBefore?this.selection.fromJSON(m.selectionBefore):this.selection.setRange(this.$getUndoSelection(m,!0))),this.$fromUndo=!1}},w.prototype.redoChanges=function(m,A){if(m.length){this.$fromUndo=!0;for(var E=0;E<m.length;E++){var M=m[E];(M.action=="insert"||M.action=="remove")&&this.doc.$safeApplyDelta(M)}!A&&this.$undoSelect&&(m.selectionAfter?this.selection.fromJSON(m.selectionAfter):this.selection.setRange(this.$getUndoSelection(m,!1))),this.$fromUndo=!1}},w.prototype.setUndoSelect=function(m){this.$undoSelect=m},w.prototype.$getUndoSelection=function(m,A){function E(N){return A?N.action!=="insert":N.action==="insert"}for(var M,O,$=0;$<m.length;$++){var D=m[$];if(D.start){if(!M){E(D)?M=u.fromPoints(D.start,D.end):M=u.fromPoints(D.start,D.start);continue}E(D)?(O=D.start,M.compare(O.row,O.column)==-1&&M.setStart(O),O=D.end,M.compare(O.row,O.column)==1&&M.setEnd(O)):(O=D.start,M.compare(O.row,O.column)==-1&&(M=u.fromPoints(D.start,D.start)))}}return M},w.prototype.replace=function(m,A){return this.doc.replace(m,A)},w.prototype.moveText=function(m,A,E){var M=this.getTextRange(m),O=this.getFoldsInRange(m),$=u.fromPoints(A,A);if(!E){this.remove(m);var D=m.start.row-m.end.row,N=D?-m.end.column:m.start.column-m.end.column;N&&($.start.row==m.end.row&&$.start.column>m.end.column&&($.start.column+=N),$.end.row==m.end.row&&$.end.column>m.end.column&&($.end.column+=N)),D&&$.start.row>=m.end.row&&($.start.row+=D,$.end.row+=D)}if($.end=this.insert($.start,M),O.length){var F=m.start,z=$.start,D=z.row-F.row,N=z.column-F.column;this.addFolds(O.map(function(G){return G=G.clone(),G.start.row==F.row&&(G.start.column+=N),G.end.row==F.row&&(G.end.column+=N),G.start.row+=D,G.end.row+=D,G}))}return $},w.prototype.indentRows=function(m,A,E){E=E.replace(/\t/g,this.getTabString());for(var M=m;M<=A;M++)this.doc.insertInLine({row:M,column:0},E)},w.prototype.outdentRows=function(m){for(var A=m.collapseRows(),E=new u(0,0,0,0),M=this.getTabSize(),O=A.start.row;O<=A.end.row;++O){var $=this.getLine(O);E.start.row=O,E.end.row=O;for(var D=0;D<M&&$.charAt(D)==" ";++D);D<M&&$.charAt(D)=="	"?(E.start.column=D,E.end.column=D+1):(E.start.column=0,E.end.column=D),this.remove(E)}},w.prototype.$moveLines=function(m,A,E){if(m=this.getRowFoldStart(m),A=this.getRowFoldEnd(A),E<0){var M=this.getRowFoldStart(m+E);if(M<0)return 0;var O=M-m}else if(E>0){var M=this.getRowFoldEnd(A+E);if(M>this.doc.getLength()-1)return 0;var O=M-A}else{m=this.$clipRowToDocument(m),A=this.$clipRowToDocument(A);var O=A-m+1}var $=new u(m,0,A,Number.MAX_VALUE),D=this.getFoldsInRange($).map(function(F){return F=F.clone(),F.start.row+=O,F.end.row+=O,F}),N=E==0?this.doc.getLines(m,A):this.doc.removeFullLines(m,A);return this.doc.insertFullLines(m+O,N),D.length&&this.addFolds(D),O},w.prototype.moveLinesUp=function(m,A){return this.$moveLines(m,A,-1)},w.prototype.moveLinesDown=function(m,A){return this.$moveLines(m,A,1)},w.prototype.duplicateLines=function(m,A){return this.$moveLines(m,A,0)},w.prototype.$clipRowToDocument=function(m){return Math.max(0,Math.min(m,this.doc.getLength()-1))},w.prototype.$clipColumnToRow=function(m,A){return A<0?0:Math.min(this.doc.getLine(m).length,A)},w.prototype.$clipPositionToDocument=function(m,A){if(A=Math.max(0,A),m<0)m=0,A=0;else{var E=this.doc.getLength();m>=E?(m=E-1,A=this.doc.getLine(E-1).length):A=Math.min(this.doc.getLine(m).length,A)}return{row:m,column:A}},w.prototype.$clipRangeToDocument=function(m){m.start.row<0?(m.start.row=0,m.start.column=0):m.start.column=this.$clipColumnToRow(m.start.row,m.start.column);var A=this.doc.getLength()-1;return m.end.row>A?(m.end.row=A,m.end.column=this.doc.getLine(A).length):m.end.column=this.$clipColumnToRow(m.end.row,m.end.column),m},w.prototype.setUseWrapMode=function(m){if(m!=this.$useWrapMode){if(this.$useWrapMode=m,this.$modified=!0,this.$resetRowCache(0),m){var A=this.getLength();this.$wrapData=Array(A),this.$updateWrapData(0,A-1)}this._signal("changeWrapMode")}},w.prototype.getUseWrapMode=function(){return this.$useWrapMode},w.prototype.setWrapLimitRange=function(m,A){(this.$wrapLimitRange.min!==m||this.$wrapLimitRange.max!==A)&&(this.$wrapLimitRange={min:m,max:A},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},w.prototype.adjustWrapLimit=function(m,A){var E=this.$wrapLimitRange;E.max<0&&(E={min:A,max:A});var M=this.$constrainWrapLimit(m,E.min,E.max);return M!=this.$wrapLimit&&M>1?(this.$wrapLimit=M,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},w.prototype.$constrainWrapLimit=function(m,A,E){return A&&(m=Math.max(A,m)),E&&(m=Math.min(E,m)),m},w.prototype.getWrapLimit=function(){return this.$wrapLimit},w.prototype.setWrapLimit=function(m){this.setWrapLimitRange(m,m)},w.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},w.prototype.$updateInternalDataOnChange=function(m){var A=this.$useWrapMode,E=m.action,M=m.start,O=m.end,$=M.row,D=O.row,N=D-$,F=null;if(this.$updating=!0,N!=0)if(E==="remove"){this[A?"$wrapData":"$rowLengthCache"].splice($,N);var z=this.$foldData;F=this.getFoldsInRange(m),this.removeFolds(F);var P=this.getFoldLine(O.row),j=0;if(P){P.addRemoveChars(O.row,O.column,M.column-O.column),P.shiftRow(-N);var G=this.getFoldLine($);G&&G!==P&&(G.merge(P),P=G),j=z.indexOf(P)+1}for(j;j<z.length;j++){var P=z[j];P.start.row>=O.row&&P.shiftRow(-N)}D=$}else{var H=Array(N);H.unshift($,0);var W=A?this.$wrapData:this.$rowLengthCache;W.splice.apply(W,H);var z=this.$foldData,P=this.getFoldLine($),j=0;if(P){var Y=P.range.compareInside(M.row,M.column);Y==0?(P=P.split(M.row,M.column),P&&(P.shiftRow(N),P.addRemoveChars(D,0,O.column-M.column))):Y==-1&&(P.addRemoveChars($,0,O.column-M.column),P.shiftRow(N)),j=z.indexOf(P)+1}for(j;j<z.length;j++){var P=z[j];P.start.row>=$&&P.shiftRow(N)}}else{N=Math.abs(m.start.column-m.end.column),E==="remove"&&(F=this.getFoldsInRange(m),this.removeFolds(F),N=-N);var P=this.getFoldLine($);P&&P.addRemoveChars($,M.column,N)}return A&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,A?this.$updateWrapData($,D):this.$updateRowLengthCache($,D),F},w.prototype.$updateRowLengthCache=function(m,A){this.$rowLengthCache[m]=null,this.$rowLengthCache[A]=null},w.prototype.$updateWrapData=function(m,A){var E=this.doc.getAllLines(),M=this.getTabSize(),O=this.$wrapData,$=this.$wrapLimit,D,N,F=m;for(A=Math.min(A,E.length-1);F<=A;)N=this.getFoldLine(F,N),N?(D=[],N.walk((function(z,P,j,G){var H;if(z!=null){H=this.$getDisplayTokens(z,D.length),H[0]=C;for(var W=1;W<H.length;W++)H[W]=y}else H=this.$getDisplayTokens(E[P].substring(G,j),D.length);D=D.concat(H)}).bind(this),N.end.row,E[N.end.row].length+1),O[N.start.row]=this.$computeWrapSplits(D,$,M),F=N.end.row+1):(D=this.$getDisplayTokens(E[F]),O[F]=this.$computeWrapSplits(D,$,M),F++)},w.prototype.$computeWrapSplits=function(m,A,E){if(m.length==0)return[];var M=[],O=m.length,$=0,D=0,N=this.$wrapAsCode,F=this.$indentedSoftWrap,z=A<=Math.max(2*E,8)||F===!1?0:Math.floor(A/2);function P(){var Y=0;if(z===0)return Y;if(F)for(var q=0;q<m.length;q++){var J=m[q];if(J==L)Y+=1;else if(J==_)Y+=E;else{if(J==k)continue;break}}return N&&F!==!1&&(Y+=E),Math.min(Y,z)}function j(Y){for(var q=Y-$,J=$;J<Y;J++){var ne=m[J];(ne===12||ne===2)&&(q-=1)}M.length||(G=P(),M.indent=G),D+=q,M.push(D),$=Y}for(var G=0;O-$>A-G;){var H=$+A-G;if(m[H-1]>=L&&m[H]>=L){j(H);continue}if(m[H]==C||m[H]==y){for(H;H!=$-1&&m[H]!=C;H--);if(H>$){j(H);continue}for(H=$+A,H;H<m.length&&m[H]==y;H++);if(H==m.length)break;j(H);continue}for(var W=Math.max(H-(A-(A>>2)),$-1);H>W&&m[H]<C;)H--;if(N){for(;H>W&&m[H]<C;)H--;for(;H>W&&m[H]==T;)H--}else for(;H>W&&m[H]<L;)H--;if(H>W){j(++H);continue}H=$+A,m[H]==x&&H--,j(H-G)}return M},w.prototype.$getDisplayTokens=function(m,A){var E=[],M;A=A||0;for(var O=0;O<m.length;O++){var $=m.charCodeAt(O);if($==9){M=this.getScreenTabSize(E.length+A),E.push(_);for(var D=1;D<M;D++)E.push(k)}else $==32?E.push(L):$>39&&$<48||$>57&&$<64?E.push(T):$>=4352&&I($)?E.push(R,x):E.push(R)}return E},w.prototype.$getStringScreenWidth=function(m,A,E){if(A==0)return[0,0];A==null&&(A=1/0),E=E||0;var M,O;for(O=0;O<m.length&&(M=m.charCodeAt(O),M==9?E+=this.getScreenTabSize(E):M>=4352&&I(M)?E+=2:E+=1,!(E>A));O++);return[E,O]},w.prototype.getRowLength=function(m){var A=1;return this.lineWidgets&&(A+=this.lineWidgets[m]&&this.lineWidgets[m].rowCount||0),!this.$useWrapMode||!this.$wrapData[m]?A:this.$wrapData[m].length+A},w.prototype.getRowLineCount=function(m){return!this.$useWrapMode||!this.$wrapData[m]?1:this.$wrapData[m].length+1},w.prototype.getRowWrapIndent=function(m){if(this.$useWrapMode){var A=this.screenToDocumentPosition(m,Number.MAX_VALUE),E=this.$wrapData[A.row];return E.length&&E[0]<A.column?E.indent:0}else return 0},w.prototype.getScreenLastRowColumn=function(m){var A=this.screenToDocumentPosition(m,Number.MAX_VALUE);return this.documentToScreenColumn(A.row,A.column)},w.prototype.getDocumentLastRowColumn=function(m,A){var E=this.documentToScreenRow(m,A);return this.getScreenLastRowColumn(E)},w.prototype.getDocumentLastRowColumnPosition=function(m,A){var E=this.documentToScreenRow(m,A);return this.screenToDocumentPosition(E,Number.MAX_VALUE/10)},w.prototype.getRowSplitData=function(m){if(this.$useWrapMode)return this.$wrapData[m]},w.prototype.getScreenTabSize=function(m){return this.$tabSize-(m%this.$tabSize|0)},w.prototype.screenToDocumentRow=function(m,A){return this.screenToDocumentPosition(m,A).row},w.prototype.screenToDocumentColumn=function(m,A){return this.screenToDocumentPosition(m,A).column},w.prototype.screenToDocumentPosition=function(m,A,E){if(m<0)return{row:0,column:0};var M,O=0,$=0,D,N=0,F=0,z=this.$screenRowCache,P=this.$getRowCacheIndex(z,m),j=z.length;if(j&&P>=0)var N=z[P],O=this.$docRowCache[P],G=m>z[j-1];else var G=!j;for(var H=this.getLength()-1,W=this.getNextFoldLine(O),Y=W?W.start.row:1/0;N<=m&&(F=this.getRowLength(O),!(N+F>m||O>=H));)N+=F,O++,O>Y&&(O=W.end.row+1,W=this.getNextFoldLine(O,W),Y=W?W.start.row:1/0),G&&(this.$docRowCache.push(O),this.$screenRowCache.push(N));if(W&&W.start.row<=O)M=this.getFoldDisplayLine(W),O=W.start.row;else{if(N+F<=m||O>H)return{row:H,column:this.getLine(H).length};M=this.getLine(O),W=null}var q=0,J=Math.floor(m-N);if(this.$useWrapMode){var ne=this.$wrapData[O];ne&&(D=ne[J],J>0&&ne.length&&(q=ne.indent,$=ne[J-1]||ne[ne.length-1],M=M.substring($)))}return E!==void 0&&this.$bidiHandler.isBidiRow(N+J,O,J)&&(A=this.$bidiHandler.offsetToCol(E)),$+=this.$getStringScreenWidth(M,A-q)[1],this.$useWrapMode&&$>=D&&($=D-1),W?W.idxToPosition($):{row:O,column:$}},w.prototype.documentToScreenPosition=function(m,A){if(typeof A>"u")var E=this.$clipPositionToDocument(m.row,m.column);else E=this.$clipPositionToDocument(m,A);m=E.row,A=E.column;var M=0,O=null,$=null;$=this.getFoldAt(m,A,1),$&&(m=$.start.row,A=$.start.column);var D,N=0,F=this.$docRowCache,z=this.$getRowCacheIndex(F,m),P=F.length;if(P&&z>=0)var N=F[z],M=this.$screenRowCache[z],j=m>F[P-1];else var j=!P;for(var G=this.getNextFoldLine(N),H=G?G.start.row:1/0;N<m;){if(N>=H){if(D=G.end.row+1,D>m)break;G=this.getNextFoldLine(D,G),H=G?G.start.row:1/0}else D=N+1;M+=this.getRowLength(N),N=D,j&&(this.$docRowCache.push(N),this.$screenRowCache.push(M))}var W="";G&&N>=H?(W=this.getFoldDisplayLine(G,m,A),O=G.start.row):(W=this.getLine(m).substring(0,A),O=m);var Y=0;if(this.$useWrapMode){var q=this.$wrapData[O];if(q){for(var J=0;W.length>=q[J];)M++,J++;W=W.substring(q[J-1]||0,W.length),Y=J>0?q.indent:0}}return this.lineWidgets&&this.lineWidgets[N]&&this.lineWidgets[N].rowsAbove&&(M+=this.lineWidgets[N].rowsAbove),{row:M,column:Y+this.$getStringScreenWidth(W)[0]}},w.prototype.documentToScreenColumn=function(m,A){return this.documentToScreenPosition(m,A).column},w.prototype.documentToScreenRow=function(m,A){return this.documentToScreenPosition(m,A).row},w.prototype.getScreenLength=function(){var m=0,A=null;if(this.$useWrapMode)for(var O=this.$wrapData.length,$=0,M=0,A=this.$foldData[M++],D=A?A.start.row:1/0;$<O;){var N=this.$wrapData[$];m+=N?N.length+1:1,$++,$>D&&($=A.end.row+1,A=this.$foldData[M++],D=A?A.start.row:1/0)}else{m=this.getLength();for(var E=this.$foldData,M=0;M<E.length;M++)A=E[M],m-=A.end.row-A.start.row}return this.lineWidgets&&(m+=this.$getWidgetScreenLength()),m},w.prototype.$setFontMetrics=function(m){this.$enableVarChar&&(this.$getStringScreenWidth=function(A,E,M){if(E===0)return[0,0];E||(E=1/0),M=M||0;var O,$;for($=0;$<A.length&&(O=A.charAt($),O==="	"?M+=this.getScreenTabSize(M):M+=m.getCharacterWidth(O),!(M>E));$++);return[M,$]})},w.prototype.getPrecedingCharacter=function(){var m=this.selection.getCursor();if(m.column===0)return m.row===0?"":this.doc.getNewLineCharacter();var A=this.getLine(m.row);return A[m.column-1]},w.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},w}();S.$uid=0,S.prototype.$modes=s.$modes,S.prototype.getValue=S.prototype.toString,S.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},S.prototype.$overwrite=!1,S.prototype.$mode=null,S.prototype.$modeId=null,S.prototype.$scrollTop=0,S.prototype.$scrollLeft=0,S.prototype.$wrapLimit=80,S.prototype.$useWrapMode=!1,S.prototype.$wrapLimitRange={min:null,max:null},S.prototype.lineWidgets=null,S.prototype.isFullWidth=I,l.implement(S.prototype,p);var R=1,x=2,C=3,y=4,T=9,L=10,_=11,k=12;function I(w){return w<4352?!1:w>=4352&&w<=4447||w>=4515&&w<=4519||w>=4602&&w<=4607||w>=9001&&w<=9002||w>=11904&&w<=11929||w>=11931&&w<=12019||w>=12032&&w<=12245||w>=12272&&w<=12283||w>=12288&&w<=12350||w>=12353&&w<=12438||w>=12441&&w<=12543||w>=12549&&w<=12589||w>=12593&&w<=12686||w>=12688&&w<=12730||w>=12736&&w<=12771||w>=12784&&w<=12830||w>=12832&&w<=12871||w>=12880&&w<=13054||w>=13056&&w<=19903||w>=19968&&w<=42124||w>=42128&&w<=42182||w>=43360&&w<=43388||w>=44032&&w<=55203||w>=55216&&w<=55238||w>=55243&&w<=55291||w>=63744&&w<=64255||w>=65040&&w<=65049||w>=65072&&w<=65106||w>=65108&&w<=65126||w>=65128&&w<=65131||w>=65281&&w<=65376||w>=65504&&w<=65510}t("./edit_session/folding").Folding.call(S.prototype),t("./edit_session/bracket_match").BracketMatch.call(S.prototype),s.defineOptions(S.prototype,"session",{wrap:{set:function(w){if(!w||w=="off"?w=!1:w=="free"?w=!0:w=="printMargin"?w=-1:typeof w=="string"&&(w=parseInt(w,10)||!1),this.$wrap!=w)if(this.$wrap=w,!w)this.setUseWrapMode(!1);else{var m=typeof w=="number"?w:null;this.setWrapLimitRange(m,m),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(w){w=w=="auto"?this.$mode.type!="text":w!="text",w!=this.$wrapAsCode&&(this.$wrapAsCode=w,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(w){this.$useWorker=w,this.$stopWorker(),w&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(w){w=parseInt(w),w>0&&this.$tabSize!==w&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=w,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(w){this.setFoldStyle(w)},handlesSet:!0},overwrite:{set:function(w){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(w){this.doc.setNewLineMode(w)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(w){this.setMode(w)},get:function(){return this.$modeId},handlesSet:!0}}),i.EditSession=S}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(t,i,r){var l=t("./lib/lang"),d=t("./lib/oop"),g=t("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(a){return d.mixin(this.$options,a),this},o.prototype.getOptions=function(){return l.copyObject(this.$options)},o.prototype.setOptions=function(a){this.$options=a},o.prototype.find=function(a){var u=this.$options,c=this.$matchIterator(a,u);if(!c)return!1;var h=null;return c.forEach(function(f,v,b,S){return h=new g(f,v,b,S),v==S&&u.start&&u.start.start&&u.skipCurrent!=!1&&h.isEqual(u.start)?(h=null,!1):!0}),h},o.prototype.findAll=function(a){var u=this.$options;if(!u.needle)return[];this.$assembleRegExp(u);var c=u.range,h=c?a.getLines(c.start.row,c.end.row):a.doc.getAllLines(),f=[],v=u.re;if(u.$isMultiLine){var b=v.length,S=h.length-b,R;e:for(var x=v.offset||0;x<=S;x++){for(var C=0;C<b;C++)if(h[x+C].search(v[C])==-1)continue e;var y=h[x],T=h[x+b-1],L=y.length-y.match(v[0])[0].length,_=T.match(v[b-1])[0].length;R&&R.end.row===x&&R.end.column>L||(f.push(R=new g(x,L,x+b-1,_)),b>2&&(x=x+b-2))}}else for(var k=0;k<h.length;k++)for(var I=l.getMatchOffsets(h[k],v),C=0;C<I.length;C++){var w=I[C];f.push(new g(k,w.offset,k,w.offset+w.length))}if(c){for(var m=c.start.column,A=c.end.column,k=0,C=f.length-1;k<C&&f[k].start.column<m&&f[k].start.row==0;)k++;for(var E=c.end.row-c.start.row;k<C&&f[C].end.column>A&&f[C].end.row==E;)C--;for(f=f.slice(k,C+1),k=0,C=f.length;k<C;k++)f[k].start.row+=c.start.row,f[k].end.row+=c.start.row}return f},o.prototype.replace=function(a,u){var c=this.$options,h=this.$assembleRegExp(c);if(c.$isMultiLine)return u;if(h){var f=h.exec(a);if(!f||f[0].length!=a.length)return null;if(c.regExp||(u=u.replace(/\$/g,"$$$$")),u=a.replace(h,u),c.preserveCase){u=u.split("");for(var v=Math.min(a.length,a.length);v--;){var b=a[v];b&&b.toLowerCase()!=b?u[v]=u[v].toUpperCase():u[v]=u[v].toLowerCase()}u=u.join("")}return u}},o.prototype.$assembleRegExp=function(a,u){if(a.needle instanceof RegExp)return a.re=a.needle;var c=a.needle;if(!a.needle)return a.re=!1;a.regExp||(c=l.escapeRegExp(c));var h=a.caseSensitive?"gm":"gmi";try{new RegExp(c,"u"),a.$supportsUnicodeFlag=!0,h+="u"}catch{a.$supportsUnicodeFlag=!1}if(a.wholeWord&&(c=p(c,a)),a.$isMultiLine=!u&&/[\n\r]/.test(c),a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(c,h);try{var f=new RegExp(c,h)}catch{f=!1}return a.re=f},o.prototype.$assembleMultilineRegExp=function(a,u){for(var c=a.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),h=[],f=0;f<c.length;f++)try{h.push(new RegExp(c[f],u))}catch{return!1}return h},o.prototype.$matchIterator=function(a,u){var c=this.$assembleRegExp(u);if(!c)return!1;var h=u.backwards==!0,f=u.skipCurrent!=!1,v=c.unicode,b=u.range,S=u.start;S||(S=b?b[h?"end":"start"]:a.selection.getRange()),S.start&&(S=S[f!=h?"end":"start"]);var R=b?b.start.row:0,x=b?b.end.row:a.getLength()-1;if(h)var C=function(L){var _=S.row;if(!T(_,S.column,L)){for(_--;_>=R;_--)if(T(_,Number.MAX_VALUE,L))return;if(u.wrap!=!1){for(_=x,R=S.row;_>=R;_--)if(T(_,Number.MAX_VALUE,L))return}}};else var C=function(_){var k=S.row;if(!T(k,S.column,_)){for(k=k+1;k<=x;k++)if(T(k,0,_))return;if(u.wrap!=!1){for(k=R,x=S.row;k<=x;k++)if(T(k,0,_))return}}};if(u.$isMultiLine)var y=c.length,T=function(L,_,k){var I=h?L-y+1:L;if(!(I<0||I+y>a.getLength())){var w=a.getLine(I),m=w.search(c[0]);if(!(!h&&m<_||m===-1)){for(var A=1;A<y;A++)if(w=a.getLine(I+A),w.search(c[A])==-1)return;var E=w.match(c[y-1])[0].length;if(!(h&&E>_)&&k(I,m,I+y-1,E))return!0}}};else if(h)var T=function(_,k,I){var w=a.getLine(_),m=[],A,E=0;for(c.lastIndex=0;A=c.exec(w);){var M=A[0].length;if(E=A.index,!M){if(E>=w.length)break;c.lastIndex=E+=l.skipEmptyMatch(w,E,v)}if(A.index+M>k)break;m.push(A.index,M)}for(var O=m.length-1;O>=0;O-=2){var $=m[O-1],M=m[O];if(I(_,$,_,$+M))return!0}};else var T=function(_,k,I){var w=a.getLine(_),m,A;for(c.lastIndex=k;A=c.exec(w);){var E=A[0].length;if(m=A.index,I(_,m,_,m+E))return!0;if(!E&&(c.lastIndex=m+=l.skipEmptyMatch(w,m,v),m>=w.length))return!1}};return{forEach:C}},o}();function p(o,a){var u=l.supportsLookbehind();function c(b,S){S===void 0&&(S=!0);var R=u&&a.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return R.test(b)||a.regExp?u&&a.$supportsUnicodeFlag?S?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var h=Array.from(o),f=h[0],v=h[h.length-1];return c(f)+o+c(v,!1)}i.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(t,i,r){var l=this&&this.__extends||function(){var u=function(c,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(f[b]=v[b])},u(c,h)};return function(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(c,h);function f(){this.constructor=c}c.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}(),d=t("../lib/keys"),g=t("../lib/useragent"),s=d.KEY_MODS,p=function(){function u(c,h){this.$init(c,h,!1)}return u.prototype.$init=function(c,h,f){this.platform=h||(g.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(c),this.$singleCommand=f},u.prototype.addCommand=function(c){this.commands[c.name]&&this.removeCommand(c),this.commands[c.name]=c,c.bindKey&&this._buildKeyHash(c)},u.prototype.removeCommand=function(c,h){var f=c&&(typeof c=="string"?c:c.name);c=this.commands[f],h||delete this.commands[f];var v=this.commandKeyBinding;for(var b in v){var S=v[b];if(S==c)delete v[b];else if(Array.isArray(S)){var R=S.indexOf(c);R!=-1&&(S.splice(R,1),S.length==1&&(v[b]=S[0]))}}},u.prototype.bindKey=function(c,h,f){if(typeof c=="object"&&c&&(f==null&&(f=c.position),c=c[this.platform]),!!c){if(typeof h=="function")return this.addCommand({exec:h,bindKey:c,name:h.name||c});c.split("|").forEach(function(v){var b="";if(v.indexOf(" ")!=-1){var S=v.split(/\s+/);v=S.pop(),S.forEach(function(C){var y=this.parseKeys(C),T=s[y.hashId]+y.key;b+=(b?" ":"")+T,this._addCommandToBinding(b,"chainKeys")},this),b+=" "}var R=this.parseKeys(v),x=s[R.hashId]+R.key;this._addCommandToBinding(b+x,h,f)},this)}},u.prototype._addCommandToBinding=function(c,h,f){var v=this.commandKeyBinding,b;if(!h)delete v[c];else if(!v[c]||this.$singleCommand)v[c]=h;else{Array.isArray(v[c])?(b=v[c].indexOf(h))!=-1&&v[c].splice(b,1):v[c]=[v[c]],typeof f!="number"&&(f=o(h));var S=v[c];for(b=0;b<S.length;b++){var R=S[b],x=o(R);if(x>f)break}S.splice(b,0,h)}},u.prototype.addCommands=function(c){c&&Object.keys(c).forEach(function(h){var f=c[h];if(f){if(typeof f=="string")return this.bindKey(f,h);typeof f=="function"&&(f={exec:f}),typeof f=="object"&&(f.name||(f.name=h),this.addCommand(f))}},this)},u.prototype.removeCommands=function(c){Object.keys(c).forEach(function(h){this.removeCommand(c[h])},this)},u.prototype.bindKeys=function(c){Object.keys(c).forEach(function(h){this.bindKey(h,c[h])},this)},u.prototype._buildKeyHash=function(c){this.bindKey(c.bindKey,c)},u.prototype.parseKeys=function(c){var h=c.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x}),f=h.pop(),v=d[f];if(d.FUNCTION_KEYS[v])f=d.FUNCTION_KEYS[v].toLowerCase();else if(h.length){if(h.length==1&&h[0]=="shift")return{key:f.toUpperCase(),hashId:-1}}else return{key:f,hashId:-1};for(var b=0,S=h.length;S--;){var R=d.KEY_MODS[h[S]];if(R==null)return typeof console<"u"&&console.error("invalid modifier "+h[S]+" in "+c),!1;b|=R}return{key:f,hashId:b}},u.prototype.findKeyCommand=function(c,h){var f=s[c]+h;return this.commandKeyBinding[f]},u.prototype.handleKeyboard=function(c,h,f,v){if(!(v<0)){var b=s[h]+f,S=this.commandKeyBinding[b];return c.$keyChain&&(c.$keyChain+=" "+b,S=this.commandKeyBinding[c.$keyChain]||S),S&&(S=="chainKeys"||S[S.length-1]=="chainKeys")?(c.$keyChain=c.$keyChain||b,{command:"null"}):(c.$keyChain&&((!h||h==4)&&f.length==1?c.$keyChain=c.$keyChain.slice(0,-b.length-1):(h==-1||v>0)&&(c.$keyChain="")),{command:S})}},u.prototype.getStatusText=function(c,h){return h.$keyChain||""},u}();function o(u){return typeof u=="object"&&u.bindKey&&u.bindKey.position||(u.isDefault?-100:0)}var a=function(u){l(c,u);function c(h,f){var v=u.call(this,h,f)||this;return v.$singleCommand=!0,v}return c}(p);a.call=function(u,c,h){p.prototype.$init.call(u,c,h,!0)},p.call=function(u,c,h){p.prototype.$init.call(u,c,h,!1)},i.HashHandler=a,i.MultiHashHandler=p}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(t,i,r){var l=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(c[f]=h[f])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");o(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),d=t("../lib/oop"),g=t("../keyboard/hash_handler").MultiHashHandler,s=t("../lib/event_emitter").EventEmitter,p=function(o){l(a,o);function a(u,c){var h=o.call(this,c,u)||this;return h.byName=h.commands,h.setDefaultHandler("exec",function(f){return f.args?f.command.exec(f.editor,f.args,f.event,!1):f.command.exec(f.editor,{},f.event,!0)}),h}return a.prototype.exec=function(u,c,h){if(Array.isArray(u)){for(var f=u.length;f--;)if(this.exec(u[f],c,h))return!0;return!1}if(typeof u=="string"&&(u=this.commands[u]),!this.canExecute(u,c))return!1;var v={editor:c,command:u,args:h};return v.returnValue=this._emit("exec",v),this._signal("afterExec",v),v.returnValue!==!1},a.prototype.canExecute=function(u,c){return typeof u=="string"&&(u=this.commands[u]),!(!u||c&&c.$readOnly&&!u.readOnly||this.$checkCommandState!=!1&&u.isAvailable&&!u.isAvailable(c))},a.prototype.toggleRecording=function(u){if(!this.$inReplay)return u&&u._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(c){this.macro.push([c.command,c.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},a.prototype.replay=function(u){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(u);try{this.$inReplay=!0,this.macro.forEach(function(c){typeof c=="string"?this.exec(c,u):this.exec(c[0],u,c[1])},this)}finally{this.$inReplay=!1}}},a.prototype.trimMacro=function(u){return u.map(function(c){return typeof c[0]!="string"&&(c[0]=c[0].name),c[1]||(c=c[0]),c})},a}(g);d.implement(p.prototype,s),i.CommandManager=p}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(t,i,r){var l=t("../lib/lang"),d=t("../config"),g=t("../range").Range;function s(o,a){return{win:o,mac:a}}i.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(o){d.loadModule("ace/ext/settings_menu",function(a){a.init(o),o.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(o){d.loadModule("ace/ext/error_marker",function(a){a.showErrorMarker(o,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(o){d.loadModule("ace/ext/error_marker",function(a){a.showErrorMarker(o,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(o){o.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(o){o.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(o,a){typeof a=="number"&&!isNaN(a)&&o.gotoLine(a),o.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(o){o.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(o){o.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(o){o.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(o){o.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(o){o.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(o){o.session.foldAll(),o.session.unfold(o.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(o){o.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(o){o.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(o){o.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(o){o.selection.isEmpty()?o.selection.selectWord():o.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(o){d.loadModule("ace/ext/searchbox",function(a){a.Search(o)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(o){o.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(o){o.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(o){o.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(o){o.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(o,a){o.navigateUp(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(o){o.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(o){o.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(o){o.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(o,a){o.navigateDown(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(o){o.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(o){o.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(o){o.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(o){o.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(o,a){o.navigateLeft(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(o){o.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(o){o.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(o){o.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(o){o.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(o,a){o.navigateRight(a.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(o){o.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(o){o.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(o){o.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(o){o.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(o){o.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(o){o.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(o){o.renderer.scrollBy(0,-2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(o){o.renderer.scrollBy(0,2*o.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(o){o.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(o){o.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(o){o.commands.toggleRecording(o)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(o){o.commands.replay(o)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(o){o.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(o){o.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(o){o.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(o){},readOnly:!0},{name:"cut",description:"Cut",exec:function(o){var a=o.$copyWithEmptySelection&&o.selection.isEmpty(),u=a?o.selection.getLineRange():o.selection.getRange();o._emit("cut",u),u.isEmpty()||o.session.remove(u),o.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(o,a){o.$handlePaste(a)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(o){o.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(o){o.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(o){o.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(o){o.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(o){o.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(o){o.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(o){o.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(o){d.loadModule("ace/ext/searchbox",function(a){a.Search(o,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(o){o.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(o){o.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(o){o.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(o){o.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(o){o.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(o){o.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(o){o.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(o){o.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(o){if(o.selection.isEmpty())o.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(o){o.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(o){o.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(o){var a=o.selection.getRange();a.start.column=0,o.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(o){var a=o.selection.getRange();a.end.column=Number.MAX_VALUE,o.session.remove(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(o){o.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(o){o.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(o){o.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(o){o.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(o){o.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(o){o.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(o,a){o.insert(a)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(o,a){o.insert(l.stringRepeat(a.text||"",a.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(o){o.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(o){o.transposeLetters()},multiSelectAction:function(o){o.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(o){o.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(o){o.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(o){o.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(o){var a=o.selection.getRange();a.start.column=a.end.column=0,a.end.row++,o.selection.setRange(a,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(o){o.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(o){for(var a=o.selection.isBackwards(),u=a?o.selection.getSelectionLead():o.selection.getSelectionAnchor(),c=a?o.selection.getSelectionAnchor():o.selection.getSelectionLead(),h=o.session.doc.getLine(u.row).length,f=o.session.doc.getTextRange(o.selection.getRange()),v=f.replace(/\n\s*/," ").length,b=o.session.doc.getLine(u.row),S=u.row+1;S<=c.row+1;S++){var R=l.stringTrimLeft(l.stringTrimRight(o.session.doc.getLine(S)));R.length!==0&&(R=" "+R),b+=R}c.row+1<o.session.doc.getLength()-1&&(b+=o.session.doc.getNewLineCharacter()),o.clearSelection(),o.session.doc.replace(new g(u.row,0,c.row+2,0),b),v>0?(o.selection.moveCursorTo(u.row,u.column),o.selection.selectTo(u.row,u.column+v)):(h=o.session.doc.getLine(u.row).length>h?h+1:h,o.selection.moveCursorTo(u.row,h))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(o){var a=o.session.doc.getLength()-1,u=o.session.doc.getLine(a).length,c=o.selection.rangeList.ranges,h=[];c.length<1&&(c=[o.selection.getRange()]);for(var f=0;f<c.length;f++)f==c.length-1&&(c[f].end.row===a&&c[f].end.column===u||h.push(new g(c[f].end.row,c[f].end.column,a,u))),f===0?c[f].start.row===0&&c[f].start.column===0||h.push(new g(0,0,c[f].start.row,c[f].start.column)):h.push(new g(c[f-1].end.row,c[f-1].end.column,c[f].start.row,c[f].start.column));o.exitMultiSelectMode(),o.clearSelection();for(var f=0;f<h.length;f++)o.selection.addRange(h[f],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(o){o.selection.clearSelection(),o.navigateLineEnd(),o.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(o){o.selection.clearSelection();var a=o.getCursorPosition();o.selection.moveTo(a.row-1,Number.MAX_VALUE),o.insert(`
`),a.row===0&&o.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(o){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),o.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(o){o.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(o){o.prompt({$type:"modes"})},readOnly:!0}];for(var p=1;p<9;p++)i.commands.push({name:"foldToLevel"+p,description:"Fold To Level "+p,level:p,exec:function(o){o.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(t,i,r){var l=t("../lib/keys"),d=t("../mouse/default_gutter_handler").GutterTooltip,g=function(){function p(o){this.editor=o,this.gutterLayer=o.renderer.$gutterLayer,this.element=o.renderer.$gutter,this.lines=o.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new d(this.editor)}return p.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},p.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},p.prototype.$onGutterKeyDown=function(o){if(this.annotationTooltip.isOpen){o.preventDefault(),o.keyCode===l.escape&&this.annotationTooltip.hideTooltip();return}if(o.target===this.element){if(o.keyCode!=l.enter)return;o.preventDefault();var a=this.editor.getCursorPosition().row;this.editor.isRowVisible(a)||this.editor.scrollToLine(a,!0,!0),setTimeout((function(){var u=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),c=this.$findNearestFoldWidget(u),h=this.$findNearestAnnotation(u);if(!(c===null&&h===null)){if(c===null&&h!==null){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(c!==null&&h===null){this.activeRowIndex=c,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(h-u)<Math.abs(c-u)){this.activeRowIndex=h,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=c,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(o),setTimeout((function(){this.editor._signal("gutterkeydown",new s(o,this))}).bind(this),10)},p.prototype.$handleGutterKeyboardInteraction=function(o){if(o.keyCode===l.tab){o.preventDefault();return}if(o.keyCode===l.escape){o.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(o.keyCode===l.up){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(o.keyCode===l.down){switch(o.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(o.keyCode===l.left){o.preventDefault(),this.$switchLane("annotation");return}if(o.keyCode===l.right){o.preventDefault(),this.$switchLane("fold");return}if(o.keyCode===l.enter||o.keyCode===l.space){switch(o.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var a=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),o),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==a&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(a),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var u=this.lines.cells[this.activeRowIndex].element.childNodes[2],c=u.getBoundingClientRect(),h=this.annotationTooltip.getElement().style;h.left=c.right+"px",h.top=c.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},p.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},p.prototype.$isFoldWidgetVisible=function(o){var a=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),u=this.$getFoldWidget(o).style.display!=="none";return a&&u},p.prototype.$isAnnotationVisible=function(o){var a=this.editor.isRowFullyVisible(this.$rowIndexToRow(o)),u=this.$getAnnotation(o).style.display!=="none";return a&&u},p.prototype.$getFoldWidget=function(o){var a=this.lines.get(o),u=a.element;return u.childNodes[1]},p.prototype.$getAnnotation=function(o){var a=this.lines.get(o),u=a.element;return u.childNodes[2]},p.prototype.$findNearestFoldWidget=function(o){if(this.$isFoldWidgetVisible(o))return o;for(var a=0;o-a>0||o+a<this.lines.getLength()-1;){if(a++,o-a>=0&&this.$isFoldWidgetVisible(o-a))return o-a;if(o+a<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(o+a))return o+a}return null},p.prototype.$findNearestAnnotation=function(o){if(this.$isAnnotationVisible(o))return o;for(var a=0;o-a>0||o+a<this.lines.getLength()-1;){if(a++,o-a>=0&&this.$isAnnotationVisible(o-a))return o-a;if(o+a<=this.lines.getLength()-1&&this.$isAnnotationVisible(o+a))return o+a}return null},p.prototype.$focusFoldWidget=function(o){if(o!=null){var a=this.$getFoldWidget(o);a.classList.add(this.editor.renderer.keyboardFocusClassName),a.focus()}},p.prototype.$focusAnnotation=function(o){if(o!=null){var a=this.$getAnnotation(o);a.classList.add(this.editor.renderer.keyboardFocusClassName),a.focus()}},p.prototype.$blurFoldWidget=function(o){var a=this.$getFoldWidget(o);a.classList.remove(this.editor.renderer.keyboardFocusClassName),a.blur()},p.prototype.$blurAnnotation=function(o){var a=this.$getAnnotation(o);a.classList.remove(this.editor.renderer.keyboardFocusClassName),a.blur()},p.prototype.$moveFoldWidgetUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},p.prototype.$moveFoldWidgetDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isFoldWidgetVisible(o)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=o,this.$focusFoldWidget(this.activeRowIndex);return}},p.prototype.$moveAnnotationUp=function(){for(var o=this.activeRowIndex;o>0;)if(o--,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},p.prototype.$moveAnnotationDown=function(){for(var o=this.activeRowIndex;o<this.lines.getLength()-1;)if(o++,this.$isAnnotationVisible(o)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$focusAnnotation(this.activeRowIndex);return}},p.prototype.$switchLane=function(o){switch(o){case"annotation":if(this.activeLane==="annotation")break;var a=this.$findNearestAnnotation(this.activeRowIndex);if(a==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=a,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var u=this.$findNearestFoldWidget(this.activeRowIndex);if(u==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=u,this.$focusFoldWidget(this.activeRowIndex);break}},p.prototype.$rowIndexToRow=function(o){var a=this.lines.get(o);return a?a.row:null},p.prototype.$rowToRowIndex=function(o){for(var a=0;a<this.lines.getLength();a++){var u=this.lines.get(a);if(u.row==o)return a}return null},p}();i.GutterKeyboardHandler=g;var s=function(){function p(o,a){this.gutterKeyboardHandler=a,this.domEvent=o}return p.prototype.getKey=function(){return l.keyCodeToString(this.domEvent.keyCode)},p.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},p.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},p.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},p}();i.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(t,i,r){var l=this&&this.__values||function(w){var m=typeof Symbol=="function"&&Symbol.iterator,A=m&&w[m],E=0;if(A)return A.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&E>=w.length&&(w=void 0),{value:w&&w[E++],done:!w}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")},d=t("./lib/oop"),g=t("./lib/dom"),s=t("./lib/lang"),p=t("./lib/useragent"),o=t("./keyboard/textinput").TextInput,a=t("./mouse/mouse_handler").MouseHandler,u=t("./mouse/fold_handler").FoldHandler,c=t("./keyboard/keybinding").KeyBinding,h=t("./edit_session").EditSession,f=t("./search").Search,v=t("./range").Range,b=t("./lib/event_emitter").EventEmitter,S=t("./commands/command_manager").CommandManager,R=t("./commands/default_commands").commands,x=t("./config"),C=t("./token_iterator").TokenIterator,y=t("./keyboard/gutter_handler").GutterKeyboardHandler,T=t("./config").nls,L=t("./clipboard"),_=t("./lib/keys"),k=function(){function w(m,A,E){this.session,this.$toDestroy=[];var M=m.getContainerElement();this.container=M,this.renderer=m,this.id="editor"+ ++w.$uid,this.commands=new S(p.isMac?"mac":"win",R),typeof document=="object"&&(this.textInput=new o(m.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new u(this)),this.keyBinding=new c(this),this.$search=new f().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(O,$){$._$emitInputEvent.schedule(31)}),this.setSession(A||E&&E.session||new h("")),x.resetOptions(this),E&&this.setOptions(E),x._signal("editor",this)}return w.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},w.prototype.startOperation=function(m){this.session.startOperation(m)},w.prototype.endOperation=function(m){this.session.endOperation(m)},w.prototype.onStartOperation=function(m){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,m||(this.previousCommand=null)},w.prototype.onEndOperation=function(m){if(this.curOp&&this.session){if(m&&m.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var A=this.curOp.command,E=A&&A.scrollIntoView;if(E){switch(E){case"center-animate":E="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var M=this.selection.getRange(),O=this.renderer.layerConfig;(M.start.row>=O.lastRow||M.end.row<=O.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}E=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},w.prototype.$historyTracker=function(m){if(this.$mergeUndoDeltas){var A=this.prevOp,E=this.$mergeableCommands,M=A.command&&m.command.name==A.command.name;if(m.command.name=="insertstring"){var O=m.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),M=M&&this.mergeNextCommand&&(!/\s/.test(O)||/\s/.test(A.args)),this.mergeNextCommand=!0}else M=M&&E.indexOf(m.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(M=!1),M?this.session.mergeUndoDeltas=!0:E.indexOf(m.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},w.prototype.setKeyboardHandler=function(m,A){if(m&&typeof m=="string"&&m!="ace"){this.$keybindingId=m;var E=this;x.loadModule(["keybinding",m],function(M){E.$keybindingId==m&&E.keyBinding.setKeyboardHandler(M&&M.handler),A&&A()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(m),A&&A()},w.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},w.prototype.setSession=function(m){if(this.session!=m){this.curOp&&this.endOperation(),this.curOp={};var A=this.session;if(A){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var E=this.session.getSelection();E.off("changeCursor",this.$onCursorChange),E.off("changeSelection",this.$onSelectionChange)}this.session=m,m?(this.$onDocumentChange=this.onDocumentChange.bind(this),m.on("change",this.$onDocumentChange),this.renderer.setSession(m),this.$onChangeMode=this.onChangeMode.bind(this),m.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),m.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),m.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),m.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),m.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),m.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=m.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(m)),this._signal("changeSession",{session:m,oldSession:A}),this.curOp=null,A&&A._signal("changeEditor",{oldEditor:this}),A&&(A.$editor=null),m&&m._signal("changeEditor",{editor:this}),m&&(m.$editor=this),m&&!m.destroyed&&m.bgTokenizer.scheduleStart()}},w.prototype.getSession=function(){return this.session},w.prototype.setValue=function(m,A){return this.session.doc.setValue(m),A?A==1?this.navigateFileEnd():A==-1&&this.navigateFileStart():this.selectAll(),m},w.prototype.getValue=function(){return this.session.getValue()},w.prototype.getSelection=function(){return this.selection},w.prototype.resize=function(m){this.renderer.onResize(m)},w.prototype.setTheme=function(m,A){this.renderer.setTheme(m,A)},w.prototype.getTheme=function(){return this.renderer.getTheme()},w.prototype.setStyle=function(m){this.renderer.setStyle(m)},w.prototype.unsetStyle=function(m){this.renderer.unsetStyle(m)},w.prototype.getFontSize=function(){return this.getOption("fontSize")||g.computedStyle(this.container).fontSize},w.prototype.setFontSize=function(m){this.setOption("fontSize",m)},w.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var m=this;this.$highlightPending=!0,setTimeout(function(){m.$highlightPending=!1;var A=m.session;if(!(!A||A.destroyed)){A.$bracketHighlight&&(A.$bracketHighlight.markerIds.forEach(function(P){A.removeMarker(P)}),A.$bracketHighlight=null);var E=m.getCursorPosition(),M=m.getKeyboardHandler(),O=M&&M.$getDirectionForHighlight&&M.$getDirectionForHighlight(m),$=A.getMatchingBracketRanges(E,O);if(!$){var D=new C(A,E.row,E.column),N=D.getCurrentToken();if(N&&/\b(?:tag-open|tag-name)/.test(N.type)){var F=A.getMatchingTags(E);F&&($=[F.openTagName.isEmpty()?F.openTag:F.openTagName,F.closeTagName.isEmpty()?F.closeTag:F.closeTagName])}}if(!$&&A.$mode.getMatching&&($=A.$mode.getMatching(m.session)),!$){m.getHighlightIndentGuides()&&m.renderer.$textLayer.$highlightIndentGuide();return}var z="ace_bracket";Array.isArray($)?$.length==1&&(z="ace_error_bracket"):$=[$],$.length==2&&(v.comparePoints($[0].end,$[1].start)==0?$=[v.fromPoints($[0].start,$[1].end)]:v.comparePoints($[0].start,$[1].end)==0&&($=[v.fromPoints($[1].start,$[0].end)])),A.$bracketHighlight={ranges:$,markerIds:$.map(function(P){return A.addMarker(P,z,"text")})},m.getHighlightIndentGuides()&&m.renderer.$textLayer.$highlightIndentGuide()}},50)}},w.prototype.focus=function(){this.textInput.focus()},w.prototype.isFocused=function(){return this.textInput.isFocused()},w.prototype.blur=function(){this.textInput.blur()},w.prototype.onFocus=function(m){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",m))},w.prototype.onBlur=function(m){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",m))},w.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},w.prototype.onDocumentChange=function(m){var A=this.session.$useWrapMode,E=m.start.row==m.end.row?m.end.row:1/0;this.renderer.updateLines(m.start.row,E,A),this._signal("change",m),this.$cursorChange()},w.prototype.onTokenizerUpdate=function(m){var A=m.data;this.renderer.updateLines(A.first,A.last)},w.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},w.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},w.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},w.prototype.$updateHighlightActiveLine=function(){var m=this.getSession(),A;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(A=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(A=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(A=!1)),m.$highlightLineMarker&&!A)m.removeMarker(m.$highlightLineMarker.id),m.$highlightLineMarker=null;else if(!m.$highlightLineMarker&&A){var E=new v(A.row,A.column,A.row,1/0);E.id=m.addMarker(E,"ace_active-line","screenLine"),m.$highlightLineMarker=E}else A&&(m.$highlightLineMarker.start.row=A.row,m.$highlightLineMarker.end.row=A.row,m.$highlightLineMarker.start.column=A.column,m._signal("changeBackMarker"))},w.prototype.onSelectionChange=function(m){var A=this.session;if(A.$selectionMarker&&A.removeMarker(A.$selectionMarker),A.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var E=this.selection.getRange(),M=this.getSelectionStyle();A.$selectionMarker=A.addMarker(E,"ace_selection",M)}var O=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(O),this._signal("changeSelection")},w.prototype.$getSelectionHighLightRegexp=function(){var m=this.session,A=this.getSelectionRange();if(!(A.isEmpty()||A.isMultiLine())){var E=A.start.column,M=A.end.column,O=m.getLine(A.start.row),$=O.substring(E,M);if(!($.length>5e3||!/[\w\d]/.test($))){var D=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:$}),N=O.substring(E-1,M+1);if(D.test(N))return D}}},w.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},w.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},w.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},w.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},w.prototype.onChangeMode=function(m){this.renderer.updateText(),this._emit("changeMode",m)},w.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},w.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},w.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},w.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},w.prototype.getCopyText=function(){var m=this.getSelectedText(),A=this.session.doc.getNewLineCharacter(),E=!1;if(!m&&this.$copyWithEmptySelection){E=!0;for(var M=this.selection.getAllRanges(),O=0;O<M.length;O++){var $=M[O];O&&M[O-1].start.row==$.start.row||(m+=this.session.getLine($.start.row)+A)}}var D={text:m};return this._signal("copy",D),L.lineMode=E?D.text:!1,D.text},w.prototype.onCopy=function(){this.commands.exec("copy",this)},w.prototype.onCut=function(){this.commands.exec("cut",this)},w.prototype.onPaste=function(m,A){var E={text:m,event:A};this.commands.exec("paste",this,E)},w.prototype.$handlePaste=function(m){typeof m=="string"&&(m={text:m}),this._signal("paste",m);var A=m.text,E=A===L.lineMode,M=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)E?M.insert({row:this.selection.lead.row,column:0},A):this.insert(A);else if(E)this.selection.rangeList.ranges.forEach(function(z){M.insert({row:z.start.row,column:0},A)});else{var O=A.split(/\r\n|\r|\n/),$=this.selection.rangeList.ranges,D=O.length==2&&(!O[0]||!O[1]);if(O.length!=$.length||D)return this.commands.exec("insertstring",this,A);for(var N=$.length;N--;){var F=$[N];F.isEmpty()||M.remove(F),M.insert(F.start,O[N])}}},w.prototype.execCommand=function(m,A){return this.commands.exec(m,this,A)},w.prototype.insert=function(m,A){var E=this.session,M=E.getMode(),O=this.getCursorPosition();if(this.getBehavioursEnabled()&&!A){var $=M.transformAction(E.getState(O.row),"insertion",this,E,m);$&&(m!==$.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),m=$.text)}if(m=="	"&&(m=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&m.indexOf(`
`)==-1){var D=v.fromPoints(O,O);D.end.column+=m.length,this.session.remove(D)}}else{var D=this.getSelectionRange();O=this.session.remove(D),this.clearSelection()}if(m==`
`||m==`\r
`){var P=E.getLine(O.row);if(O.column>P.search(/\S|$/)){var N=P.substr(O.column).search(/\S|$/);E.doc.removeInLine(O.row,O.column,O.column+N)}}this.clearSelection();var F=O.column,z=E.getState(O.row),P=E.getLine(O.row),j=M.checkOutdent(z,P,m);if(E.insert(O,m),$&&$.selection&&($.selection.length==2?this.selection.setSelectionRange(new v(O.row,F+$.selection[0],O.row,F+$.selection[1])):this.selection.setSelectionRange(new v(O.row+$.selection[0],$.selection[1],O.row+$.selection[2],$.selection[3]))),this.$enableAutoIndent){if(E.getDocument().isNewLine(m)){var G=M.getNextLineIndent(z,P.slice(0,O.column),E.getTabString());E.insert({row:O.row+1,column:0},G)}j&&M.autoOutdent(z,E,O.row)}},w.prototype.autoIndent=function(){for(var m=this.session,A=m.getMode(),E=this.selection.isEmpty()?[new v(0,0,m.doc.getLength()-1,0)]:this.selection.getAllRanges(),M="",O="",$="",D=m.getTabString(),N=0;N<E.length;N++)for(var F=E[N].start.row,z=E[N].end.row,P=F;P<=z;P++){P>0&&(M=m.getState(P-1),O=m.getLine(P-1),$=A.getNextLineIndent(M,O,D));var j=m.getLine(P),G=A.$getIndent(j);if($!==G){if(G.length>0){var H=new v(P,0,P,G.length);m.remove(H)}$.length>0&&m.insert({row:P,column:0},$)}A.autoOutdent(M,m,P)}},w.prototype.onTextInput=function(m,A){if(!A)return this.keyBinding.onTextInput(m);this.startOperation({command:{name:"insertstring"}});var E=this.applyComposition.bind(this,m,A);this.selection.rangeCount?this.forEachSelection(E):E(),this.endOperation()},w.prototype.applyComposition=function(m,A){if(A.extendLeft||A.extendRight){var E=this.selection.getRange();E.start.column-=A.extendLeft,E.end.column+=A.extendRight,E.start.column<0&&(E.start.row--,E.start.column+=this.session.getLine(E.start.row).length+1),this.selection.setRange(E),!m&&!E.isEmpty()&&this.remove()}if((m||!this.selection.isEmpty())&&this.insert(m,!0),A.restoreStart||A.restoreEnd){var E=this.selection.getRange();E.start.column-=A.restoreStart,E.end.column-=A.restoreEnd,this.selection.setRange(E)}},w.prototype.onCommandKey=function(m,A,E){return this.keyBinding.onCommandKey(m,A,E)},w.prototype.setOverwrite=function(m){this.session.setOverwrite(m)},w.prototype.getOverwrite=function(){return this.session.getOverwrite()},w.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},w.prototype.setScrollSpeed=function(m){this.setOption("scrollSpeed",m)},w.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},w.prototype.setDragDelay=function(m){this.setOption("dragDelay",m)},w.prototype.getDragDelay=function(){return this.getOption("dragDelay")},w.prototype.setSelectionStyle=function(m){this.setOption("selectionStyle",m)},w.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},w.prototype.setHighlightActiveLine=function(m){this.setOption("highlightActiveLine",m)},w.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},w.prototype.setHighlightGutterLine=function(m){this.setOption("highlightGutterLine",m)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.setHighlightSelectedWord=function(m){this.setOption("highlightSelectedWord",m)},w.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},w.prototype.setAnimatedScroll=function(m){this.renderer.setAnimatedScroll(m)},w.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},w.prototype.setShowInvisibles=function(m){this.renderer.setShowInvisibles(m)},w.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},w.prototype.setDisplayIndentGuides=function(m){this.renderer.setDisplayIndentGuides(m)},w.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},w.prototype.setHighlightIndentGuides=function(m){this.renderer.setHighlightIndentGuides(m)},w.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},w.prototype.setShowPrintMargin=function(m){this.renderer.setShowPrintMargin(m)},w.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},w.prototype.setPrintMarginColumn=function(m){this.renderer.setPrintMarginColumn(m)},w.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},w.prototype.setReadOnly=function(m){this.setOption("readOnly",m)},w.prototype.getReadOnly=function(){return this.getOption("readOnly")},w.prototype.setBehavioursEnabled=function(m){this.setOption("behavioursEnabled",m)},w.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},w.prototype.setWrapBehavioursEnabled=function(m){this.setOption("wrapBehavioursEnabled",m)},w.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},w.prototype.setShowFoldWidgets=function(m){this.setOption("showFoldWidgets",m)},w.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},w.prototype.setFadeFoldWidgets=function(m){this.setOption("fadeFoldWidgets",m)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.remove=function(m){this.selection.isEmpty()&&(m=="left"?this.selection.selectLeft():this.selection.selectRight());var A=this.getSelectionRange();if(this.getBehavioursEnabled()){var E=this.session,M=E.getState(A.start.row),O=E.getMode().transformAction(M,"deletion",this,E,A);if(A.end.column===0){var $=E.getTextRange(A);if($[$.length-1]==`
`){var D=E.getLine(A.end.row);/^\s+$/.test(D)&&(A.end.column=D.length)}}O&&(A=O)}this.session.remove(A),this.clearSelection()},w.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},w.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var m=this.getSelectionRange();m.start.column==m.end.column&&m.start.row==m.end.row&&(m.end.column=0,m.end.row++),this.session.remove(m),this.clearSelection()},w.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var m=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(m)},w.prototype.setGhostText=function(m,A){this.renderer.setGhostText(m,A)},w.prototype.removeGhostText=function(){this.renderer.removeGhostText()},w.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var m=this.getCursorPosition(),A=m.column;if(A!==0){var E=this.session.getLine(m.row),M,O;A<E.length?(M=E.charAt(A)+E.charAt(A-1),O=new v(m.row,A-1,m.row,A+1)):(M=E.charAt(A-1)+E.charAt(A-2),O=new v(m.row,A-2,m.row,A)),this.session.replace(O,M),this.session.selection.moveToPosition(O.end)}}},w.prototype.toLowerCase=function(){var m=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var A=this.getSelectionRange(),E=this.session.getTextRange(A);this.session.replace(A,E.toLowerCase()),this.selection.setSelectionRange(m)},w.prototype.toUpperCase=function(){var m=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var A=this.getSelectionRange(),E=this.session.getTextRange(A);this.session.replace(A,E.toUpperCase()),this.selection.setSelectionRange(m)},w.prototype.indent=function(){var m=this.session,A=this.getSelectionRange();if(A.start.row<A.end.row){var E=this.$getSelectedRows();m.indentRows(E.first,E.last,"	");return}else if(A.start.column<A.end.column){var M=m.getTextRange(A);if(!/^\s+$/.test(M)){var E=this.$getSelectedRows();m.indentRows(E.first,E.last,"	");return}}var O=m.getLine(A.start.row),$=A.start,D=m.getTabSize(),N=m.documentToScreenColumn($.row,$.column);if(this.session.getUseSoftTabs())var F=D-N%D,z=s.stringRepeat(" ",F);else{for(var F=N%D;O[A.start.column-1]==" "&&F;)A.start.column--,F--;this.selection.setSelectionRange(A),z="	"}return this.insert(z)},w.prototype.blockIndent=function(){var m=this.$getSelectedRows();this.session.indentRows(m.first,m.last,"	")},w.prototype.blockOutdent=function(){var m=this.session.getSelection();this.session.outdentRows(m.getRange())},w.prototype.sortLines=function(){for(var m=this.$getSelectedRows(),A=this.session,E=[],M=m.first;M<=m.last;M++)E.push(A.getLine(M));E.sort(function(D,N){return D.toLowerCase()<N.toLowerCase()?-1:D.toLowerCase()>N.toLowerCase()?1:0});for(var O=new v(0,0,0,0),M=m.first;M<=m.last;M++){var $=A.getLine(M);O.start.row=M,O.end.row=M,O.end.column=$.length,A.replace(O,E[M-m.first])}},w.prototype.toggleCommentLines=function(){var m=this.session.getState(this.getCursorPosition().row),A=this.$getSelectedRows();this.session.getMode().toggleCommentLines(m,this.session,A.first,A.last)},w.prototype.toggleBlockComment=function(){var m=this.getCursorPosition(),A=this.session.getState(m.row),E=this.getSelectionRange();this.session.getMode().toggleBlockComment(A,this.session,E,m)},w.prototype.getNumberAt=function(m,A){var E=/[\-]?[0-9]+(?:\.[0-9]+)?/g;E.lastIndex=0;for(var M=this.session.getLine(m);E.lastIndex<A;){var O=E.exec(M);if(O.index<=A&&O.index+O[0].length>=A){var $={value:O[0],start:O.index,end:O.index+O[0].length};return $}}return null},w.prototype.modifyNumber=function(m){var A=this.selection.getCursor().row,E=this.selection.getCursor().column,M=new v(A,E-1,A,E),O=this.session.getTextRange(M);if(!isNaN(parseFloat(O))&&isFinite(O)){var $=this.getNumberAt(A,E);if($){var D=$.value.indexOf(".")>=0?$.start+$.value.indexOf(".")+1:$.end,N=$.start+$.value.length-D,F=parseFloat($.value);F*=Math.pow(10,N),D!==$.end&&E<D?m*=Math.pow(10,$.end-E-1):m*=Math.pow(10,$.end-E),F+=m,F/=Math.pow(10,N);var z=F.toFixed(N),P=new v(A,$.start,A,$.end);this.session.replace(P,z),this.moveCursorTo(A,Math.max($.start+1,E+z.length-$.value.length))}}else this.toggleWord()},w.prototype.toggleWord=function(){var m=this.selection.getCursor().row,A=this.selection.getCursor().column;this.selection.selectWord();var E=this.getSelectedText(),M=this.selection.getWordRange().start.column,O=E.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),$=A-M-1;$<0&&($=0);var D=0,N=0,F=this;E.match(/[A-Za-z0-9_]+/)&&O.forEach(function(J,ne){N=D+J.length,$>=D&&$<=N&&(E=J,F.selection.clearSelection(),F.moveCursorTo(m,D+M),F.selection.selectTo(m,N+M)),D=N});for(var z=this.$toggleWordPairs,P,j=0;j<z.length;j++)for(var G=z[j],H=0;H<=1;H++){var W=+!H,Y=E.match(new RegExp("^\\s?_?("+s.escapeRegExp(G[H])+")\\s?$","i"));if(Y){var q=E.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(Y[1])+")($|\\s)","g"));q&&(P=E.replace(new RegExp(s.escapeRegExp(G[H]),"i"),function(J){var ne=G[W];return J.toUpperCase()==J?ne=ne.toUpperCase():J.charAt(0).toUpperCase()==J.charAt(0)&&(ne=ne.substr(0,0)+G[W].charAt(0).toUpperCase()+ne.substr(1)),ne}),this.insert(P),P="")}}},w.prototype.findLinkAt=function(m,A){var E,M,O=this.session.getLine(m),$=O.split(/((?:https?|ftp):\/\/[\S]+)/),D=A;D<0&&(D=0);var N=0,F=0,z;try{for(var P=l($),j=P.next();!j.done;j=P.next()){var G=j.value;if(F=N+G.length,D>=N&&D<=F&&G.match(/((?:https?|ftp):\/\/[\S]+)/)){z=G.replace(/[\s:.,'";}\]]+$/,"");break}N=F}}catch(H){E={error:H}}finally{try{j&&!j.done&&(M=P.return)&&M.call(P)}finally{if(E)throw E.error}}return z},w.prototype.openLink=function(){var m=this.selection.getCursor(),A=this.findLinkAt(m.row,m.column);return A&&window.open(A,"_blank"),A!=null},w.prototype.removeLines=function(){var m=this.$getSelectedRows();this.session.removeFullLines(m.first,m.last),this.clearSelection()},w.prototype.duplicateSelection=function(){var m=this.selection,A=this.session,E=m.getRange(),M=m.isBackwards();if(E.isEmpty()){var O=E.start.row;A.duplicateLines(O,O)}else{var $=M?E.start:E.end,D=A.insert($,A.getTextRange(E));E.start=$,E.end=D,m.setSelectionRange(E,M)}},w.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},w.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},w.prototype.moveText=function(m,A,E){return this.session.moveText(m,A,E)},w.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},w.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},w.prototype.$moveLines=function(m,A){var E,M,O=this.selection;if(!O.inMultiSelectMode||this.inVirtualSelectionMode){var $=O.toOrientedRange();E=this.$getSelectedRows($),M=this.session.$moveLines(E.first,E.last,A?0:m),A&&m==-1&&(M=0),$.moveBy(M,0),O.fromOrientedRange($)}else{var D=O.rangeList.ranges;O.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var N=0,F=0,z=D.length,P=0;P<z;P++){var j=P;D[P].moveBy(N,0),E=this.$getSelectedRows(D[P]);for(var G=E.first,H=E.last;++P<z;){F&&D[P].moveBy(F,0);var W=this.$getSelectedRows(D[P]);if(A&&W.first!=H)break;if(!A&&W.first>H+1)break;H=W.last}for(P--,N=this.session.$moveLines(G,H,A?0:m),A&&m==-1&&(j=P+1);j<=P;)D[j].moveBy(N,0),j++;A||(N=0),F+=N}O.fromOrientedRange(O.ranges[0]),O.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},w.prototype.$getSelectedRows=function(m){return m=(m||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(m.start.row),last:this.session.getRowFoldEnd(m.end.row)}},w.prototype.onCompositionStart=function(m){this.renderer.showComposition(m)},w.prototype.onCompositionUpdate=function(m){this.renderer.setCompositionText(m)},w.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},w.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},w.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},w.prototype.isRowVisible=function(m){return m>=this.getFirstVisibleRow()&&m<=this.getLastVisibleRow()},w.prototype.isRowFullyVisible=function(m){return m>=this.renderer.getFirstFullyVisibleRow()&&m<=this.renderer.getLastFullyVisibleRow()},w.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},w.prototype.$moveByPage=function(m,A){var E=this.renderer,M=this.renderer.layerConfig,O=m*Math.floor(M.height/M.lineHeight);A===!0?this.selection.$moveSelection(function(){this.moveCursorBy(O,0)}):A===!1&&(this.selection.moveCursorBy(O,0),this.selection.clearSelection());var $=E.scrollTop;E.scrollBy(0,O*M.lineHeight),A!=null&&E.scrollCursorIntoView(null,.5),E.animateScrolling($)},w.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},w.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},w.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},w.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},w.prototype.scrollPageDown=function(){this.$moveByPage(1)},w.prototype.scrollPageUp=function(){this.$moveByPage(-1)},w.prototype.scrollToRow=function(m){this.renderer.scrollToRow(m)},w.prototype.scrollToLine=function(m,A,E,M){this.renderer.scrollToLine(m,A,E,M)},w.prototype.centerSelection=function(){var m=this.getSelectionRange(),A={row:Math.floor(m.start.row+(m.end.row-m.start.row)/2),column:Math.floor(m.start.column+(m.end.column-m.start.column)/2)};this.renderer.alignCursor(A,.5)},w.prototype.getCursorPosition=function(){return this.selection.getCursor()},w.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},w.prototype.getSelectionRange=function(){return this.selection.getRange()},w.prototype.selectAll=function(){this.selection.selectAll()},w.prototype.clearSelection=function(){this.selection.clearSelection()},w.prototype.moveCursorTo=function(m,A){this.selection.moveCursorTo(m,A)},w.prototype.moveCursorToPosition=function(m){this.selection.moveCursorToPosition(m)},w.prototype.jumpToMatching=function(m,A){var E=this.getCursorPosition(),M=new C(this.session,E.row,E.column),O=M.getCurrentToken(),$=0;O&&O.type.indexOf("tag-name")!==-1&&(O=M.stepBackward());var D=O||M.stepForward();if(D){var N,F=!1,z={},P=E.column-D.start,j,G={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(D.value.match(/[{}()\[\]]/g)){for(;P<D.value.length&&!F;P++)if(G[D.value[P]])switch(j=G[D.value[P]]+"."+D.type.replace("rparen","lparen"),isNaN(z[j])&&(z[j]=0),D.value[P]){case"(":case"[":case"{":z[j]++;break;case")":case"]":case"}":z[j]--,z[j]===-1&&(N="bracket",F=!0);break}}else D.type.indexOf("tag-name")!==-1&&(isNaN(z[D.value])&&(z[D.value]=0),O.value==="<"&&$>1?z[D.value]++:O.value==="</"&&z[D.value]--,z[D.value]===-1&&(N="tag",F=!0));F||(O=D,$++,D=M.stepForward(),P=0)}while(D&&!F);if(N){var H,W;if(N==="bracket")H=this.session.getBracketRange(E),H||(H=new v(M.getCurrentTokenRow(),M.getCurrentTokenColumn()+P-1,M.getCurrentTokenRow(),M.getCurrentTokenColumn()+P-1),W=H.start,(A||W.row===E.row&&Math.abs(W.column-E.column)<2)&&(H=this.session.getBracketRange(W)));else if(N==="tag"){if(!D||D.type.indexOf("tag-name")===-1)return;if(H=new v(M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2,M.getCurrentTokenRow(),M.getCurrentTokenColumn()-2),H.compare(E.row,E.column)===0){var Y=this.session.getMatchingTags(E);Y&&(Y.openTag.contains(E.row,E.column)?(H=Y.closeTag,W=H.start):(H=Y.openTag,Y.closeTag.start.row===E.row&&Y.closeTag.start.column===E.column?W=H.end:W=H.start))}W=W||H.start}W=H&&H.cursor||W,W&&(m?H&&A?this.selection.setRange(H):H&&H.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(W.row,W.column):this.selection.moveTo(W.row,W.column))}}},w.prototype.gotoLine=function(m,A,E){this.selection.clearSelection(),this.session.unfold({row:m-1,column:A||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(m-1,A||0),this.isRowFullyVisible(m-1)||this.scrollToLine(m-1,!0,E)},w.prototype.navigateTo=function(m,A){this.selection.moveTo(m,A)},w.prototype.navigateUp=function(m){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var A=this.selection.anchor.getPosition();return this.moveCursorToPosition(A)}this.selection.clearSelection(),this.selection.moveCursorBy(-m||-1,0)},w.prototype.navigateDown=function(m){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var A=this.selection.anchor.getPosition();return this.moveCursorToPosition(A)}this.selection.clearSelection(),this.selection.moveCursorBy(m||1,0)},w.prototype.navigateLeft=function(m){if(this.selection.isEmpty())for(m=m||1;m--;)this.selection.moveCursorLeft();else{var A=this.getSelectionRange().start;this.moveCursorToPosition(A)}this.clearSelection()},w.prototype.navigateRight=function(m){if(this.selection.isEmpty())for(m=m||1;m--;)this.selection.moveCursorRight();else{var A=this.getSelectionRange().end;this.moveCursorToPosition(A)}this.clearSelection()},w.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},w.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},w.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},w.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},w.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},w.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},w.prototype.replace=function(m,A){A&&this.$search.set(A);var E=this.$search.find(this.session),M=0;return E&&(this.$tryReplace(E,m)&&(M=1),this.selection.setSelectionRange(E),this.renderer.scrollSelectionIntoView(E.start,E.end)),M},w.prototype.replaceAll=function(m,A){A&&this.$search.set(A);var E=this.$search.findAll(this.session),M=0;if(!E.length)return M;var O=this.getSelectionRange();this.selection.moveTo(0,0);for(var $=E.length-1;$>=0;--$)this.$tryReplace(E[$],m)&&M++;return this.selection.setSelectionRange(O),M},w.prototype.$tryReplace=function(m,A){var E=this.session.getTextRange(m);return A=this.$search.replace(E,A),A!==null?(m.end=this.session.replace(m,A),m):null},w.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},w.prototype.find=function(m,A,E){A||(A={}),typeof m=="string"||m instanceof RegExp?A.needle=m:typeof m=="object"&&d.mixin(A,m);var M=this.selection.getRange();A.needle==null&&(m=this.session.getTextRange(M)||this.$search.$options.needle,m||(M=this.session.getWordRange(M.start.row,M.start.column),m=this.session.getTextRange(M)),this.$search.set({needle:m})),this.$search.set(A),A.start||this.$search.set({start:M});var O=this.$search.find(this.session);if(A.preventScroll)return O;if(O)return this.revealRange(O,E),O;A.backwards?M.start=M.end:M.end=M.start,this.selection.setRange(M)},w.prototype.findNext=function(m,A){this.find({skipCurrent:!0,backwards:!1},m,A)},w.prototype.findPrevious=function(m,A){this.find(m,{skipCurrent:!0,backwards:!0},A)},w.prototype.revealRange=function(m,A){this.session.unfold(m),this.selection.setSelectionRange(m);var E=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(m.start,m.end,.5),A!==!1&&this.renderer.animateScrolling(E)},w.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},w.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(m){m.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},w.prototype.setAutoScrollEditorIntoView=function(m){if(m){var A,E=this,M=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var O=this.$scrollAnchor;O.style.cssText="position:absolute",this.container.insertBefore(O,this.container.firstChild);var $=this.on("changeSelection",function(){M=!0}),D=this.renderer.on("beforeRender",function(){M&&(A=E.renderer.container.getBoundingClientRect())}),N=this.renderer.on("afterRender",function(){if(M&&A&&(E.isFocused()||E.searchBox&&E.searchBox.isFocused())){var F=E.renderer,z=F.$cursorLayer.$pixelPos,P=F.layerConfig,j=z.top-P.offset;z.top>=0&&j+A.top<0?M=!0:z.top<P.height&&z.top+A.top+P.lineHeight>window.innerHeight?M=!1:M=null,M!=null&&(O.style.top=j+"px",O.style.left=z.left+"px",O.style.height=P.lineHeight+"px",O.scrollIntoView(M)),M=A=null}});this.setAutoScrollEditorIntoView=function(F){F||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",$),this.renderer.off("afterRender",N),this.renderer.off("beforeRender",D))}}},w.prototype.$resetCursorStyle=function(){var m=this.$cursorStyle||"ace",A=this.renderer.$cursorLayer;A&&(A.setSmoothBlinking(/smooth/.test(m)),A.isBlinking=!this.$readOnly&&m!="wide",g.setCssClass(A.element,"ace_slim-cursors",/slim/.test(m)))},w.prototype.prompt=function(m,A,E){var M=this;x.loadModule("ace/ext/prompt",function(O){O.prompt(M,m,A,E)})},w}();k.$uid=0,k.prototype.curOp=null,k.prototype.prevOp={},k.prototype.$mergeableCommands=["backspace","del","insertstring"],k.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],d.implement(k.prototype,b),x.defineOptions(k.prototype,"editor",{selectionStyle:{set:function(w){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:w})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(w){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(w){this.textInput.setReadOnly(w),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(w){this.textInput.setCopyWithEmptySelection(w)},initialValue:!1},cursorStyle:{set:function(w){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(w){this.setAutoScrollEditorIntoView(w)}},keyboardHandler:{set:function(w){this.setKeyboardHandler(w)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(w){this.session.setValue(w)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(w){this.setSession(w)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(w){this.renderer.$gutterLayer.setShowLineNumbers(w),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),w&&this.$relativeLineNumbers?I.attach(this):I.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(w){this.$showLineNumbers&&w?I.attach(this):I.detach(this)}},placeholder:{set:function(w){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var m=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(m&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),g.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!m&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),g.addCssClass(this.container,"ace_hasPlaceholder");var A=g.createElement("div");A.className="ace_placeholder",A.textContent=this.$placeholder||"",this.renderer.placeholderNode=A,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!m&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(w){var m={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(M){M.blur(),M.renderer.scroller.focus()},readOnly:!0},A=function(M){if(M.target==this.renderer.scroller&&M.keyCode===_.enter){M.preventDefault();var O=this.getCursorPosition().row;this.isRowVisible(O)||this.scrollToLine(O,!0,!0),this.focus()}},E;w?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(p.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",T("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",T("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",A.bind(this)),this.commands.addCommand(m),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",T("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",T("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),E||(E=new y(this)),E.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",A.bind(this)),this.commands.removeCommand(m),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),E&&E.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(w){this.$textInputAriaLabel=w},initialValue:""},enableMobileMenu:{set:function(w){this.$enableMobileMenu=w},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var I={getText:function(w,m){return(Math.abs(w.selection.lead.row-m)||m+1+(m<9?"":""))+""},getWidth:function(w,m,A){return Math.max(m.toString().length,(A.lastRow+1).toString().length,2)*A.characterWidth},update:function(w,m){m.renderer.$loop.schedule(m.renderer.CHANGE_GUTTER)},attach:function(w){w.renderer.$gutterLayer.$renderer=this,w.on("changeSelection",this.update),this.update(null,w)},detach:function(w){w.renderer.$gutterLayer.$renderer==this&&(w.renderer.$gutterLayer.$renderer=null),w.off("changeSelection",this.update),this.update(null,w)}};i.Editor=k}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(t,i,r){var l=t("../lib/dom"),d=function(){function g(s,p){this.element=s,this.canvasHeight=p||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return g.prototype.moveContainer=function(s){l.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},g.prototype.pageChanged=function(s,p){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(p.firstRowScreen*p.lineHeight/this.canvasHeight)},g.prototype.computeLineTop=function(s,p,o){var a=p.firstRowScreen*p.lineHeight,u=Math.floor(a/this.canvasHeight),c=o.documentToScreenRow(s,0)*p.lineHeight;return c-u*this.canvasHeight},g.prototype.computeLineHeight=function(s,p,o){return p.lineHeight*o.getRowLineCount(s)},g.prototype.getLength=function(){return this.cells.length},g.prototype.get=function(s){return this.cells[s]},g.prototype.shift=function(){this.$cacheCell(this.cells.shift())},g.prototype.pop=function(){this.$cacheCell(this.cells.pop())},g.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var p=l.createFragment(this.element),o=0;o<s.length;o++)p.appendChild(s[o].element);this.element.appendChild(p)}else this.cells.push(s),this.element.appendChild(s.element)},g.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var p=l.createFragment(this.element),o=0;o<s.length;o++)p.appendChild(s[o].element);this.element.firstChild?this.element.insertBefore(p,this.element.firstChild):this.element.appendChild(p)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},g.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},g.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},g.prototype.createCell=function(s,p,o,a){var u=this.cellCache.pop();if(!u){var c=l.createElement("div");a&&a(c),this.element.appendChild(c),u={element:c,text:"",row:s}}return u.row=s,u},g}();i.Lines=d}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(t,i,r){var l=t("../lib/dom"),d=t("../lib/oop"),g=t("../lib/lang"),s=t("../lib/event_emitter").EventEmitter,p=t("./lines").Lines,o=t("../config").nls,a=function(){function c(h){this.element=l.createElement("div"),this.element.className="ace_layer ace_gutter-layer",h.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new p(this.element),this.$lines.$offsetCoefficient=1}return c.prototype.setSession=function(h){this.session&&this.session.off("change",this.$updateAnnotations),this.session=h,h&&h.on("change",this.$updateAnnotations)},c.prototype.addGutterDecoration=function(h,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(h,f)},c.prototype.removeGutterDecoration=function(h,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(h,f)},c.prototype.setAnnotations=function(h){this.$annotations=[];for(var f=0;f<h.length;f++){var v=h[f],b=v.row,S=this.$annotations[b];S||(S=this.$annotations[b]={text:[],type:[],displayText:[]});var R=v.text,x=v.text,C=v.type;R=R?g.escapeHTML(R):v.html||"",x=x||v.html||"",S.text.indexOf(R)===-1&&(S.text.push(R),S.type.push(C),S.displayText.push(x));var y=v.className;y?S.className=y:C==="error"?S.className=" ace_error":C==="security"&&!/\bace_error\b/.test(S.className)?S.className=" ace_security":C==="warning"&&!/\bace_(error|security)\b/.test(S.className)?S.className=" ace_warning":C==="info"&&!S.className?S.className=" ace_info":C==="hint"&&!S.className&&(S.className=" ace_hint")}},c.prototype.$updateAnnotations=function(h){if(this.$annotations.length){var f=h.start.row,v=h.end.row-f;if(v!==0)if(h.action=="remove")this.$annotations.splice(f,v+1,null);else{var b=new Array(v+1);b.unshift(f,1),this.$annotations.splice.apply(this.$annotations,b)}}},c.prototype.update=function(h){this.config=h;var f=this.session,v=h.firstRow,b=Math.min(h.lastRow+h.gutterOffset,f.getLength()-1);this.oldLastRow=b,this.config=h,this.$lines.moveContainer(h),this.$updateCursorRow();for(var S=f.getNextFoldLine(v),R=S?S.start.row:1/0,x=null,C=-1,y=v;;){if(y>R&&(y=S.end.row+1,S=f.getNextFoldLine(y,S),R=S?S.start.row:1/0),y>b){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}x=this.$lines.get(++C),x?x.row=y:(x=this.$lines.createCell(y,h,this.session,u),this.$lines.push(x)),this.$renderCell(x,h,S,y),y++}this._signal("afterRender"),this.$updateGutterWidth(h)},c.prototype.$updateGutterWidth=function(h){var f=this.session,v=f.gutterRenderer||this.$renderer,b=f.$firstLineNumber,S=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||f.$useWrapMode)&&(S=f.getLength()+b-1);var R=v?v.getWidth(f,S,h):S.toString().length*h.characterWidth,x=this.$padding||this.$computePadding();R+=x.left+x.right,R!==this.gutterWidth&&!isNaN(R)&&(this.gutterWidth=R,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",R))},c.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var h=this.session.selection.getCursor();this.$cursorRow!==h.row&&(this.$cursorRow=h.row)}},c.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var h=this.session.selection.cursor.row;if(this.$cursorRow=h,!(this.$cursorCell&&this.$cursorCell.row==h)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var f=this.$lines.cells;this.$cursorCell=null;for(var v=0;v<f.length;v++){var b=f[v];if(b.row>=this.$cursorRow){if(b.row>this.$cursorRow){var S=this.session.getFoldLine(this.$cursorRow);if(v>0&&S&&S.start.row==f[v-1].row)b=f[v-1];else break}b.element.className="ace_gutter-active-line "+b.element.className,this.$cursorCell=b;break}}}}},c.prototype.scrollLines=function(h){var f=this.config;if(this.config=h,this.$updateCursorRow(),this.$lines.pageChanged(f,h))return this.update(h);this.$lines.moveContainer(h);var v=Math.min(h.lastRow+h.gutterOffset,this.session.getLength()-1),b=this.oldLastRow;if(this.oldLastRow=v,!f||b<h.firstRow)return this.update(h);if(v<f.firstRow)return this.update(h);if(f.firstRow<h.firstRow)for(var S=this.session.getFoldedRowCount(f.firstRow,h.firstRow-1);S>0;S--)this.$lines.shift();if(b>v)for(var S=this.session.getFoldedRowCount(v+1,b);S>0;S--)this.$lines.pop();h.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLines(h,h.firstRow,f.firstRow-1)),v>b&&this.$lines.push(this.$renderLines(h,b+1,v)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(h)},c.prototype.$renderLines=function(h,f,v){for(var b=[],S=f,R=this.session.getNextFoldLine(S),x=R?R.start.row:1/0;S>x&&(S=R.end.row+1,R=this.session.getNextFoldLine(S,R),x=R?R.start.row:1/0),!(S>v);){var C=this.$lines.createCell(S,h,this.session,u);this.$renderCell(C,h,R,S),b.push(C),S++}return b},c.prototype.$renderCell=function(h,f,v,b){var S=h.element,R=this.session,x=S.childNodes[0],C=S.childNodes[1],y=S.childNodes[2],T=y.firstChild,L=R.$firstLineNumber,_=R.$breakpoints,k=R.$decorations,I=R.gutterRenderer||this.$renderer,w=this.$showFoldWidgets&&R.foldWidgets,m=v?v.start.row:Number.MAX_VALUE,A=f.lineHeight+"px",E=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",M=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",O=(I?I.getText(R,b):b+L).toString();if(this.$highlightGutterLine&&(b==this.$cursorRow||v&&b<this.$cursorRow&&b>=m&&this.$cursorRow<=v.end.row)&&(E+="ace_gutter-active-line ",this.$cursorCell!=h&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=h)),_[b]&&(E+=_[b]),k[b]&&(E+=k[b]),this.$annotations[b]&&b!==m&&(E+=this.$annotations[b].className),w){var $=w[b];$==null&&($=w[b]=R.getFoldWidget(b))}if($){var D="ace_fold-widget ace_"+$,N=$=="start"&&b==m&&b<v.end.row;if(N){D+=" ace_closed";for(var F="",z=!1,P=b+1;P<=v.end.row;P++)if(this.$annotations[P]){if(this.$annotations[P].className===" ace_error"){z=!0,F=" ace_error_fold";break}this.$annotations[P].className===" ace_security"?(z=!0,F=" ace_security_fold"):this.$annotations[P].className===" ace_warning"&&F!==" ace_security_fold"&&(z=!0,F=" ace_warning_fold")}E+=F}else D+=" ace_open";C.className!=D&&(C.className=D),l.setStyle(C.style,"height",A),l.setStyle(C.style,"display","inline-block"),C.setAttribute("role","button"),C.setAttribute("tabindex","-1");var j=R.getFoldWidgetRange(b);j?C.setAttribute("aria-label",o("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[j.start.row+1,j.end.row+1])):v?C.setAttribute("aria-label",o("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[v.start.row+1,v.end.row+1])):C.setAttribute("aria-label",o("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[b+1])),N?(C.setAttribute("aria-expanded","false"),C.setAttribute("title",o("gutter.code-folding.closed.title","Unfold code"))):(C.setAttribute("aria-expanded","true"),C.setAttribute("title",o("gutter.code-folding.open.title","Fold code")))}else C&&(l.setStyle(C.style,"display","none"),C.setAttribute("tabindex","0"),C.removeAttribute("role"),C.removeAttribute("aria-label"));if(z&&this.$showFoldedAnnotations){y.className="ace_gutter_annotation",T.className=M,T.className+=F,l.setStyle(T.style,"height",A),l.setStyle(y.style,"display","block"),l.setStyle(y.style,"height",A);var G;switch(F){case" ace_error_fold":G=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security_fold":G=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning_fold":G=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break}y.setAttribute("aria-label",G),y.setAttribute("tabindex","-1"),y.setAttribute("role","button")}else if(this.$annotations[b]){y.className="ace_gutter_annotation",T.className=M,this.$useSvgGutterIcons?T.className+=this.$annotations[b].className:S.classList.add(this.$annotations[b].className.replace(" ","")),l.setStyle(T.style,"height",A),l.setStyle(y.style,"display","block"),l.setStyle(y.style,"height",A);var G;switch(this.$annotations[b].className){case" ace_error":G=o("gutter.annotation.aria-label.error","Error, read annotations row $0",[O]);break;case" ace_security":G=o("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[O]);break;case" ace_warning":G=o("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[O]);break;case" ace_info":G=o("gutter.annotation.aria-label.info","Info, read annotations row $0",[O]);break;case" ace_hint":G=o("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[O]);break}y.setAttribute("aria-label",G),y.setAttribute("tabindex","-1"),y.setAttribute("role","button")}else l.setStyle(y.style,"display","none"),y.removeAttribute("aria-label"),y.removeAttribute("role"),y.setAttribute("tabindex","0");return O!==x.data&&(x.data=O),S.className!=E&&(S.className=E),l.setStyle(h.element.style,"height",this.$lines.computeLineHeight(b,f,R)+"px"),l.setStyle(h.element.style,"top",this.$lines.computeLineTop(b,f,R)+"px"),h.text=O,y.style.display==="none"&&C.style.display==="none"?h.element.setAttribute("aria-hidden",!0):h.element.setAttribute("aria-hidden",!1),h},c.prototype.setHighlightGutterLine=function(h){this.$highlightGutterLine=h},c.prototype.setShowLineNumbers=function(h){this.$renderer=!h&&{getWidth:function(){return 0},getText:function(){return""}}},c.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},c.prototype.setShowFoldWidgets=function(h){h?l.addCssClass(this.element,"ace_folding-enabled"):l.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=h,this.$padding=null},c.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},c.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var h=l.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(h.borderLeftWidth)||0)+(parseInt(h.paddingLeft)||0)+1,this.$padding.right=(parseInt(h.borderRightWidth)||0)+(parseInt(h.paddingRight)||0),this.$padding},c.prototype.getRegion=function(h){var f=this.$padding||this.$computePadding(),v=this.element.getBoundingClientRect();if(h.x<f.left+v.left)return"markers";if(this.$showFoldWidgets&&h.x>v.right-f.right)return"foldWidgets"},c}();a.prototype.$fixedWidth=!1,a.prototype.$highlightGutterLine=!0,a.prototype.$renderer="",a.prototype.$showLineNumbers=!0,a.prototype.$showFoldWidgets=!0,d.implement(a.prototype,s);function u(c){var h=document.createTextNode("");c.appendChild(h);var f=l.createElement("span");c.appendChild(f);var v=l.createElement("span");c.appendChild(v);var b=l.createElement("span");return v.appendChild(b),c}i.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(t,i,r){var l=t("../range").Range,d=t("../lib/dom"),g=function(){function p(o){this.element=d.createElement("div"),this.element.className="ace_layer ace_marker-layer",o.appendChild(this.element)}return p.prototype.setPadding=function(o){this.$padding=o},p.prototype.setSession=function(o){this.session=o},p.prototype.setMarkers=function(o){this.markers=o},p.prototype.elt=function(o,a){var u=this.i!=-1&&this.element.childNodes[this.i];u?this.i++:(u=document.createElement("div"),this.element.appendChild(u),this.i=-1),u.style.cssText=a,u.className=o},p.prototype.update=function(o){if(o){this.config=o,this.i=0;var a;for(var u in this.markers){var c=this.markers[u];if(!c.range){c.update(a,this,this.session,o);continue}var h=c.range.clipRows(o.firstRow,o.lastRow);if(!h.isEmpty())if(h=h.toScreenRange(this.session),c.renderer){var f=this.$getTop(h.start.row,o),v=this.$padding+h.start.column*o.characterWidth;c.renderer(a,h,v,f,o)}else c.type=="fullLine"?this.drawFullLineMarker(a,h,c.clazz,o):c.type=="screenLine"?this.drawScreenLineMarker(a,h,c.clazz,o):h.isMultiLine()?c.type=="text"?this.drawTextMarker(a,h,c.clazz,o):this.drawMultiLineMarker(a,h,c.clazz,o):this.drawSingleLineMarker(a,h,c.clazz+" ace_start ace_br15",o)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},p.prototype.$getTop=function(o,a){return(o-a.firstRowScreen)*a.lineHeight},p.prototype.drawTextMarker=function(o,a,u,c,h){for(var f=this.session,v=a.start.row,b=a.end.row,S=v,R=0,x=0,C=f.getScreenLastRowColumn(S),y=new l(S,a.start.column,S,x);S<=b;S++)y.start.row=y.end.row=S,y.start.column=S==v?a.start.column:f.getRowWrapIndent(S),y.end.column=C,R=x,x=C,C=S+1<b?f.getScreenLastRowColumn(S+1):S==b?0:a.end.column,this.drawSingleLineMarker(o,y,u+(S==v?" ace_start":"")+" ace_br"+s(S==v||S==v+1&&a.start.column,R<x,x>C,S==b),c,S==b?0:1,h)},p.prototype.drawMultiLineMarker=function(o,a,u,c,h){var f=this.$padding,v=c.lineHeight,b=this.$getTop(a.start.row,c),S=f+a.start.column*c.characterWidth;if(h=h||"",this.session.$bidiHandler.isBidiRow(a.start.row)){var R=a.clone();R.end.row=R.start.row,R.end.column=this.session.getLine(R.start.row).length,this.drawBidiSingleLineMarker(o,R,u+" ace_br1 ace_start",c,null,h)}else this.elt(u+" ace_br1 ace_start","height:"+v+"px;right:"+f+"px;top:"+b+"px;left:"+S+"px;"+(h||""));if(this.session.$bidiHandler.isBidiRow(a.end.row)){var R=a.clone();R.start.row=R.end.row,R.start.column=0,this.drawBidiSingleLineMarker(o,R,u+" ace_br12",c,null,h)}else{b=this.$getTop(a.end.row,c);var x=a.end.column*c.characterWidth;this.elt(u+" ace_br12","height:"+v+"px;width:"+x+"px;top:"+b+"px;left:"+f+"px;"+(h||""))}if(v=(a.end.row-a.start.row-1)*c.lineHeight,!(v<=0)){b=this.$getTop(a.start.row+1,c);var C=(a.start.column?1:0)|(a.end.column?0:8);this.elt(u+(C?" ace_br"+C:""),"height:"+v+"px;right:"+f+"px;top:"+b+"px;left:"+f+"px;"+(h||""))}},p.prototype.drawSingleLineMarker=function(o,a,u,c,h,f){if(this.session.$bidiHandler.isBidiRow(a.start.row))return this.drawBidiSingleLineMarker(o,a,u,c,h,f);var v=c.lineHeight,b=(a.end.column+(h||0)-a.start.column)*c.characterWidth,S=this.$getTop(a.start.row,c),R=this.$padding+a.start.column*c.characterWidth;this.elt(u,"height:"+v+"px;width:"+b+"px;top:"+S+"px;left:"+R+"px;"+(f||""))},p.prototype.drawBidiSingleLineMarker=function(o,a,u,c,h,f){var v=c.lineHeight,b=this.$getTop(a.start.row,c),S=this.$padding,R=this.session.$bidiHandler.getSelections(a.start.column,a.end.column);R.forEach(function(x){this.elt(u,"height:"+v+"px;width:"+(x.width+(h||0))+"px;top:"+b+"px;left:"+(S+x.left)+"px;"+(f||""))},this)},p.prototype.drawFullLineMarker=function(o,a,u,c,h){var f=this.$getTop(a.start.row,c),v=c.lineHeight;a.start.row!=a.end.row&&(v+=this.$getTop(a.end.row,c)-f),this.elt(u,"height:"+v+"px;top:"+f+"px;left:0;right:0;"+(h||""))},p.prototype.drawScreenLineMarker=function(o,a,u,c,h){var f=this.$getTop(a.start.row,c),v=c.lineHeight;this.elt(u,"height:"+v+"px;top:"+f+"px;left:0;right:0;"+(h||""))},p}();g.prototype.$padding=0;function s(p,o,a,u){return(p?1:0)|(o?2:0)|(a?4:0)|(u?8:0)}i.Marker=g}),ace.define("ace/layer/text_util",["require","exports","module"],function(t,i,r){var l=new Set(["text","rparen","lparen"]);i.isTextToken=function(d){return l.has(d)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(t,i,r){var l=t("../lib/oop"),d=t("../lib/dom"),g=t("../lib/lang"),s=t("./lines").Lines,p=t("../lib/event_emitter").EventEmitter,o=t("../config").nls,a=t("./text_util").isTextToken,u=function(){function c(h){this.dom=d,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return c.prototype.$updateEolChar=function(){var h=this.session.doc,f=h.getNewLineCharacter()==`
`&&h.getNewLineMode()!="windows",v=f?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=v)return this.EOL_CHAR=v,!0},c.prototype.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},c.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},c.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},c.prototype.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",(function(f){this._signal("changeCharacterSize",f)}).bind(this)),this.$pollSizeChanges()},c.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},c.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},c.prototype.setSession=function(h){this.session=h,h&&this.$computeTabString()},c.prototype.setShowInvisibles=function(h){return this.showInvisibles==h?!1:(this.showInvisibles=h,typeof h=="string"?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},c.prototype.setDisplayIndentGuides=function(h){return this.displayIndentGuides==h?!1:(this.displayIndentGuides=h,this.$computeTabString(),!0)},c.prototype.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides===h?!1:(this.$highlightIndentGuides=h,h)},c.prototype.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var f=this.$tabStrings=[0],v=1;v<h+1;v++)if(this.showTabs){var b=this.dom.createElement("span");b.className="ace_invisible ace_invisible_tab",b.textContent=g.stringRepeat(this.TAB_CHAR,v),f.push(b)}else f.push(this.dom.createTextNode(g.stringRepeat(" ",v),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var S="ace_indent-guide",R=this.showSpaces?" ace_invisible ace_invisible_space":"",x=this.showSpaces?g.stringRepeat(this.SPACE_CHAR,this.tabSize):g.stringRepeat(" ",this.tabSize),C=this.showTabs?" ace_invisible ace_invisible_tab":"",y=this.showTabs?g.stringRepeat(this.TAB_CHAR,this.tabSize):x,b=this.dom.createElement("span");b.className=S+R,b.textContent=x,this.$tabStrings[" "]=b;var b=this.dom.createElement("span");b.className=S+C,b.textContent=y,this.$tabStrings["	"]=b}},c.prototype.updateLines=function(h,f,v){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var b=Math.max(f,h.firstRow),S=Math.min(v,h.lastRow),R=this.element.childNodes,x=0,y=h.firstRow;y<b;y++){var T=this.session.getFoldLine(y);if(T)if(T.containsRow(b)){b=T.start.row;break}else y=T.end.row;x++}for(var C=!1,y=b,T=this.session.getNextFoldLine(y),L=T?T.start.row:1/0;y>L&&(y=T.end.row+1,T=this.session.getNextFoldLine(y,T),L=T?T.start.row:1/0),!(y>S);){var _=R[x++];if(_){this.dom.removeChildren(_),this.$renderLine(_,y,y==L?T:!1),C&&(_.style.top=this.$lines.computeLineTop(y,h,this.session)+"px");var k=h.lineHeight*this.session.getRowLength(y)+"px";_.style.height!=k&&(C=!0,_.style.height=k)}y++}if(C)for(;x<this.$lines.cells.length;){var I=this.$lines.cells[x++];I.element.style.top=this.$lines.computeLineTop(I.row,h,this.session)+"px"}},c.prototype.scrollLines=function(h){var f=this.config;if(this.config=h,this.$lines.pageChanged(f,h))return this.update(h);this.$lines.moveContainer(h);var v=h.lastRow,b=f?f.lastRow:-1;if(!f||b<h.firstRow)return this.update(h);if(v<f.firstRow)return this.update(h);if(!f||f.lastRow<h.firstRow)return this.update(h);if(h.lastRow<f.firstRow)return this.update(h);if(f.firstRow<h.firstRow)for(var S=this.session.getFoldedRowCount(f.firstRow,h.firstRow-1);S>0;S--)this.$lines.shift();if(f.lastRow>h.lastRow)for(var S=this.session.getFoldedRowCount(h.lastRow+1,f.lastRow);S>0;S--)this.$lines.pop();h.firstRow<f.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,f.firstRow-1)),h.lastRow>f.lastRow&&this.$lines.push(this.$renderLinesFragment(h,f.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},c.prototype.$renderLinesFragment=function(h,f,v){for(var b=[],S=f,R=this.session.getNextFoldLine(S),x=R?R.start.row:1/0;S>x&&(S=R.end.row+1,R=this.session.getNextFoldLine(S,R),x=R?R.start.row:1/0),!(S>v);){var C=this.$lines.createCell(S,h,this.session),y=C.element;this.dom.removeChildren(y),d.setStyle(y.style,"height",this.$lines.computeLineHeight(S,h,this.session)+"px"),d.setStyle(y.style,"top",this.$lines.computeLineTop(S,h,this.session)+"px"),this.$renderLine(y,S,S==x?R:!1),this.$useLineGroups()?y.className="ace_line_group":y.className="ace_line",b.push(C),S++}return b},c.prototype.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var f=h.firstRow,v=h.lastRow,b=this.$lines;b.getLength();)b.pop();b.push(this.$renderLinesFragment(h,f,v))},c.prototype.$renderToken=function(h,f,v,b){for(var S=this,R=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,x=this.dom.createFragment(this.element),C,y=0;C=R.exec(b);){var T=C[1],L=C[2],_=C[3],k=C[4],I=C[5];if(!(!S.showSpaces&&L)){var w=y!=C.index?b.slice(y,C.index):"";if(y=C.index+C[0].length,w&&x.appendChild(this.dom.createTextNode(w,this.element)),T){var m=S.session.getScreenTabSize(f+C.index);x.appendChild(S.$tabStrings[m].cloneNode(!0)),f+=m-1}else if(L)if(S.showSpaces){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space",A.textContent=g.stringRepeat(S.SPACE_CHAR,L.length),x.appendChild(A)}else x.appendChild(this.dom.createTextNode(L,this.element));else if(_){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space ace_invalid",A.textContent=g.stringRepeat(S.SPACE_CHAR,_.length),x.appendChild(A)}else if(k){f+=1;var A=this.dom.createElement("span");A.style.width=S.config.characterWidth*2+"px",A.className=S.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",A.textContent=S.showSpaces?S.SPACE_CHAR:k,x.appendChild(A)}else if(I){f+=1;var A=this.dom.createElement("span");A.style.width=S.config.characterWidth*2+"px",A.className="ace_cjk",A.textContent=I,x.appendChild(A)}}}if(x.appendChild(this.dom.createTextNode(y?b.slice(y):b,this.element)),a(v.type))h.appendChild(x);else{var E="ace_"+v.type.replace(/\./g," ace_"),A=this.dom.createElement("span");v.type=="fold"&&(A.style.width=v.value.length*this.config.characterWidth+"px",A.setAttribute("title",o("inline-fold.closed.title","Unfold code"))),A.className=E,A.appendChild(x),h.appendChild(A)}return f+b.length},c.prototype.renderIndentGuide=function(h,f,v){var b=f.search(this.$indentGuideRe);if(b<=0||b>=v)return f;if(f[0]==" "){b-=b%this.tabSize;for(var S=b/this.tabSize,R=0;R<S;R++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),f.substr(b)}else if(f[0]=="	"){for(var R=0;R<b;R++)h.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),f.substr(b)}return this.$highlightIndentGuide(),f},c.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var f=this.session.selection.getCursor(),v=/^\s*/.exec(this.session.doc.getLine(f.row))[0].length,b=Math.floor(v/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:b,start:f.row};var S=this.session.$bracketHighlight;if(S){for(var R=this.session.$bracketHighlight.ranges,x=0;x<R.length;x++)if(f.row!==R[x].start.row){this.$highlightIndentGuideMarker.end=R[x].start.row,f.row>R[x].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&h[f.row]!==""&&f.column===h[f.row].length){this.$highlightIndentGuideMarker.dir=1;for(var x=f.row+1;x<h.length;x++){var C=h[x],y=/^\s*/.exec(C)[0].length;if(C!==""&&(this.$highlightIndentGuideMarker.end=x,y<=v))break}}this.$renderHighlightIndentGuide()}}},c.prototype.$clearActiveIndentGuide=function(){for(var h=this.$lines.cells,f=0;f<h.length;f++){var v=h[f],b=v.element.childNodes;if(b.length>0){for(var S=0;S<b.length;S++)if(b[S].classList&&b[S].classList.contains("ace_indent-guide-active")){b[S].classList.remove("ace_indent-guide-active");break}}}},c.prototype.$setIndentGuideActive=function(h,f){var v=this.session.doc.getLine(h.row);if(v!==""){var b=h.element.childNodes;if(b){var S=b[f-1];S&&S.classList&&S.classList.contains("ace_indent-guide")&&S.classList.add("ace_indent-guide-active")}}},c.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var f=this.$highlightIndentGuideMarker.indentLevel;if(f!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var v=0;v<h.length;v++){var b=h[v];if(this.$highlightIndentGuideMarker.end&&b.row>=this.$highlightIndentGuideMarker.start+1){if(b.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(b,f)}}else for(var v=h.length-1;v>=0;v--){var b=h[v];if(this.$highlightIndentGuideMarker.end&&b.row<this.$highlightIndentGuideMarker.start){if(b.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(b,f)}}}},c.prototype.$createLineElement=function(h){var f=this.dom.createElement("div");return f.className="ace_line",f.style.height=this.config.lineHeight+"px",f},c.prototype.$renderWrappedLine=function(h,f,v){var b=0,S=0,R=v[0],x=0,C=this.$createLineElement();h.appendChild(C);for(var y=0;y<f.length;y++){var T=f[y],L=T.value;if(y==0&&this.displayIndentGuides){if(b=L.length,L=this.renderIndentGuide(C,L,R),!L)continue;b-=L.length}if(b+L.length<R)x=this.$renderToken(C,x,T,L),b+=L.length;else{for(;b+L.length>=R;)x=this.$renderToken(C,x,T,L.substring(0,R-b)),L=L.substring(R-b),b=R,C=this.$createLineElement(),h.appendChild(C),C.appendChild(this.dom.createTextNode(g.stringRepeat("",v.indent),this.element)),S++,x=0,R=v[S]||Number.MAX_VALUE;L.length!=0&&(b+=L.length,x=this.$renderToken(C,x,T,L))}}v[v.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(C,x,null,"",!0)},c.prototype.$renderSimpleLine=function(h,f){for(var v=0,b=0;b<f.length;b++){var S=f[b],R=S.value;if(!(b==0&&this.displayIndentGuides&&(R=this.renderIndentGuide(h,R),!R))){if(v+R.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,v,S,R);v=this.$renderToken(h,v,S,R)}}},c.prototype.$renderOverflowMessage=function(h,f,v,b,S){v&&this.$renderToken(h,f,v,b.slice(0,this.MAX_LINE_LENGTH-f));var R=this.dom.createElement("span");R.className="ace_inline_button ace_keyword ace_toggle_wrap",R.textContent=S?"<hide>":"<click to see more...>",h.appendChild(R)},c.prototype.$renderLine=function(h,f,v){if(!v&&v!=!1&&(v=this.session.getFoldLine(f)),v)var b=this.$getFoldLineTokens(f,v);else var b=this.session.getTokens(f);var S=h;if(b.length){var R=this.session.getRowSplitData(f);if(R&&R.length){this.$renderWrappedLine(h,b,R);var S=h.lastChild}else{var S=h;this.$useLineGroups()&&(S=this.$createLineElement(),h.appendChild(S)),this.$renderSimpleLine(S,b)}}else this.$useLineGroups()&&(S=this.$createLineElement(),h.appendChild(S));if(this.showEOL&&S){v&&(f=v.end.row);var x=this.dom.createElement("span");x.className="ace_invisible ace_invisible_eol",x.textContent=f==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,S.appendChild(x)}},c.prototype.$getFoldLineTokens=function(h,f){var v=this.session,b=[];function S(x,C,y){for(var T=0,L=0;L+x[T].value.length<C;)if(L+=x[T].value.length,T++,T==x.length)return;if(L!=C){var _=x[T].value.substring(C-L);_.length>y-C&&(_=_.substring(0,y-C)),b.push({type:x[T].type,value:_}),L=C+_.length,T+=1}for(;L<y&&T<x.length;){var _=x[T].value;_.length+L>y?b.push({type:x[T].type,value:_.substring(0,y-L)}):b.push(x[T]),L+=_.length,T+=1}}var R=v.getTokens(h);return f.walk(function(x,C,y,T,L){x!=null?b.push({type:"fold",value:x}):(L&&(R=v.getTokens(C)),R.length&&S(R,T,y))},f.end.row,this.session.getLine(f.end.row).length),b},c.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},c}();u.prototype.EOF_CHAR="",u.prototype.EOL_CHAR_LF="",u.prototype.EOL_CHAR_CRLF="",u.prototype.EOL_CHAR=u.prototype.EOL_CHAR_LF,u.prototype.TAB_CHAR="",u.prototype.SPACE_CHAR="",u.prototype.$padding=0,u.prototype.MAX_LINE_LENGTH=1e4,u.prototype.showInvisibles=!1,u.prototype.showSpaces=!1,u.prototype.showTabs=!1,u.prototype.showEOL=!1,u.prototype.displayIndentGuides=!0,u.prototype.$highlightIndentGuides=!0,u.prototype.$tabStrings=[],u.prototype.destroy={},u.prototype.onChangeTabSize=u.prototype.$computeTabString,l.implement(u.prototype,p),i.Text=u}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(t,i,r){var l=t("../lib/dom"),d=function(){function g(s){this.element=l.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),l.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return g.prototype.$updateOpacity=function(s){for(var p=this.cursors,o=p.length;o--;)l.setStyle(p[o].style,"opacity",s?"":"0")},g.prototype.$startCssAnimation=function(){for(var s=this.cursors,p=s.length;p--;)s[p].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&l.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},g.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,l.removeCssClass(this.element,"ace_animate-blinking")},g.prototype.setPadding=function(s){this.$padding=s},g.prototype.setSession=function(s){this.session=s},g.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},g.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},g.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,l.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},g.prototype.addCursor=function(){var s=l.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},g.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},g.prototype.hideCursor=function(){this.isVisible=!1,l.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},g.prototype.showCursor=function(){this.isVisible=!0,l.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},g.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,l.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&l.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),l.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var p=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),p()},this.blinkInterval),p()}},g.prototype.getPixelPosition=function(s,p){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var o=this.session.documentToScreenPosition(s),a=this.$padding+(this.session.$bidiHandler.isBidiRow(o.row,s.row)?this.session.$bidiHandler.getPosLeft(o.column):o.column*this.config.characterWidth),u=(o.row-(p?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:a,top:u}},g.prototype.isCursorInView=function(s,p){return s.top>=0&&s.top<p.maxHeight},g.prototype.update=function(s){this.config=s;var p=this.session.$selectionMarkers,o=0,a=0;(p===void 0||p.length===0)&&(p=[{cursor:null}]);for(var o=0,u=p.length;o<u;o++){var c=this.getPixelPosition(p[o].cursor,!0);if(!((c.top>s.height+s.offset||c.top<0)&&o>1)){var h=this.cursors[a++]||this.addCursor(),f=h.style;this.drawCursor?this.drawCursor(h,c,s,p[o],this.session):this.isCursorInView(c,s)?(l.setStyle(f,"display","block"),l.translate(h,c.left,c.top),l.setStyle(f,"width",Math.round(s.characterWidth)+"px"),l.setStyle(f,"height",s.lineHeight+"px")):l.setStyle(f,"display","none")}}for(;this.cursors.length>a;)this.removeCursor();var v=this.session.getOverwrite();this.$setOverwrite(v),this.$pixelPos=c,this.restartTimer()},g.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?l.addCssClass(this.element,"ace_overwrite-cursors"):l.removeCssClass(this.element,"ace_overwrite-cursors"))},g.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},g}();d.prototype.$padding=0,d.prototype.drawCursor=null,i.Cursor=d}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,i,r){var l=this&&this.__extends||function(){var h=function(f,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,S){b.__proto__=S}||function(b,S){for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(b[R]=S[R])},h(f,v)};return function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(f,v);function b(){this.constructor=f}f.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}(),d=t("./lib/oop"),g=t("./lib/dom"),s=t("./lib/event"),p=t("./lib/event_emitter").EventEmitter,o=32768,a=function(){function h(f,v){this.element=g.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+v,this.inner=g.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),f.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return h.prototype.setVisible=function(f){this.element.style.display=f?"":"none",this.isVisible=f,this.coeff=1},h}();d.implement(a.prototype,p);var u=function(h){l(f,h);function f(v,b){var S=h.call(this,v,"-v")||this;return S.scrollTop=0,S.scrollHeight=0,b.$scrollbarWidth=S.width=g.scrollbarWidth(v.ownerDocument),S.inner.style.width=S.element.style.width=(S.width||15)+5+"px",S.$minWidth=0,S}return f.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var v=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-v)/(this.coeff-v)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},f.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},f.prototype.setHeight=function(v){this.element.style.height=v+"px"},f.prototype.setScrollHeight=function(v){this.scrollHeight=v,v>o?(this.coeff=o/v,v=o):this.coeff!=1&&(this.coeff=1),this.inner.style.height=v+"px"},f.prototype.setScrollTop=function(v){this.scrollTop!=v&&(this.skipEvent=!0,this.scrollTop=v,this.element.scrollTop=v*this.coeff)},f}(a);u.prototype.setInnerHeight=u.prototype.setScrollHeight;var c=function(h){l(f,h);function f(v,b){var S=h.call(this,v,"-h")||this;return S.scrollLeft=0,S.height=b.$scrollbarWidth,S.inner.style.height=S.element.style.height=(S.height||15)+5+"px",S}return f.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},f.prototype.getHeight=function(){return this.isVisible?this.height:0},f.prototype.setWidth=function(v){this.element.style.width=v+"px"},f.prototype.setInnerWidth=function(v){this.inner.style.width=v+"px"},f.prototype.setScrollWidth=function(v){this.inner.style.width=v+"px"},f.prototype.setScrollLeft=function(v){this.scrollLeft!=v&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=v)},f}(a);i.ScrollBar=u,i.ScrollBarV=u,i.ScrollBarH=c,i.VScrollBar=u,i.HScrollBar=c}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(t,i,r){var l=this&&this.__extends||function(){var c=function(h,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(v[S]=b[S])},c(h,f)};return function(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(h,f);function v(){this.constructor=h}h.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}}(),d=t("./lib/oop"),g=t("./lib/dom"),s=t("./lib/event"),p=t("./lib/event_emitter").EventEmitter;g.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var o=function(){function c(h,f){this.element=g.createElement("div"),this.element.className="ace_sb"+f,this.inner=g.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,h.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return c.prototype.setVisible=function(h){this.element.style.display=h?"":"none",this.isVisible=h,this.coeff=1},c}();d.implement(o.prototype,p);var a=function(c){l(h,c);function h(f,v){var b=c.call(this,f,"-v")||this;return b.scrollTop=0,b.scrollHeight=0,b.parent=f,b.width=b.VScrollWidth,b.renderer=v,b.inner.style.width=b.element.style.width=(b.width||15)+"px",b.$minWidth=0,b}return h.prototype.onMouseDown=function(f,v){if(f==="mousedown"&&!(s.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var b=this,S=v.clientY,R=function(k){S=k.clientY},x=function(){clearInterval(L)},C=v.clientY,y=this.thumbTop,T=function(){if(S!==void 0){var k=b.scrollTopFromThumbTop(y+S-C);k!==b.scrollTop&&b._emit("scroll",{data:k})}};s.capture(this.inner,R,x);var L=setInterval(T,20);return s.preventDefault(v)}var _=v.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(_)}),s.preventDefault(v)}},h.prototype.getHeight=function(){return this.height},h.prototype.scrollTopFromThumbTop=function(f){var v=f*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return v=v>>0,v<0?v=0:v>this.pageHeight-this.viewHeight&&(v=this.pageHeight-this.viewHeight),v},h.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},h.prototype.setHeight=function(f){this.height=Math.max(0,f),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},h.prototype.setScrollHeight=function(f,v){this.pageHeight===f&&!v||(this.pageHeight=f,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},h.prototype.setScrollTop=function(f){this.scrollTop=f,f<0&&(f=0),this.thumbTop=f*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},h}(o);a.prototype.setInnerHeight=a.prototype.setScrollHeight;var u=function(c){l(h,c);function h(f,v){var b=c.call(this,f,"-h")||this;return b.scrollLeft=0,b.scrollWidth=0,b.height=b.HScrollHeight,b.inner.style.height=b.element.style.height=(b.height||12)+"px",b.renderer=v,b}return h.prototype.onMouseDown=function(f,v){if(f==="mousedown"&&!(s.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var b=this,S=v.clientX,R=function(k){S=k.clientX},x=function(){clearInterval(L)},C=v.clientX,y=this.thumbLeft,T=function(){if(S!==void 0){var k=b.scrollLeftFromThumbLeft(y+S-C);k!==b.scrollLeft&&b._emit("scroll",{data:k})}};s.capture(this.inner,R,x);var L=setInterval(T,20);return s.preventDefault(v)}var _=v.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(_)}),s.preventDefault(v)}},h.prototype.getHeight=function(){return this.isVisible?this.height:0},h.prototype.scrollLeftFromThumbLeft=function(f){var v=f*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return v=v>>0,v<0?v=0:v>this.pageWidth-this.viewWidth&&(v=this.pageWidth-this.viewWidth),v},h.prototype.setWidth=function(f){this.width=Math.max(0,f),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},h.prototype.setScrollWidth=function(f,v){this.pageWidth===f&&!v||(this.pageWidth=f,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},h.prototype.setScrollLeft=function(f){this.scrollLeft=f,f<0&&(f=0),this.thumbLeft=f*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},h}(o);u.prototype.setInnerWidth=u.prototype.setScrollWidth,i.ScrollBar=a,i.ScrollBarV=a,i.ScrollBarH=u,i.VScrollBar=a,i.HScrollBar=u}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(t,i,r){var l=t("./lib/event"),d=function(){function g(s,p){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=p||window;var o=this;this._flush=function(a){o.pending=!1;var u=o.changes;if(u&&(l.blockIdle(100),o.changes=0,o.onRender(u)),o.changes){if(o.$recursionLimit--<0)return;o.schedule()}else o.$recursionLimit=2}}return g.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(l.nextFrame(this._flush),this.pending=!0)},g.prototype.clear=function(s){var p=this.changes;return this.changes=0,p},g}();i.RenderLoop=d}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(t,i,r){var l=t("../lib/oop"),d=t("../lib/dom"),g=t("../lib/lang"),s=t("../lib/event"),p=t("../lib/useragent"),o=t("../lib/event_emitter").EventEmitter,a=512,u=typeof ResizeObserver=="function",c=200,h=function(){function f(v){this.el=d.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=d.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=d.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),v.appendChild(this.el),this.$measureNode.textContent=g.stringRepeat("X",a),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()}return f.prototype.$setMeasureNodeStyles=function(v,b){v.width=v.height="auto",v.left=v.top="0px",v.visibility="hidden",v.position="absolute",v.whiteSpace="pre",p.isIE<8?v["font-family"]="inherit":v.font="inherit",v.overflow=b?"hidden":"visible"},f.prototype.checkForSizeChanges=function(v){if(v===void 0&&(v=this.$measureSizes()),v&&(this.$characterSize.width!==v.width||this.$characterSize.height!==v.height)){this.$measureNode.style.fontWeight="bold";var b=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=v,this.charSizes=Object.create(null),this.allowBoldFonts=b&&b.width===v.width&&b.height===v.height,this._emit("changeCharacterSize",{data:v})}},f.prototype.$addObserver=function(){var v=this;this.$observer=new window.ResizeObserver(function(b){v.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},f.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var v=this;return this.$pollSizeChangesTimer=s.onIdle(function b(){v.checkForSizeChanges(),s.onIdle(b,500)},500)},f.prototype.setPolling=function(v){v?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},f.prototype.$measureSizes=function(v){var b={height:(v||this.$measureNode).clientHeight,width:(v||this.$measureNode).clientWidth/a};return b.width===0||b.height===0?null:b},f.prototype.$measureCharWidth=function(v){this.$main.textContent=g.stringRepeat(v,a);var b=this.$main.getBoundingClientRect();return b.width/a},f.prototype.getCharacterWidth=function(v){var b=this.charSizes[v];return b===void 0&&(b=this.charSizes[v]=this.$measureCharWidth(v)/this.$characterSize.width),b},f.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},f.prototype.$getZoom=function(v){return!v||!v.parentElement?1:(Number(window.getComputedStyle(v).zoom)||1)*this.$getZoom(v.parentElement)},f.prototype.$initTransformMeasureNodes=function(){var v=function(b,S){return["div",{style:"position: absolute;top:"+b+"px;left:"+S+"px;"}]};this.els=d.buildDom([v(0,0),v(c,0),v(0,c),v(c,c)],this.el)},f.prototype.transformCoordinates=function(v,b){if(v){var S=this.$getZoom(this.el);v=y(1/S,v)}function R(N,F,z){var P=N[1]*F[0]-N[0]*F[1];return[(-F[1]*z[0]+F[0]*z[1])/P,(+N[1]*z[0]-N[0]*z[1])/P]}function x(N,F){return[N[0]-F[0],N[1]-F[1]]}function C(N,F){return[N[0]+F[0],N[1]+F[1]]}function y(N,F){return[N*F[0],N*F[1]]}this.els||this.$initTransformMeasureNodes();function T(N){var F=N.getBoundingClientRect();return[F.left,F.top]}var L=T(this.els[0]),_=T(this.els[1]),k=T(this.els[2]),I=T(this.els[3]),w=R(x(I,_),x(I,k),x(C(_,k),C(I,L))),m=y(1+w[0],x(_,L)),A=y(1+w[1],x(k,L));if(b){var E=b,M=w[0]*E[0]/c+w[1]*E[1]/c+1,O=C(y(E[0],m),y(E[1],A));return C(y(1/M/c,O),L)}var $=x(v,L),D=R(x(m,y(w[0],$)),x(A,y(w[1],$)),$);return y(c,D)},f}();h.prototype.$characterSize={width:0,height:0},l.implement(h.prototype,o),i.FontMetrics=h}),ace.define("ace/css/editor-css",["require","exports","module"],function(t,i,r){r.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(t,i,r){var l=t("../lib/dom"),d=t("../lib/oop"),g=t("../lib/event_emitter").EventEmitter,s=function(){function p(o,a){this.canvas=l.createElement("canvas"),this.renderer=a,this.pixelRatio=1,this.maxHeight=a.layerConfig.maxHeight,this.lineHeight=a.layerConfig.lineHeight,this.canvasHeight=o.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=o.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},o.element.appendChild(this.canvas)}return p.prototype.$updateDecorators=function(o){var a=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(o){this.maxHeight=o.maxHeight,this.lineHeight=o.lineHeight,this.canvasHeight=o.height;var u=(o.lastRow+1)*this.lineHeight;u<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var c=this.canvas.getContext("2d");function h(I,w){return I.priority<w.priority?-1:I.priority>w.priority?1:0}var f=this.renderer.session.$annotations;if(c.clearRect(0,0,this.canvas.width,this.canvas.height),f){var v={info:1,warning:2,error:3};f.forEach(function(I){I.priority=v[I.type]||null}),f=f.sort(h);for(var b=this.renderer.session.$foldData,S=0;S<f.length;S++){var R=f[S].row,x=this.compensateFoldRows(R,b),C=Math.round((R-x)*this.lineHeight*this.heightRatio),y=Math.round((R-x)*this.lineHeight*this.heightRatio),T=Math.round(((R-x)*this.lineHeight+this.lineHeight)*this.heightRatio),L=T-y;if(L<this.minDecorationHeight){var _=(y+T)/2|0;_<this.halfMinDecorationHeight?_=this.halfMinDecorationHeight:_+this.halfMinDecorationHeight>this.canvasHeight&&(_=this.canvasHeight-this.halfMinDecorationHeight),y=Math.round(_-this.halfMinDecorationHeight),T=Math.round(_+this.halfMinDecorationHeight)}c.fillStyle=a[f[S].type]||null,c.fillRect(0,C,this.canvasWidth,T-y)}}var k=this.renderer.session.selection.getCursor();if(k){var x=this.compensateFoldRows(k.row,b),C=Math.round((k.row-x)*this.lineHeight*this.heightRatio);c.fillStyle="rgba(0, 0, 0, 0.5)",c.fillRect(0,C,this.canvasWidth,2)}},p.prototype.compensateFoldRows=function(o,a){var u=0;if(a&&a.length>0)for(var c=0;c<a.length;c++)o>a[c].start.row&&o<a[c].end.row?u+=o-a[c].start.row:o>=a[c].end.row&&(u+=a[c].end.row-a[c].start.row);return u},p}();d.implement(s.prototype,g),i.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(t,i,r){var l=t("./lib/oop"),d=t("./lib/dom"),g=t("./lib/lang"),s=t("./config"),p=t("./layer/gutter").Gutter,o=t("./layer/marker").Marker,a=t("./layer/text").Text,u=t("./layer/cursor").Cursor,c=t("./scrollbar").HScrollBar,h=t("./scrollbar").VScrollBar,f=t("./scrollbar_custom").HScrollBar,v=t("./scrollbar_custom").VScrollBar,b=t("./renderloop").RenderLoop,S=t("./layer/font_metrics").FontMetrics,R=t("./lib/event_emitter").EventEmitter,x=t("./css/editor-css"),C=t("./layer/decorators").Decorator,y=t("./lib/useragent"),T=t("./layer/text_util").isTextToken;d.importCssString(x,"ace_editor.css",!1);var L=function(){function _(k,I){var w=this;this.container=k||d.createElement("div"),d.addCssClass(this.container,"ace_editor"),d.HI_DPI&&d.addCssClass(this.container,"ace_hidpi"),this.setTheme(I),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=d.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=d.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=d.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new p(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new o(this.content);var m=this.$textLayer=new a(this.content);this.canvas=m.element,this.$markerFront=new o(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.on("scroll",function(A){w.$scrollAnimation||w.session.setScrollTop(A.data-w.scrollMargin.top)}),this.scrollBarH.on("scroll",function(A){w.$scrollAnimation||w.session.setScrollLeft(A.data-w.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new S(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(A){w.updateCharacterSize(),w.onResize(!0,w.gutterWidth,w.$size.width,w.$size.height),w._signal("changeCharacterSize",A)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!y.isIOS,this.$loop=new b(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return _.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),d.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},_.prototype.setSession=function(k){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=k,k&&this.scrollMargin.top&&k.getScrollTop()<=0&&k.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(k),this.$markerBack.setSession(k),this.$markerFront.setSession(k),this.$gutterLayer.setSession(k),this.$textLayer.setSession(k),k&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},_.prototype.updateLines=function(k,I,w){if(I===void 0&&(I=1/0),this.$changedLines?(this.$changedLines.firstRow>k&&(this.$changedLines.firstRow=k),this.$changedLines.lastRow<I&&(this.$changedLines.lastRow=I)):this.$changedLines={firstRow:k,lastRow:I},this.$changedLines.lastRow<this.layerConfig.firstRow)if(w)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},_.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},_.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},_.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},_.prototype.updateFull=function(k){k?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},_.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},_.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},_.prototype.onResize=function(k,I,w,m){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=k?1:0;var A=this.container;m||(m=A.clientHeight||A.scrollHeight),!m&&this.$maxLines&&this.lineHeight>1&&(!A.style.height||A.style.height=="0px")&&(A.style.height="1px",m=A.clientHeight||A.scrollHeight),w||(w=A.clientWidth||A.scrollWidth);var E=this.$updateCachedSize(k,I,w,m);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!w&&!m)return this.resizing=0;k&&(this.$gutterLayer.$padding=null),k?this.$renderChanges(E|this.$changes,!0):this.$loop.schedule(E|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},_.prototype.$updateCachedSize=function(k,I,w,m){m-=this.$extraHeight||0;var A=0,E=this.$size,M={width:E.width,height:E.height,scrollerHeight:E.scrollerHeight,scrollerWidth:E.scrollerWidth};if(m&&(k||E.height!=m)&&(E.height=m,A|=this.CHANGE_SIZE,E.scrollerHeight=E.height,this.$horizScroll&&(E.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(E.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",A=A|this.CHANGE_SCROLL),w&&(k||E.width!=w)){A|=this.CHANGE_SIZE,E.width=w,I==null&&(I=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=I,d.setStyle(this.scrollBarH.element.style,"left",I+"px"),d.setStyle(this.scroller.style,"left",I+this.margin.left+"px"),E.scrollerWidth=Math.max(0,w-I-this.scrollBarV.getWidth()-this.margin.h),d.setStyle(this.$gutter.style,"left",this.margin.left+"px");var O=this.scrollBarV.getWidth()+"px";d.setStyle(this.scrollBarH.element.style,"right",O),d.setStyle(this.scroller.style,"right",O),d.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(E.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||k)&&(A|=this.CHANGE_FULL)}return E.$dirty=!w||!m,A&&this._signal("resize",M),A},_.prototype.onGutterResize=function(k){var I=this.$showGutter?k:0;I!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,I,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},_.prototype.adjustWrapLimit=function(){var k=this.$size.scrollerWidth-this.$padding*2,I=Math.floor(k/this.characterWidth);return this.session.adjustWrapLimit(I,this.$showPrintMargin&&this.$printMarginColumn)},_.prototype.setAnimatedScroll=function(k){this.setOption("animatedScroll",k)},_.prototype.getAnimatedScroll=function(){return this.$animatedScroll},_.prototype.setShowInvisibles=function(k){this.setOption("showInvisibles",k),this.session.$bidiHandler.setShowInvisibles(k)},_.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},_.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},_.prototype.setDisplayIndentGuides=function(k){this.setOption("displayIndentGuides",k)},_.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},_.prototype.setHighlightIndentGuides=function(k){this.setOption("highlightIndentGuides",k)},_.prototype.setShowPrintMargin=function(k){this.setOption("showPrintMargin",k)},_.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},_.prototype.setPrintMarginColumn=function(k){this.setOption("printMarginColumn",k)},_.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},_.prototype.getShowGutter=function(){return this.getOption("showGutter")},_.prototype.setShowGutter=function(k){return this.setOption("showGutter",k)},_.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},_.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},_.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},_.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},_.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var k=d.createElement("div");k.className="ace_layer ace_print-margin-layer",this.$printMarginEl=d.createElement("div"),this.$printMarginEl.className="ace_print-margin",k.appendChild(this.$printMarginEl),this.content.insertBefore(k,this.content.firstChild)}var I=this.$printMarginEl.style;I.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",I.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},_.prototype.getContainerElement=function(){return this.container},_.prototype.getMouseEventTarget=function(){return this.scroller},_.prototype.getTextAreaContainer=function(){return this.container},_.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var k=this.textarea.style,I=this.$composition;if(!this.$keepTextAreaAtCursor&&!I){d.translate(this.textarea,-100,0);return}var w=this.$cursorLayer.$pixelPos;if(w){I&&I.markerRange&&(w=this.$cursorLayer.getPixelPosition(I.markerRange.start,!0));var m=this.layerConfig,A=w.top,E=w.left;A-=m.offset;var M=I&&I.useTextareaForIME||y.isMobile?this.lineHeight:1;if(A<0||A>m.height-M){d.translate(this.textarea,0,0);return}var O=1,$=this.$size.height-M;if(!I)A+=this.lineHeight;else if(I.useTextareaForIME){var D=this.textarea.value;O=this.characterWidth*this.session.$getStringScreenWidth(D)[0]}else A+=this.lineHeight+2;E-=this.scrollLeft,E>this.$size.scrollerWidth-O&&(E=this.$size.scrollerWidth-O),E+=this.gutterWidth+this.margin.left,d.setStyle(k,"height",M+"px"),d.setStyle(k,"width",O+"px"),d.translate(this.textarea,Math.min(E,this.$size.scrollerWidth-O),Math.min(A,$))}}},_.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},_.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},_.prototype.getLastFullyVisibleRow=function(){var k=this.layerConfig,I=k.lastRow,w=this.session.documentToScreenRow(I,0)*k.lineHeight;return w-this.session.getScrollTop()>k.height-k.lineHeight?I-1:I},_.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},_.prototype.setPadding=function(k){this.$padding=k,this.$textLayer.setPadding(k),this.$cursorLayer.setPadding(k),this.$markerFront.setPadding(k),this.$markerBack.setPadding(k),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},_.prototype.setScrollMargin=function(k,I,w,m){var A=this.scrollMargin;A.top=k|0,A.bottom=I|0,A.right=m|0,A.left=w|0,A.v=A.top+A.bottom,A.h=A.left+A.right,A.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-A.top),this.updateFull()},_.prototype.setMargin=function(k,I,w,m){var A=this.margin;A.top=k|0,A.bottom=I|0,A.right=m|0,A.left=w|0,A.v=A.top+A.bottom,A.h=A.left+A.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},_.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},_.prototype.setHScrollBarAlwaysVisible=function(k){this.setOption("hScrollBarAlwaysVisible",k)},_.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},_.prototype.setVScrollBarAlwaysVisible=function(k){this.setOption("vScrollBarAlwaysVisible",k)},_.prototype.$updateScrollBarV=function(){var k=this.layerConfig.maxHeight,I=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(k-=(I-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>k-I&&(k=this.scrollTop+I,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(k+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},_.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},_.prototype.freeze=function(){this.$frozen=!0},_.prototype.unfreeze=function(){this.$frozen=!1},_.prototype.$renderChanges=function(k,I){if(this.$changes&&(k|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!k&&!I){this.$changes|=k;return}if(this.$size.$dirty)return this.$changes|=k,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",k),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var w=this.layerConfig;if(k&this.CHANGE_FULL||k&this.CHANGE_SIZE||k&this.CHANGE_TEXT||k&this.CHANGE_LINES||k&this.CHANGE_SCROLL||k&this.CHANGE_H_SCROLL){if(k|=this.$computeLayerConfig()|this.$loop.clear(),w.firstRow!=this.layerConfig.firstRow&&w.firstRowScreen==this.layerConfig.firstRowScreen){var m=this.scrollTop+(w.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;m>0&&(this.scrollTop=m,k=k|this.CHANGE_SCROLL,k|=this.$computeLayerConfig()|this.$loop.clear())}w=this.layerConfig,this.$updateScrollBarV(),k&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),d.translate(this.content,-this.scrollLeft,-w.offset);var A=w.width+2*this.$padding+"px",E=w.minHeight+"px";d.setStyle(this.content.style,"width",A),d.setStyle(this.content.style,"height",E)}if(k&this.CHANGE_H_SCROLL&&(d.translate(this.content,-this.scrollLeft,-w.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),k&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}if(k&this.CHANGE_SCROLL){this.$changedLines=null,k&this.CHANGE_TEXT||k&this.CHANGE_LINES?this.$textLayer.update(w):this.$textLayer.scrollLines(w),this.$showGutter&&(k&this.CHANGE_GUTTER||k&this.CHANGE_LINES?this.$gutterLayer.update(w):this.$gutterLayer.scrollLines(w)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w),this.$markerBack.update(w),this.$markerFront.update(w),this.$cursorLayer.update(w),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}k&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(w),this.$showGutter&&this.$gutterLayer.update(w),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w)):k&this.CHANGE_LINES?((this.$updateLines()||k&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(w),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w)):k&this.CHANGE_TEXT||k&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(w),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w)):k&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(w),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(w)),k&this.CHANGE_CURSOR&&(this.$cursorLayer.update(w),this.$moveTextAreaToCursor()),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(w),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(w),this._signal("afterRender",k)},_.prototype.$autosize=function(){var k=this.session.getScreenLength()*this.lineHeight,I=this.$maxLines*this.lineHeight,w=Math.min(I,Math.max((this.$minLines||1)*this.lineHeight,k))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(w+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&w>this.$maxPixelHeight&&(w=this.$maxPixelHeight);var m=w<=2*this.lineHeight,A=!m&&k>I;if(w!=this.desiredHeight||this.$size.height!=this.desiredHeight||A!=this.$vScroll){A!=this.$vScroll&&(this.$vScroll=A,this.scrollBarV.setVisible(A));var E=this.container.clientWidth;this.container.style.height=w+"px",this.$updateCachedSize(!0,this.$gutterWidth,E,w),this.desiredHeight=w,this._signal("autosize")}},_.prototype.$computeLayerConfig=function(){var k=this.session,I=this.$size,w=I.height<=2*this.lineHeight,m=this.session.getScreenLength(),A=m*this.lineHeight,E=this.$getLongestLine(),M=!w&&(this.$hScrollBarAlwaysVisible||I.scrollerWidth-E-2*this.$padding<0),O=this.$horizScroll!==M;O&&(this.$horizScroll=M,this.scrollBarH.setVisible(M));var $=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var D=I.scrollerHeight+this.lineHeight,N=!this.$maxLines&&this.$scrollPastEnd?(I.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;A+=N;var F=this.scrollMargin;this.session.setScrollTop(Math.max(-F.top,Math.min(this.scrollTop,A-I.scrollerHeight+F.bottom))),this.session.setScrollLeft(Math.max(-F.left,Math.min(this.scrollLeft,E+2*this.$padding-I.scrollerWidth+F.right)));var z=!w&&(this.$vScrollBarAlwaysVisible||I.scrollerHeight-A+N<0||this.scrollTop>F.top),P=$!==z;P&&(this.$vScroll=z,this.scrollBarV.setVisible(z));var j=this.scrollTop%this.lineHeight,G=Math.ceil(D/this.lineHeight)-1,H=Math.max(0,Math.round((this.scrollTop-j)/this.lineHeight)),W=H+G,Y,q,J=this.lineHeight;H=k.screenToDocumentRow(H,0);var ne=k.getFoldLine(H);ne&&(H=ne.start.row),Y=k.documentToScreenRow(H,0),q=k.getRowLength(H)*J,W=Math.min(k.screenToDocumentRow(W,0),k.getLength()-1),D=I.scrollerHeight+k.getRowLength(W)*J+q,j=this.scrollTop-Y*J;var B=0;return(this.layerConfig.width!=E||O)&&(B=this.CHANGE_H_SCROLL),(O||P)&&(B|=this.$updateCachedSize(!0,this.gutterWidth,I.width,I.height),this._signal("scrollbarVisibilityChanged"),P&&(E=this.$getLongestLine())),this.layerConfig={width:E,padding:this.$padding,firstRow:H,firstRowScreen:Y,lastRow:W,lineHeight:J,characterWidth:this.characterWidth,minHeight:D,maxHeight:A,offset:j,gutterOffset:J?Math.max(0,Math.ceil((j+I.height-I.scrollerHeight)/J)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(E-this.$padding),B},_.prototype.$updateLines=function(){if(this.$changedLines){var k=this.$changedLines.firstRow,I=this.$changedLines.lastRow;this.$changedLines=null;var w=this.layerConfig;if(!(k>w.lastRow+1)&&!(I<w.firstRow)){if(I===1/0){this.$showGutter&&this.$gutterLayer.update(w),this.$textLayer.update(w);return}return this.$textLayer.updateLines(w,k,I),!0}}},_.prototype.$getLongestLine=function(){var k=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(k+=1),this.$textLayer&&k>this.$textLayer.MAX_LINE_LENGTH&&(k=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(k*this.characterWidth))},_.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},_.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},_.prototype.addGutterDecoration=function(k,I){this.$gutterLayer.addGutterDecoration(k,I)},_.prototype.removeGutterDecoration=function(k,I){this.$gutterLayer.removeGutterDecoration(k,I)},_.prototype.updateBreakpoints=function(k){this._rows=k,this.$loop.schedule(this.CHANGE_GUTTER)},_.prototype.setAnnotations=function(k){this.$gutterLayer.setAnnotations(k),this.$loop.schedule(this.CHANGE_GUTTER)},_.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},_.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},_.prototype.showCursor=function(){this.$cursorLayer.showCursor()},_.prototype.scrollSelectionIntoView=function(k,I,w){this.scrollCursorIntoView(k,w),this.scrollCursorIntoView(I,w)},_.prototype.scrollCursorIntoView=function(k,I,w){if(this.$size.scrollerHeight!==0){var m=this.$cursorLayer.getPixelPosition(k),A=m.left,E=m.top,M=w&&w.top||0,O=w&&w.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var $=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;$+M>E?(I&&$+M>E+this.lineHeight&&(E-=I*this.$size.scrollerHeight),E===0&&(E=-this.scrollMargin.top),this.session.setScrollTop(E)):$+this.$size.scrollerHeight-O<E+this.lineHeight&&(I&&$+this.$size.scrollerHeight-O<E-this.lineHeight&&(E+=I*this.$size.scrollerHeight),this.session.setScrollTop(E+this.lineHeight+O-this.$size.scrollerHeight));var D=this.scrollLeft,N=2*this.layerConfig.characterWidth;A-N<D?(A-=N,A<this.$padding+N&&(A=-this.scrollMargin.left),this.session.setScrollLeft(A)):(A+=N,D+this.$size.scrollerWidth<A+this.characterWidth?this.session.setScrollLeft(Math.round(A+this.characterWidth-this.$size.scrollerWidth)):D<=this.$padding&&A-D<this.characterWidth&&this.session.setScrollLeft(0))}},_.prototype.getScrollTop=function(){return this.session.getScrollTop()},_.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},_.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},_.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},_.prototype.scrollToRow=function(k){this.session.setScrollTop(k*this.lineHeight)},_.prototype.alignCursor=function(k,I){typeof k=="number"&&(k={row:k,column:0});var w=this.$cursorLayer.getPixelPosition(k),m=this.$size.scrollerHeight-this.lineHeight,A=w.top-m*(I||0);return this.session.setScrollTop(A),A},_.prototype.$calcSteps=function(k,I){var w=0,m=this.STEPS,A=[],E=function(M,O,$){return $*(Math.pow(M-1,3)+1)+O};for(w=0;w<m;++w)A.push(E(w/this.STEPS,k,I-k));return A},_.prototype.scrollToLine=function(k,I,w,m){var A=this.$cursorLayer.getPixelPosition({row:k,column:0}),E=A.top;I&&(E-=this.$size.scrollerHeight/2);var M=this.scrollTop;this.session.setScrollTop(E),w!==!1&&this.animateScrolling(M,m)},_.prototype.animateScrolling=function(k,I){var w=this.scrollTop;if(!this.$animatedScroll)return;var m=this;if(k==w)return;if(this.$scrollAnimation){var A=this.$scrollAnimation.steps;if(A.length&&(k=A[0],k==w))return}var E=m.$calcSteps(k,w);this.$scrollAnimation={from:k,to:w,steps:E},clearInterval(this.$timer),m.session.setScrollTop(E.shift()),m.session.$scrollTop=w;function M(){m.$timer=clearInterval(m.$timer),m.$scrollAnimation=null,m.$stopAnimation=!1,I&&I()}this.$timer=setInterval(function(){if(m.$stopAnimation){M();return}if(!m.session)return clearInterval(m.$timer);E.length?(m.session.setScrollTop(E.shift()),m.session.$scrollTop=w):w!=null?(m.session.$scrollTop=-1,m.session.setScrollTop(w),w=null):M()},10)},_.prototype.scrollToY=function(k){this.scrollTop!==k&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=k)},_.prototype.scrollToX=function(k){this.scrollLeft!==k&&(this.scrollLeft=k),this.$loop.schedule(this.CHANGE_H_SCROLL)},_.prototype.scrollTo=function(k,I){this.session.setScrollTop(I),this.session.setScrollLeft(k)},_.prototype.scrollBy=function(k,I){I&&this.session.setScrollTop(this.session.getScrollTop()+I),k&&this.session.setScrollLeft(this.session.getScrollLeft()+k)},_.prototype.isScrollableBy=function(k,I){if(I<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||I>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||k<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||k>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},_.prototype.pixelToScreenCoordinates=function(k,I){var w;if(this.$hasCssTransforms){w={top:0,left:0};var m=this.$fontMetrics.transformCoordinates([k,I]);k=m[1]-this.gutterWidth-this.margin.left,I=m[0]}else w=this.scroller.getBoundingClientRect();var A=k+this.scrollLeft-w.left-this.$padding,E=A/this.characterWidth,M=Math.floor((I+this.scrollTop-w.top)/this.lineHeight),O=this.$blockCursor?Math.floor(E):Math.round(E);return{row:M,column:O,side:E-O>0?1:-1,offsetX:A}},_.prototype.screenToTextCoordinates=function(k,I){var w;if(this.$hasCssTransforms){w={top:0,left:0};var m=this.$fontMetrics.transformCoordinates([k,I]);k=m[1]-this.gutterWidth-this.margin.left,I=m[0]}else w=this.scroller.getBoundingClientRect();var A=k+this.scrollLeft-w.left-this.$padding,E=A/this.characterWidth,M=this.$blockCursor?Math.floor(E):Math.round(E),O=Math.floor((I+this.scrollTop-w.top)/this.lineHeight);return this.session.screenToDocumentPosition(O,Math.max(M,0),A)},_.prototype.textToScreenCoordinates=function(k,I){var w=this.scroller.getBoundingClientRect(),m=this.session.documentToScreenPosition(k,I),A=this.$padding+(this.session.$bidiHandler.isBidiRow(m.row,k)?this.session.$bidiHandler.getPosLeft(m.column):Math.round(m.column*this.characterWidth)),E=m.row*this.lineHeight;return{pageX:w.left+A-this.scrollLeft,pageY:w.top+E-this.scrollTop}},_.prototype.visualizeFocus=function(){d.addCssClass(this.container,"ace_focus")},_.prototype.visualizeBlur=function(){d.removeCssClass(this.container,"ace_focus")},_.prototype.showComposition=function(k){this.$composition=k,k.cssText||(k.cssText=this.textarea.style.cssText),k.useTextareaForIME==null&&(k.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(d.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):k.markerId=this.session.addMarker(k.markerRange,"ace_composition_marker","text")},_.prototype.setCompositionText=function(k){var I=this.session.selection.cursor;this.addToken(k,"composition_placeholder",I.row,I.column),this.$moveTextAreaToCursor()},_.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),d.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var k=this.session.selection.cursor;this.removeExtraToken(k.row,k.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},_.prototype.setGhostText=function(k,I){var w=this.session.selection.cursor,m=I||{row:w.row,column:w.column};this.removeGhostText();var A=this.$calculateWrappedTextChunks(k,m);this.addToken(A[0].text,"ghost_text",m.row,m.column),this.$ghostText={text:k,position:{row:m.row,column:m.column}};var E=d.createElement("div");if(A.length>1){var M=this.hideTokensAfterPosition(m.row,m.column),O;A.slice(1).forEach(function(P){var j=d.createElement("div"),G=d.createElement("span");G.className="ace_ghost_text",P.wrapped&&(j.className="ghost_text_line_wrapped"),P.text.length===0&&(P.text=" "),G.appendChild(d.createTextNode(P.text)),j.appendChild(G),E.appendChild(j),O=j}),M.forEach(function(P){var j=d.createElement("span");T(P.type)||(j.className="ace_"+P.type.replace(/\./g," ace_")),j.appendChild(d.createTextNode(P.value)),O.appendChild(j)}),this.$ghostTextWidget={el:E,row:m.row,column:m.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var $=this.$cursorLayer.getPixelPosition(m,!0),D=this.container,N=D.getBoundingClientRect().height,F=A.length*this.lineHeight,z=F<N-$.top;if(z)return;F<N?this.scrollBy(0,(A.length-1)*this.lineHeight):this.scrollToRow(m.row)}},_.prototype.$calculateWrappedTextChunks=function(k,I){var w=this.$size.scrollerWidth-this.$padding*2,m=Math.floor(w/this.characterWidth)-2;m=m<=0?60:m;for(var A=k.split(/\r?\n/),E=[],M=0;M<A.length;M++){var O=this.session.$getDisplayTokens(A[M],I.column),$=this.session.$computeWrapSplits(O,m,this.session.$tabSize);if($.length>0){var D=0;$.push(A[M].length);for(var N=0;N<$.length;N++){var F=A[M].slice(D,$[N]);E.push({text:F,wrapped:!0}),D=$[N]}}else E.push({text:A[M],wrapped:!1})}return E},_.prototype.removeGhostText=function(){if(this.$ghostText){var k=this.$ghostText.position;this.removeExtraToken(k.row,k.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},_.prototype.addToken=function(k,I,w,m){var A=this.session;A.bgTokenizer.lines[w]=null;var E={type:I,value:k},M=A.getTokens(w);if(m==null||!M.length)M.push(E);else for(var O=0,$=0;$<M.length;$++){var D=M[$];if(O+=D.value.length,m<=O){var N=D.value.length-(O-m),F=D.value.slice(0,N),z=D.value.slice(N);M.splice($,1,{type:D.type,value:F},E,{type:D.type,value:z});break}}this.updateLines(w,w)},_.prototype.hideTokensAfterPosition=function(k,I){for(var w=this.session.getTokens(k),m=0,A=!1,E=[],M=0;M<w.length;M++){var O=w[M];if(m+=O.value.length,O.type!=="ghost_text"){if(A){E.push({type:O.type,value:O.value}),O.type="hidden_token";continue}m===I&&(A=!0)}}return this.updateLines(k,k),E},_.prototype.removeExtraToken=function(k,I){this.session.bgTokenizer.lines[k]=null,this.updateLines(k,k)},_.prototype.setTheme=function(k,I){var w=this;if(this.$themeId=k,w._dispatchEvent("themeChange",{theme:k}),!k||typeof k=="string"){var m=k||this.$options.theme.initialValue;s.loadModule(["theme",m],A)}else A(k);function A(E){if(w.$themeId!=k)return I&&I();if(!E||!E.cssClass)throw new Error("couldn't load module "+k+" or it didn't call define");E.$id&&(w.$themeId=E.$id),d.importCssString(E.cssText,E.cssClass,w.container),w.theme&&d.removeCssClass(w.container,w.theme.cssClass);var M="padding"in E?E.padding:"padding"in(w.theme||{})?4:w.$padding;w.$padding&&M!=w.$padding&&w.setPadding(M),w.$theme=E.cssClass,w.theme=E,d.addCssClass(w.container,E.cssClass),d.setCssClass(w.container,"ace_dark",E.isDark),w.$size&&(w.$size.width=0,w.$updateSizeAsync()),w._dispatchEvent("themeLoaded",{theme:E}),I&&I(),y.isSafari&&w.scroller&&(w.scroller.style.background="red",w.scroller.style.background="")}},_.prototype.getTheme=function(){return this.$themeId},_.prototype.setStyle=function(k,I){d.setCssClass(this.container,k,I!==!1)},_.prototype.unsetStyle=function(k){d.removeCssClass(this.container,k)},_.prototype.setCursorStyle=function(k){d.setStyle(this.scroller.style,"cursor",k)},_.prototype.setMouseCursor=function(k){d.setStyle(this.scroller.style,"cursor",k)},_.prototype.attachToShadowRoot=function(){d.importCssString(x,"ace_editor.css",this.container)},_.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},_.prototype.$updateCustomScrollbar=function(k){var I=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,k===!0?(this.scrollBarV=new v(this.container,this),this.scrollBarH=new f(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(w){I.$scrollAnimation||I.session.setScrollTop(w.data-I.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(w){I.$scrollAnimation||I.session.setScrollLeft(w.data-I.scrollMargin.left)}),this.$scrollDecorator=new C(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(w){I.$scrollAnimation||I.session.setScrollTop(w.data-I.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(w){I.$scrollAnimation||I.session.setScrollLeft(w.data-I.scrollMargin.left)}))},_.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var k=this;this.$resizeTimer=g.delayedCall(function(){k.destroyed||k.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(I){var w=I[0].contentRect.width,m=I[0].contentRect.height;Math.abs(k.$size.width-w)>1||Math.abs(k.$size.height-m)>1?k.$resizeTimer.delay():k.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},_}();L.prototype.CHANGE_CURSOR=1,L.prototype.CHANGE_MARKER=2,L.prototype.CHANGE_GUTTER=4,L.prototype.CHANGE_SCROLL=8,L.prototype.CHANGE_LINES=16,L.prototype.CHANGE_TEXT=32,L.prototype.CHANGE_SIZE=64,L.prototype.CHANGE_MARKER_BACK=128,L.prototype.CHANGE_MARKER_FRONT=256,L.prototype.CHANGE_FULL=512,L.prototype.CHANGE_H_SCROLL=1024,L.prototype.$changes=0,L.prototype.$padding=null,L.prototype.$frozen=!1,L.prototype.STEPS=8,l.implement(L.prototype,R),s.defineOptions(L.prototype,"renderer",{useResizeObserver:{set:function(_){!_&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):_&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(_){this.$textLayer.setShowInvisibles(_)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(_){typeof _=="number"&&(this.$printMarginColumn=_),this.$showPrintMargin=!!_,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(_){this.$gutter.style.display=_?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(_){this.$gutterLayer.$useSvgGutterIcons=_},initialValue:!1},showFoldedAnnotations:{set:function(_){this.$gutterLayer.$showFoldedAnnotations=_},initialValue:!1},fadeFoldWidgets:{set:function(_){d.setCssClass(this.$gutter,"ace_fade-fold-widgets",_)},initialValue:!1},showFoldWidgets:{set:function(_){this.$gutterLayer.setShowFoldWidgets(_),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(_){this.$textLayer.setDisplayIndentGuides(_)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(_){this.$textLayer.setHighlightIndentGuides(_)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(_){this.$gutterLayer.setHighlightGutterLine(_),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(_){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(_){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(_){typeof _=="number"&&(_=_+"px"),this.container.style.fontSize=_,this.updateFontSize()},initialValue:12},fontFamily:{set:function(_){this.container.style.fontFamily=_,this.updateFontSize()}},maxLines:{set:function(_){this.updateFull()}},minLines:{set:function(_){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(_){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(_){_=+_||0,this.$scrollPastEnd!=_&&(this.$scrollPastEnd=_,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(_){this.$gutterLayer.$fixedWidth=!!_,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(_){this.$updateCustomScrollbar(_)},initialValue:!1},theme:{set:function(_){this.setTheme(_)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!y.isMobile&&!y.isIE}}),i.VirtualRenderer=L}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(t,i,r){var l=t("../lib/oop"),d=t("../lib/net"),g=t("../lib/event_emitter").EventEmitter,s=t("../config");function p(c){var h="importScripts('"+d.qualifyURL(c)+"');";try{return new Blob([h],{type:"application/javascript"})}catch{var f=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,v=new f;return v.append(h),v.getBlob("application/javascript")}}function o(c){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var h=p(c),f=window.URL||window.webkitURL,v=f.createObjectURL(h);return new Worker(v)}return new Worker(c)}var a=function(c){c.postMessage||(c=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=c,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){l.implement(this,g),this.$createWorkerFromOldConfig=function(c,h,f,v,b){if(t.nameToUrl&&!t.toUrl&&(t.toUrl=t.nameToUrl),s.get("packaged")||!t.toUrl)v=v||s.moduleUrl(h,"worker");else{var S=this.$normalizePath;v=v||S(t.toUrl("ace/worker/worker.js",null,"_"));var R={};c.forEach(function(x){R[x]=S(t.toUrl(x,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=o(v),b&&this.send("importScripts",b),this.$worker.postMessage({init:!0,tlns:R,module:h,classname:f}),this.$worker},this.onMessage=function(c){var h=c.data;switch(h.type){case"event":this._signal(h.name,{data:h.data});break;case"call":var f=this.callbacks[h.id];f&&(f(h.data),delete this.callbacks[h.id]);break;case"error":this.reportError(h.data);break;case"log":window.console&&console.log&&console.log.apply(console,h.data);break}},this.reportError=function(c){window.console&&console.error&&console.error(c)},this.$normalizePath=function(c){return d.qualifyURL(c)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(c){c.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(c,h){this.$worker.postMessage({command:c,args:h})},this.call=function(c,h,f){if(f){var v=this.callbackId++;this.callbacks[v]=f,h.push(v)}this.send(c,h)},this.emit=function(c,h){try{h.data&&h.data.err&&(h.data.err={message:h.data.err.message,stack:h.data.err.stack,code:h.data.err.code}),this.$worker&&this.$worker.postMessage({event:c,data:{data:h.data}})}catch(f){console.error(f.stack)}},this.attachToDocument=function(c){this.$doc&&this.terminate(),this.$doc=c,this.call("setValue",[c.getValue()]),c.on("change",this.changeListener,!0)},this.changeListener=function(c){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),c.action=="insert"?this.deltaQueue.push(c.start,c.lines):this.deltaQueue.push(c.start,c.end)},this.$sendDeltaQueue=function(){var c=this.deltaQueue;c&&(this.deltaQueue=null,c.length>50&&c.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:c}))}}).call(a.prototype);var u=function(c,h,f){var v=null,b=!1,S=Object.create(g),R=[],x=new a({messageBuffer:R,terminate:function(){},postMessage:function(y){R.push(y),v&&(b?setTimeout(C):C())}});x.setEmitSync=function(y){b=y};var C=function(){var y=R.shift();y.command?v[y.command].apply(v,y.args):y.event&&S._signal(y.event,y.data)};return S.postMessage=function(y){x.onMessage({data:y})},S.callback=function(y,T){this.postMessage({type:"call",id:T,data:y})},S.emit=function(y,T){this.postMessage({type:"event",name:y,data:T})},s.loadModule(["worker",h],function(y){for(v=new y[f](S);R.length;)C()}),x};i.UIWorkerClient=u,i.WorkerClient=a,i.createWorker=o}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(t,i,r){var l=t("./range").Range,d=t("./lib/event_emitter").EventEmitter,g=t("./lib/oop"),s=function(){function p(o,a,u,c,h,f){var v=this;this.length=a,this.session=o,this.doc=o.getDocument(),this.mainClass=h,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=c,this.$onCursorChange=function(){setTimeout(function(){v.onCursorChange()})},this.$pos=u;var b=o.getUndoManager().$undoStack||o.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=b.length,this.setup(),o.selection.on("changeCursor",this.$onCursorChange)}return p.prototype.setup=function(){var o=this,a=this.doc,u=this.session;this.selectionBefore=u.selection.toJSON(),u.selection.inMultiSelectMode&&u.selection.toSingleRange(),this.pos=a.createAnchor(this.$pos.row,this.$pos.column);var c=this.pos;c.$insertRight=!0,c.detach(),c.markerId=u.addMarker(new l(c.row,c.column,c.row,c.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(h){var f=a.createAnchor(h.row,h.column);f.$insertRight=!0,f.detach(),o.others.push(f)}),u.setUndoSelect(!1)},p.prototype.showOtherMarkers=function(){if(!this.othersActive){var o=this.session,a=this;this.othersActive=!0,this.others.forEach(function(u){u.markerId=o.addMarker(new l(u.row,u.column,u.row,u.column+a.length),a.othersClass,null,!1)})}},p.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var o=0;o<this.others.length;o++)this.session.removeMarker(this.others[o].markerId)}},p.prototype.onUpdate=function(o){if(this.$updating)return this.updateAnchors(o);var a=o;if(a.start.row===a.end.row&&a.start.row===this.pos.row){this.$updating=!0;var u=o.action==="insert"?a.end.column-a.start.column:a.start.column-a.end.column,c=a.start.column>=this.pos.column&&a.start.column<=this.pos.column+this.length+1,h=a.start.column-this.pos.column;if(this.updateAnchors(o),c&&(this.length+=u),c&&!this.session.$fromUndo){if(o.action==="insert")for(var f=this.others.length-1;f>=0;f--){var v=this.others[f],b={row:v.row,column:v.column+h};this.doc.insertMergedLines(b,o.lines)}else if(o.action==="remove")for(var f=this.others.length-1;f>=0;f--){var v=this.others[f],b={row:v.row,column:v.column+h};this.doc.remove(new l(b.row,b.column,b.row,b.column-u))}}this.$updating=!1,this.updateMarkers()}},p.prototype.updateAnchors=function(o){this.pos.onChange(o);for(var a=this.others.length;a--;)this.others[a].onChange(o);this.updateMarkers()},p.prototype.updateMarkers=function(){if(!this.$updating){var o=this,a=this.session,u=function(h,f){a.removeMarker(h.markerId),h.markerId=a.addMarker(new l(h.row,h.column,h.row,h.column+o.length),f,null,!1)};u(this.pos,this.mainClass);for(var c=this.others.length;c--;)u(this.others[c],this.othersClass)}},p.prototype.onCursorChange=function(o){if(!(this.$updating||!this.session)){var a=this.session.selection.getCursor();a.row===this.pos.row&&a.column>=this.pos.column&&a.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",o)):(this.hideOtherMarkers(),this._emit("cursorLeave",o))}},p.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},p.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var o=this.session.getUndoManager(),a=(o.$undoStack||o.$undostack).length-this.$undoStackDepth,u=0;u<a;u++)o.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},p}();g.implement(s.prototype,d),i.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(t,i,r){var l=t("../lib/event"),d=t("../lib/useragent");function g(p,o){return p.row==o.row&&p.column==o.column}function s(p){var o=p.domEvent,a=o.altKey,u=o.shiftKey,c=o.ctrlKey,h=p.getAccelKey(),f=p.getButton();if(c&&d.isMac&&(f=o.button),p.editor.inMultiSelectMode&&f==2){p.editor.textInput.onContextMenu(p.domEvent);return}if(!c&&!a&&!h){f===0&&p.editor.inMultiSelectMode&&p.editor.exitMultiSelectMode();return}if(f===0){var v=p.editor,b=v.selection,S=v.inMultiSelectMode,R=p.getDocumentPosition(),x=b.getCursor(),C=p.inSelection()||b.isEmpty()&&g(R,x),y=p.x,T=p.y,L=function(F){y=F.clientX,T=F.clientY},_=v.session,k=v.renderer.pixelToScreenCoordinates(y,T),I=k,w;if(v.$mouseHandler.$enableJumpToDef)c&&a||h&&a?w=u?"block":"add":a&&v.$blockSelectEnabled&&(w="block");else if(h&&!a){if(w="add",!S&&u)return}else a&&v.$blockSelectEnabled&&(w="block");if(w&&d.isMac&&o.ctrlKey&&v.$mouseHandler.cancelContextMenu(),w=="add"){if(!S&&C)return;if(!S){var m=b.toOrientedRange();v.addSelectionMarker(m)}var A=b.rangeList.rangeAtPoint(R);v.inVirtualSelectionMode=!0,u&&(A=null,m=b.ranges[0]||m,v.removeSelectionMarker(m)),v.once("mouseup",function(){var F=b.toOrientedRange();A&&F.isEmpty()&&g(A.cursor,F.cursor)?b.substractPoint(F.cursor):(u?b.substractPoint(m.cursor):m&&(v.removeSelectionMarker(m),b.addRange(m)),b.addRange(F)),v.inVirtualSelectionMode=!1})}else if(w=="block"){p.stop(),v.inVirtualSelectionMode=!0;var E,M=[],O=function(){var F=v.renderer.pixelToScreenCoordinates(y,T),z=_.screenToDocumentPosition(F.row,F.column,F.offsetX);g(I,F)&&g(z,b.lead)||(I=F,v.selection.moveToPosition(z),v.renderer.scrollCursorIntoView(),v.removeSelectionMarkers(M),M=b.rectangularRangeBlock(I,k),v.$mouseHandler.$clickSelection&&M.length==1&&M[0].isEmpty()&&(M[0]=v.$mouseHandler.$clickSelection.clone()),M.forEach(v.addSelectionMarker,v),v.updateSelectionMarkers())};S&&!h?b.toSingleRange():!S&&h&&(E=b.toOrientedRange(),v.addSelectionMarker(E)),u?k=_.documentToScreenPosition(b.lead):b.moveToPosition(R),I={row:-1,column:-1};var $=function(F){O(),clearInterval(N),v.removeSelectionMarkers(M),M.length||(M=[b.toOrientedRange()]),E&&(v.removeSelectionMarker(E),b.toSingleRange(E));for(var z=0;z<M.length;z++)b.addRange(M[z]);v.inVirtualSelectionMode=!1,v.$mouseHandler.$clickSelection=null},D=O;l.capture(v.container,L,$);var N=setInterval(function(){D()},20);return p.preventDefault()}}}i.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(t,i,r){i.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(d){d.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(d){d.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(d){d.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(d){d.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(d){d.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(d){d.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(d){d.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(d){d.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(d){d.multiSelect.rangeCount>1?d.multiSelect.joinSelections():d.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(d){d.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(d){d.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(d){d.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],i.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(d){d.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(d){return d&&d.inMultiSelectMode}}];var l=t("../keyboard/hash_handler").HashHandler;i.keyboardHandler=new l(i.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(t,i,r){var l=t("./range_list").RangeList,d=t("./range").Range,g=t("./selection").Selection,s=t("./mouse/multi_select_handler").onMouseDown,p=t("./lib/event"),o=t("./lib/lang"),a=t("./commands/multi_select_commands");i.commands=a.defaultCommands.concat(a.multiSelectCommands);var u=t("./search").Search,c=new u;function h(x,C,y){return c.$options.wrap=!0,c.$options.needle=C,c.$options.backwards=y==-1,c.find(x)}var f=t("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(x,C){if(x){if(!this.inMultiSelectMode&&this.rangeCount===0){var y=this.toOrientedRange();if(this.rangeList.add(y),this.rangeList.add(x),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(x);this.rangeList.removeAll(),this.rangeList.add(y),this.$onAddRange(y)}x.cursor||(x.cursor=x.end);var T=this.rangeList.add(x);return this.$onAddRange(x),T.length&&this.$onRemoveRange(T),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(x)}},this.toSingleRange=function(x){x=x||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),x&&this.fromOrientedRange(x)},this.substractPoint=function(x){var C=this.rangeList.substractPoint(x);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var x=this.rangeList.merge();x.length&&this.$onRemoveRange(x)},this.$onAddRange=function(x){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(x),this._signal("addRange",{range:x})},this.$onRemoveRange=function(x){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();x.push(C),this.rangeCount=0}for(var y=x.length;y--;){var T=this.ranges.indexOf(x[y]);this.ranges.splice(T,1)}this._signal("removeRange",{ranges:x}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),C=C||this.ranges[0],C&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new l,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var x=this.ranges.length?this.ranges:[this.getRange()],C=[],y=0;y<x.length;y++){var T=x[y],L=T.start.row,_=T.end.row;if(L===_)C.push(T.clone());else{for(C.push(new d(L,T.start.column,L,this.session.getLine(L).length));++L<_;)C.push(this.getLineRange(L,!0));C.push(new d(_,0,_,T.end.column))}y==0&&!this.isBackwards()&&(C=C.reverse())}this.toSingleRange();for(var y=C.length;y--;)this.addRange(C[y])},this.joinSelections=function(){var x=this.rangeList.ranges,C=x[x.length-1],y=d.fromPoints(x[0].start,C.end);this.toSingleRange(),this.setSelectionRange(y,C.cursor==C.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var x=this.rangeList.ranges,C=x[x.length-1],y=d.fromPoints(x[0].start,C.end);this.toSingleRange(),this.setSelectionRange(y,C.cursor==C.start)}else{var T=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),_=this.rectangularRangeBlock(T,L);_.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(x,C,y){var T=[],L=x.column<C.column;if(L)var _=x.column,k=C.column,I=x.offsetX,w=C.offsetX;else var _=C.column,k=x.column,I=C.offsetX,w=x.offsetX;var m=x.row<C.row;if(m)var A=x.row,E=C.row;else var A=C.row,E=x.row;_<0&&(_=0),A<0&&(A=0),A==E&&(y=!0);for(var M,O=A;O<=E;O++){var $=d.fromPoints(this.session.screenToDocumentPosition(O,_,I),this.session.screenToDocumentPosition(O,k,w));if($.isEmpty()){if(M&&b($.end,M))break;M=$.end}$.cursor=L?$.start:$.end,T.push($)}if(m&&T.reverse(),!y){for(var D=T.length-1;T[D].isEmpty()&&D>0;)D--;if(D>0)for(var N=0;T[N].isEmpty();)N++;for(var F=D;F>=N;F--)T[F].isEmpty()&&T.splice(F,1)}return T}}).call(g.prototype);var v=t("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(x){x.cursor||(x.cursor=x.end);var C=this.getSelectionStyle();return x.marker=this.session.addMarker(x,"ace_selection",C),this.session.$selectionMarkers.push(x),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,x},this.removeSelectionMarker=function(x){if(x.marker){this.session.removeMarker(x.marker);var C=this.session.$selectionMarkers.indexOf(x);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(x){for(var C=this.session.$selectionMarkers,y=x.length;y--;){var T=x[y];if(T.marker){this.session.removeMarker(T.marker);var L=C.indexOf(T);L!=-1&&C.splice(L,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(x){this.addSelectionMarker(x.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(x){this.removeSelectionMarkers(x.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(x){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(x){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(x){var C=x.command,y=x.editor;if(y.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?T=y.forEachSelection(C,x.args):C.multiSelectAction=="forEachLine"?T=y.forEachSelection(C,x.args,!0):C.multiSelectAction=="single"?(y.exitMultiSelectMode(),T=C.exec(y,x.args||{})):T=C.multiSelectAction(y,x.args||{});else{var T=C.exec(y,x.args||{});y.multiSelect.addRange(y.multiSelect.toOrientedRange()),y.multiSelect.mergeOverlappingRanges()}return T}},this.forEachSelection=function(x,C,y){if(!this.inVirtualSelectionMode){var T=y&&y.keepOrder,L=y==!0||y&&y.$byLines,_=this.session,k=this.selection,I=k.rangeList,w=(T?k:I).ranges,m;if(!w.length)return x.exec?x.exec(this,C||{}):x(this,C||{});var A=k._eventRegistry;k._eventRegistry={};var E=new g(_);this.inVirtualSelectionMode=!0;for(var M=w.length;M--;){if(L)for(;M>0&&w[M].start.row==w[M-1].end.row;)M--;E.fromOrientedRange(w[M]),E.index=M,this.selection=_.selection=E;var O=x.exec?x.exec(this,C||{}):x(this,C||{});!m&&O!==void 0&&(m=O),E.toOrientedRange(w[M])}E.detach(),this.selection=_.selection=k,this.inVirtualSelectionMode=!1,k._eventRegistry=A,k.mergeOverlappingRanges(),k.ranges[0]&&k.fromOrientedRange(k.ranges[0]);var $=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),$&&$.from==$.to&&this.renderer.animateScrolling($.from),m}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var x="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,y=[],T=0;T<C.length;T++)y.push(this.session.getTextRange(C[T]));var L=this.session.getDocument().getNewLineCharacter();x=y.join(L),x.length==(y.length-1)*L.length&&(x="")}else this.selection.isEmpty()||(x=this.session.getTextRange(this.getSelectionRange()));return x},this.$checkMultiselectChange=function(x,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var y=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var T=C==this.multiSelect.anchor?y.cursor==y.start?y.end:y.start:y.cursor;T.row!=C.row||this.session.$clipPositionToDocument(T.row,T.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(x,C,y){if(C=C||{},C.needle=x||C.needle,C.needle==null){var T=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(T)}this.$search.set(C);var L=this.$search.findAll(this.session);if(!L.length)return 0;var _=this.multiSelect;y||_.toSingleRange(L[0]);for(var k=L.length;k--;)_.addRange(L[k],!0);return T&&_.rangeList.rangeAtPoint(T.start)&&_.addRange(T,!0),L.length},this.selectMoreLines=function(x,C){var y=this.selection.toOrientedRange(),T=y.cursor==y.end,L=this.session.documentToScreenPosition(y.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var _=this.session.screenToDocumentPosition(L.row+x,L.column);if(y.isEmpty())var I=_;else var k=this.session.documentToScreenPosition(T?y.end:y.start),I=this.session.screenToDocumentPosition(k.row+x,k.column);if(T){var w=d.fromPoints(_,I);w.cursor=w.start}else{var w=d.fromPoints(I,_);w.cursor=w.end}if(w.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(y);else if(C)var m=y.cursor;this.selection.addRange(w),m&&this.selection.substractPoint(m)},this.transposeSelections=function(x){for(var C=this.session,y=C.multiSelect,T=y.ranges,L=T.length;L--;){var _=T[L];if(_.isEmpty()){var k=C.getWordRange(_.start.row,_.start.column);_.start.row=k.start.row,_.start.column=k.start.column,_.end.row=k.end.row,_.end.column=k.end.column}}y.mergeOverlappingRanges();for(var I=[],L=T.length;L--;){var _=T[L];I.unshift(C.getTextRange(_))}x<0?I.unshift(I.pop()):I.push(I.shift());for(var L=T.length;L--;){var _=T[L],w=_.clone();C.replace(_,I[L]),_.start.row=w.start.row,_.start.column=w.start.column}y.fromOrientedRange(y.ranges[0])},this.selectMore=function(x,C,y){var T=this.session,L=T.multiSelect,_=L.toOrientedRange();if(!(_.isEmpty()&&(_=T.getWordRange(_.start.row,_.start.column),_.cursor=x==-1?_.start:_.end,this.multiSelect.addRange(_),y))){var k=T.getTextRange(_),I=h(T,k,x);I&&(I.cursor=x==-1?I.start:I.end,this.session.unfold(I),this.multiSelect.addRange(I),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(_.cursor)}},this.alignCursors=function(){var x=this.session,C=x.multiSelect,y=C.ranges,T=-1,L=y.filter(function(D){if(D.cursor.row==T)return!0;T=D.cursor.row});if(!y.length||L.length==y.length-1){var _=this.selection.getRange(),k=_.start.row,I=_.end.row,w=k==I;if(w){var m=this.session.getLength(),A;do A=this.session.getLine(I);while(/[=:]/.test(A)&&++I<m);do A=this.session.getLine(k);while(/[=:]/.test(A)&&--k>0);k<0&&(k=0),I>=m&&(I=m-1)}var E=this.session.removeFullLines(k,I);E=this.$reAlignText(E,w),this.session.insert({row:k,column:0},E.join(`
`)+`
`),w||(_.start.column=0,_.end.column=E[E.length-1].length),this.selection.setRange(_)}else{L.forEach(function(D){C.substractPoint(D.cursor)});var M=0,O=1/0,$=y.map(function(D){var N=D.cursor,F=x.getLine(N.row),z=F.substr(N.column).search(/\S/g);return z==-1&&(z=0),N.column>M&&(M=N.column),z<O&&(O=z),z});y.forEach(function(D,N){var F=D.cursor,z=M-F.column,P=$[N]-O;z>P?x.insert(F,o.stringRepeat(" ",z-P)):x.remove(new d(F.row,F.column,F.row,F.column-z+P)),D.start.column=D.end.column=M,D.start.row=D.end.row=F.row,D.cursor=D.end}),C.fromOrientedRange(y[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(x,C){var y=!0,T=!0,L,_,k;return x.map(function(E){var M=E.match(/(\s*)(.*?)(\s*)([=:].*)/);return M?L==null?(L=M[1].length,_=M[2].length,k=M[3].length,M):(L+_+k!=M[1].length+M[2].length+M[3].length&&(T=!1),L!=M[1].length&&(y=!1),L>M[1].length&&(L=M[1].length),_<M[2].length&&(_=M[2].length),k>M[3].length&&(k=M[3].length),M):[E]}).map(C?w:y?T?m:w:A);function I(E){return o.stringRepeat(" ",E)}function w(E){return E[2]?I(L)+E[2]+I(_-E[2].length+k)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}function m(E){return E[2]?I(L+_-E[2].length)+E[2]+I(k)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}function A(E){return E[2]?I(L)+E[2]+I(k)+E[4].replace(/^([=:])\s+/,"$1 "):E[0]}}}).call(v.prototype);function b(x,C){return x.row==C.row&&x.column==C.column}i.onSessionChange=function(x){var C=x.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var y=x.oldSession;y&&(y.multiSelect.off("addRange",this.$onAddRange),y.multiSelect.off("removeRange",this.$onRemoveRange),y.multiSelect.off("multiSelect",this.$onMultiSelect),y.multiSelect.off("singleSelect",this.$onSingleSelect),y.multiSelect.lead.off("change",this.$checkMultiselectChange),y.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function S(x){x.$multiselectOnSessionChange||(x.$onAddRange=x.$onAddRange.bind(x),x.$onRemoveRange=x.$onRemoveRange.bind(x),x.$onMultiSelect=x.$onMultiSelect.bind(x),x.$onSingleSelect=x.$onSingleSelect.bind(x),x.$multiselectOnSessionChange=i.onSessionChange.bind(x),x.$checkMultiselectChange=x.$checkMultiselectChange.bind(x),x.$multiselectOnSessionChange(x),x.on("changeSession",x.$multiselectOnSessionChange),x.on("mousedown",s),x.commands.addCommands(a.defaultCommands),R(x))}function R(x){if(!x.textInput)return;var C=x.textInput.getElement(),y=!1;p.addListener(C,"keydown",function(L){var _=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);x.$blockSelectEnabled&&_?y||(x.renderer.setMouseCursor("crosshair"),y=!0):y&&T()},x),p.addListener(C,"keyup",T,x),p.addListener(C,"blur",T,x);function T(L){y&&(x.renderer.setMouseCursor(""),y=!1)}}i.MultiSelect=S,t("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(x){S(this),x?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(x){this.$blockSelectEnabled=x},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(t,i,r){var l=t("../../range").Range,d=i.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(g,s,p){var o=g.getLine(p);return this.foldingStartMarker.test(o)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(o)?"end":""},this.getFoldWidgetRange=function(g,s,p){return null},this.indentationBlock=function(g,s,p){var o=/\S/,a=g.getLine(s),u=a.search(o);if(u!=-1){for(var c=p||a.length,h=g.getLength(),f=s,v=s;++s<h;){var b=g.getLine(s).search(o);if(b!=-1){if(b<=u){var S=g.getTokenAt(s,0);if(!S||S.type!=="string")break}v=s}}if(v>f){var R=g.getLine(v).length;return new l(f,c,v,R)}}},this.openingBracketBlock=function(g,s,p,o,a){var u={row:p,column:o+1},c=g.$findClosingBracket(s,u,a);if(c){var h=g.foldWidgets[c.row];return h==null&&(h=g.getFoldWidget(c.row)),h=="start"&&c.row>u.row&&(c.row--,c.column=g.getLine(c.row).length),l.fromPoints(u,c)}},this.closingBracketBlock=function(g,s,p,o,a){var u={row:p,column:o},c=g.$findOpeningBracket(s,u);if(c)return c.column++,u.column--,l.fromPoints(c,u)}}).call(d.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(t,i,r){var l=t("../lib/dom"),d=t("../range").Range,g=t("../config").nls;function s(o,a,u){for(var c=0,h=o.length-1;c<=h;){var f=c+h>>1,v=u(a,o[f]);if(v>0)c=f+1;else if(v<0)h=f-1;else return f}return-(c+1)}function p(o,a,u){var c=o.getAnnotations().sort(d.comparePoints);if(c.length){var h=s(c,{row:a,column:-1},d.comparePoints);h<0&&(h=-h-1),h>=c.length?h=u>0?0:c.length-1:h===0&&u<0&&(h=c.length-1);var f=c[h];if(!(!f||!u)){if(f.row===a){do f=c[h+=u];while(f&&f.row===a);if(!f)return c.slice()}var v=[];a=f.row;do v[u<0?"unshift":"push"](f),f=c[h+=u];while(f&&f.row==a);return v.length&&v}}}i.showErrorMarker=function(o,a){var u=o.session,c=o.getCursorPosition(),h=c.row,f=u.widgetManager.getWidgetsAtRow(h).filter(function(L){return L.type=="errorMarker"})[0];f?f.destroy():h-=a;var v=p(u,h,a),b;if(v){var S=v[0];c.column=(S.pos&&typeof S.column!="number"?S.pos.sc:S.column)||0,c.row=S.row,b=o.renderer.$gutterLayer.$annotations[c.row]}else{if(f)return;b={displayText:[g("error-marker.good-state","Looks good!")],className:"ace_ok"}}o.session.unfold(c.row),o.selection.moveToPosition(c);var R={row:c.row,fixedWidth:!0,coverGutter:!0,el:l.createElement("div"),type:"errorMarker"},x=R.el.appendChild(l.createElement("div")),C=R.el.appendChild(l.createElement("div"));C.className="error_widget_arrow "+b.className;var y=o.renderer.$cursorLayer.getPixelPosition(c).left;C.style.left=y+o.renderer.gutterWidth-5+"px",R.el.className="error_widget_wrapper",x.className="error_widget "+b.className,b.displayText.forEach(function(L,_){x.appendChild(l.createTextNode(L)),_<b.displayText.length-1&&x.appendChild(l.createElement("br"))}),x.appendChild(l.createElement("div"));var T=function(L,_,k){if(_===0&&(k==="esc"||k==="return"))return R.destroy(),{command:"null"}};R.destroy=function(){o.$mouseHandler.isMousePressed||(o.keyBinding.removeKeyboardHandler(T),u.widgetManager.removeLineWidget(R),o.off("changeSelection",R.destroy),o.off("changeSession",R.destroy),o.off("mouseup",R.destroy),o.off("change",R.destroy))},o.keyBinding.addKeyboardHandler(T),o.on("changeSelection",R.destroy),o.on("changeSession",R.destroy),o.on("mouseup",R.destroy),o.on("change",R.destroy),o.session.widgetManager.addLineWidget(R),R.el.onmousedown=o.focus.bind(o),o.renderer.scrollCursorIntoView(null,.5,{bottom:R.el.offsetHeight})},l.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(t,i,r){t("./loader_build")(i);var l=t("./lib/dom"),d=t("./range").Range,g=t("./editor").Editor,s=t("./edit_session").EditSession,p=t("./undomanager").UndoManager,o=t("./virtual_renderer").VirtualRenderer;t("./worker/worker_client"),t("./keyboard/hash_handler"),t("./placeholder"),t("./multi_select"),t("./mode/folding/fold_mode"),t("./theme/textmate"),t("./ext/error_marker"),i.config=t("./config"),i.edit=function(u,c){if(typeof u=="string"){var h=u;if(u=document.getElementById(h),!u)throw new Error("ace.edit can't find div #"+h)}if(u&&u.env&&u.env.editor instanceof g)return u.env.editor;var f="";if(u&&/input|textarea/i.test(u.tagName)){var v=u;f=v.value,u=l.createElement("pre"),v.parentNode.replaceChild(u,v)}else u&&(f=u.textContent,u.innerHTML="");var b=i.createEditSession(f),S=new g(new o(u),b,c),R={document:b,editor:S,onResize:S.resize.bind(S,null)};return v&&(R.textarea=v),S.on("destroy",function(){R.editor.container.env=null}),S.container.env=S.env=R,S},i.createEditSession=function(u,c){var h=new s(u,c);return h.setUndoManager(new p),h},i.Range=d,i.Editor=g,i.EditSession=s,i.UndoManager=p,i.VirtualRenderer=o;var a=i.config.version;i.version=a}),function(){ace.require(["ace/ace"],function(t){t&&(t.config.init(!0),t.define=ace.define);var i=function(){return this}();!i&&typeof window<"u"&&(i=window),!i&&typeof self<"u"&&(i=self),i.ace||(i.ace=t);for(var r in t)t.hasOwnProperty(r)&&(i.ace[r]=t[r]);i.ace.default=i.ace,n.exports=i.ace})}()}(ea)),ea.exports}var HA=WA();const jA=Xd(HA);var Kf=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,l){return r[0]===t?(i=l,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,l=this.__entries__;r<l.length;r++){var d=l[r];t.call(i,d[1],d[0])}},e}()}(),Ba=typeof window<"u"&&typeof document<"u"&&window.document===document,$o=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),zA=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($o):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),UA=2;function VA(n,e){var t=!1,i=!1,r=0;function l(){t&&(t=!1,n()),i&&g()}function d(){zA(l)}function g(){var s=Date.now();if(t){if(s-r<UA)return;i=!0}else t=!0,i=!1,setTimeout(d,e);r=s}return g}var KA=20,GA=["top","right","bottom","left","width","height","size","weight"],YA=typeof MutationObserver<"u",qA=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=VA(this.refresh.bind(this),KA)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Ba||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),YA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Ba||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=GA.some(function(l){return!!~i.indexOf(l)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Gf=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},_i=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||$o},Yf=ss(0,0,0,0);function Do(n){return parseFloat(n)||0}function Yu(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var l=n["border-"+r+"-width"];return i+Do(l)},0)}function JA(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var l=r[i],d=n["padding-"+l];t[l]=Do(d)}return t}function QA(n){var e=n.getBBox();return ss(0,0,e.width,e.height)}function XA(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Yf;var i=_i(n).getComputedStyle(n),r=JA(i),l=r.left+r.right,d=r.top+r.bottom,g=Do(i.width),s=Do(i.height);if(i.boxSizing==="border-box"&&(Math.round(g+l)!==e&&(g-=Yu(i,"left","right")+l),Math.round(s+d)!==t&&(s-=Yu(i,"top","bottom")+d)),!eS(n)){var p=Math.round(g+l)-e,o=Math.round(s+d)-t;Math.abs(p)!==1&&(g-=p),Math.abs(o)!==1&&(s-=o)}return ss(r.left,r.top,g,s)}var ZA=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof _i(n).SVGGraphicsElement}:function(n){return n instanceof _i(n).SVGElement&&typeof n.getBBox=="function"}}();function eS(n){return n===_i(n).document.documentElement}function tS(n){return Ba?ZA(n)?QA(n):XA(n):Yf}function nS(n){var e=n.x,t=n.y,i=n.width,r=n.height,l=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,d=Object.create(l.prototype);return Gf(d,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),d}function ss(n,e,t,i){return{x:n,y:e,width:t,height:i}}var iS=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ss(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=tS(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),rS=function(){function n(e,t){var i=nS(t);Gf(this,{target:e,contentRect:i})}return n}(),oS=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new Kf,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof _i(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new iS(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof _i(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new rS(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),qf=typeof WeakMap<"u"?new WeakMap:new Kf,Jf=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=qA.getInstance(),i=new oS(e,t,this);qf.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Jf.prototype[n]=function(){var e;return(e=qf.get(this))[n].apply(e,arguments)}});var sS=function(){return typeof $o.ResizeObserver<"u"?$o.ResizeObserver:Jf}();const qu=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],aS=zo({name:"VAceEditor",props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...qu],render(){return Or("div")},mounted(){const n=this._editor=Ho(jA.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,n.on("change",()=>{if(this._isSettingContent)return;const e=n.getValue();this._contentBackup=e,this.$emit("update:value",e)}),qu.forEach(e=>{const t="on"+Lr(e);typeof this.$.vnode.props[t]=="function"&&n.on(e,this.$emit.bind(this,e))}),this._ro=new sS(()=>n.resize()),this._ro.observe(this.$el),this.$emit("init",n)},beforeUnmount(){var n,e;(n=this._ro)===null||n===void 0||n.disconnect(),(e=this._editor)===null||e===void 0||e.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()},getAceInstance(){return this._editor}},watch:{value(n){if(this._contentBackup!==n){try{this._isSettingContent=!0,this._editor.setValue(n,1)}finally{this._isSettingContent=!1}this._contentBackup=n}},theme(n){this._editor.setTheme("ace/theme/"+n)},options(n){this._editor.setOptions(n)},readonly(n){this._editor.setReadOnly(n)},placeholder(n){this._editor.setOption("placeholder",n)},wrap(n){this._editor.setWrapBehavioursEnabled(n)},printMargin(n){this._editor.setOption("printMargin",n)},lang(n){this._editor.setOption("mode","ace/mode/"+n)},minLines(n){this._editor.setOption("minLines",n)},maxLines(n){this._editor.setOption("maxLines",n)}}});var ta={exports:{}},Ju;function lS(){return Ju||(Ju=1,function(n,e){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(t,i,r){var l=t("../lib/oop"),d=t("./text_highlight_rules").TextHighlightRules,g=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},g.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};l.inherits(g,d),g.getTagRule=function(s){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},g.getStartRule=function(s){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:s}},g.getEndRule=function(s){return{token:"comment.doc",regex:"\\*\\/",next:s}},i.JsDocCommentHighlightRules=g}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(t,i,r){var l=t("../lib/oop"),d=t("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,g=t("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",p=function(u){var c={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},h=this.createKeywordMapper(c,"identifier"),f="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",v="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",b="(function)(\\s*)(\\*?)",S={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(c).join("|")+"\\b)"+s+")(\\s*)(\\()"};this.$rules={no_regex:[d.getStartRule("doc-start"),a("no_regex"),S,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+b+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+f+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:h,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:b+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[d.getStartRule("doc-start"),a("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[a("function_arguments"),{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:v},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!u||!u.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(R,x,C){if(this.next=R=="{"?this.nextState:"",R=="{"&&C.length)C.unshift("start",x);else if(R=="}"&&C.length&&(C.shift(),this.next=C.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return R=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:v},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+s+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!u||u.jsx!=!1)&&o.call(this)),this.embedRules(d,"doc-",[d.getEndRule("no_regex")]),this.normalizeRules()};l.inherits(p,g);function o(){var u=s.replace("\\d","\\d\\-"),c={onMatch:function(f,v,b){var S=f.charAt(1)=="/"?2:1;return S==1?(v!=this.nextState?b.unshift(this.next,this.nextState,0):b.unshift(this.next),b[2]++):S==2&&v==this.nextState&&(b[1]--,(!b[1]||b[1]<0)&&(b.shift(),b.shift())),[{type:"meta.tag.punctuation."+(S==1?"":"end-")+"tag-open.xml",value:f.slice(0,S)},{type:"meta.tag.tag-name.xml",value:f.substr(S)}]},regex:"</?(?:"+u+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(c);var h={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[h,c,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(f,v,b){return v==b[0]&&b.shift(),f.length==2&&(b[0]==this.nextState&&b[1]--,(!b[1]||b[1]<0)&&b.splice(0,2)),this.next=b[0]||"start",[{type:this.token,value:f}]},nextState:"jsx"},h,a("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:u},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},c],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function a(u){return[{token:"comment",regex:/\/\*/,next:[d.getTagRule(),{token:"comment",regex:"\\*\\/",next:u||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[d.getTagRule(),{token:"comment",regex:"$|^",next:u||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.JavaScriptHighlightRules=p}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(t,i,r){var l=t("../range").Range,d=function(){};(function(){this.checkOutdent=function(g,s){return/^\s+$/.test(g)?/^\s*\}/.test(s):!1},this.autoOutdent=function(g,s){var p=g.getLine(s),o=p.match(/^(\s*\})/);if(!o)return 0;var a=o[1].length,u=g.findMatchingBracket({row:s,column:a});if(!u||u.row==s)return 0;var c=this.$getIndent(g.getLine(u.row));g.replace(new l(s,0,s,a-1),c)},this.$getIndent=function(g){return g.match(/^\s*/)[0]}}).call(d.prototype),i.MatchingBraceOutdent=d}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(t,i,r){var l=t("../../lib/oop"),d=t("../behaviour").Behaviour,g=t("../../token_iterator").TokenIterator;function s(o,a){return o&&o.type.lastIndexOf(a+".xml")>-1}var p=function(){this.add("string_dquotes","insertion",function(o,a,u,c,h){if(h=='"'||h=="'"){var f=h,v=c.doc.getTextRange(u.getSelectionRange());if(v!==""&&v!=="'"&&v!='"'&&u.getWrapBehavioursEnabled())return{text:f+v+f,selection:!1};var b=u.getCursorPosition(),S=c.doc.getLine(b.row),R=S.substring(b.column,b.column+1),x=new g(c,b.row,b.column),C=x.getCurrentToken();if(R==f&&(s(C,"attribute-value")||s(C,"string")))return{text:"",selection:[1,1]};if(C||(C=x.stepBackward()),!C)return;for(;s(C,"tag-whitespace")||s(C,"whitespace");)C=x.stepBackward();var y=!R||R.match(/\s/);if(s(C,"attribute-equals")&&(y||R==">")||s(C,"decl-attribute-equals")&&(y||R=="?"))return{text:f+f,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(o,a,u,c,h){var f=c.doc.getTextRange(h);if(!h.isMultiLine()&&(f=='"'||f=="'")){var v=c.doc.getLine(h.start.row),b=v.substring(h.start.column+1,h.start.column+2);if(b==f)return h.end.column++,h}}),this.add("autoclosing","insertion",function(o,a,u,c,h){if(h==">"){var f=u.getSelectionRange().start,v=new g(c,f.row,f.column),b=v.getCurrentToken()||v.stepBackward();if(!b||!(s(b,"tag-name")||s(b,"tag-whitespace")||s(b,"attribute-name")||s(b,"attribute-equals")||s(b,"attribute-value"))||s(b,"reference.attribute-value"))return;if(s(b,"attribute-value")){var S=v.getCurrentTokenColumn()+b.value.length;if(f.column<S)return;if(f.column==S){var R=v.stepForward();if(R&&s(R,"attribute-value"))return;v.stepBackward()}}if(/^\s*>/.test(c.getLine(f.row).slice(f.column)))return;for(;!s(b,"tag-name");)if(b=v.stepBackward(),b.value=="<"){b=v.stepForward();break}var x=v.getCurrentTokenRow(),C=v.getCurrentTokenColumn();if(s(v.stepBackward(),"end-tag-open"))return;var y=b.value;return x==f.row&&(y=y.substring(0,f.column-C)),this.voidElements&&this.voidElements.hasOwnProperty(y.toLowerCase())?void 0:{text:"></"+y+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(o,a,u,c,h){if(h==`
`){var f=u.getCursorPosition(),v=c.getLine(f.row),b=new g(c,f.row,f.column),S=b.getCurrentToken();if(s(S,"")&&S.type.indexOf("tag-close")!==-1){if(S.value=="/>")return;for(;S&&S.type.indexOf("tag-name")===-1;)S=b.stepBackward();if(!S)return;var R=S.value,x=b.getCurrentTokenRow();if(S=b.stepBackward(),!S||S.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[R]||!this.voidElements){var C=c.getTokenAt(f.row,f.column+1),v=c.getLine(x),y=this.$getIndent(v),T=y+c.getTabString();return C&&C.value==="</"?{text:`
`+T+`
`+y,selection:[1,T.length,1,T.length]}:{text:`
`+T}}}}})};l.inherits(p,d),i.XmlBehaviour=p}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(t,i,r){var l=t("../../lib/oop"),d=t("../../token_iterator").TokenIterator,g=t("../behaviour/cstyle").CstyleBehaviour,s=t("../behaviour/xml").XmlBehaviour,p=function(){var o=new s({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(o),this.inherit(g),this.add("autoclosing-fragment","insertion",function(a,u,c,h,f){if(f==">"){var v=c.getSelectionRange().start,b=new d(h,v.row,v.column),S=b.getCurrentToken()||b.stepBackward();if(!S)return;if(S.value=="<")return{text:"></>",selection:[1,1]}}})};l.inherits(p,g),i.JavaScriptBehaviour=p}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,i,r){var l=t("../../lib/oop"),d=t("../../range").Range,g=t("./fold_mode").FoldMode,s=i.FoldMode=function(a,u){g.call(this),this.voidElements=a||{},this.optionalEndTags=l.mixin({},this.voidElements),u&&l.mixin(this.optionalEndTags,u)};l.inherits(s,g);var p=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function o(a,u){return a.type.lastIndexOf(u+".xml")>-1}(function(){this.getFoldWidget=function(a,u,c){var h=this._getFirstTagInLine(a,c);return h?h.closing||!h.tagName&&h.selfClosing?u==="markbeginend"?"end":"":!h.tagName||h.selfClosing||this.voidElements.hasOwnProperty(h.tagName.toLowerCase())||this._findEndTagInLine(a,c,h.tagName,h.end.column)?"":"start":this.getCommentFoldWidget(a,c)},this.getCommentFoldWidget=function(a,u){return/comment/.test(a.getState(u))&&/<!-/.test(a.getLine(u))?"start":""},this._getFirstTagInLine=function(a,u){for(var c=a.getTokens(u),h=new p,f=0;f<c.length;f++){var v=c[f];if(o(v,"tag-open")){if(h.end.column=h.start.column+v.value.length,h.closing=o(v,"end-tag-open"),v=c[++f],!v)return null;if(h.tagName=v.value,v.value===""){if(v=c[++f],!v)return null;h.tagName=v.value}for(h.end.column+=v.value.length,f++;f<c.length;f++)if(v=c[f],h.end.column+=v.value.length,o(v,"tag-close")){h.selfClosing=v.value=="/>";break}return h}else if(o(v,"tag-close"))return h.selfClosing=v.value=="/>",h;h.start.column+=v.value.length}return null},this._findEndTagInLine=function(a,u,c,h){for(var f=a.getTokens(u),v=0,b=0;b<f.length;b++){var S=f[b];if(v+=S.value.length,!(v<h-1)&&o(S,"end-tag-open")&&(S=f[b+1],o(S,"tag-name")&&S.value===""&&(S=f[b+2]),S&&S.value==c))return!0}return!1},this.getFoldWidgetRange=function(a,u,c){var h=this._getFirstTagInLine(a,c);if(!h)return this.getCommentFoldWidget(a,c)&&a.getCommentFoldRange(c,a.getLine(c).length);var f=a.getMatchingTags({row:c,column:0});if(f)return new d(f.openTag.end.row,f.openTag.end.column,f.closeTag.start.row,f.closeTag.start.column)}}).call(s.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(t,i,r){var l=t("../../lib/oop"),d=t("../../range").Range,g=t("./fold_mode").FoldMode,s=i.FoldMode=function(p){p&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+p.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+p.end)))};l.inherits(s,g),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(p,o,a){var u=p.getLine(a);if(this.singleLineBlockCommentRe.test(u)&&!this.startRegionRe.test(u)&&!this.tripleStarBlockCommentRe.test(u))return"";var c=this._getFoldWidgetBase(p,o,a);return!c&&this.startRegionRe.test(u)?"start":c},this.getFoldWidgetRange=function(p,o,a,u){var c=p.getLine(a);if(this.startRegionRe.test(c))return this.getCommentRegionBlock(p,c,a);var v=c.match(this.foldingStartMarker);if(v){var h=v.index;if(v[1])return this.openingBracketBlock(p,v[1],a,h);var f=p.getCommentFoldRange(a,h+v[0].length,1);return f&&!f.isMultiLine()&&(u?f=this.getSectionRange(p,a):o!="all"&&(f=null)),f}if(o!=="markbegin"){var v=c.match(this.foldingStopMarker);if(v){var h=v.index+v[0].length;return v[1]?this.closingBracketBlock(p,v[1],a,h):p.getCommentFoldRange(a,h,-1)}}},this.getSectionRange=function(p,o){var a=p.getLine(o),u=a.search(/\S/),c=o,h=a.length;o=o+1;for(var f=o,v=p.getLength();++o<v;){a=p.getLine(o);var b=a.search(/\S/);if(b!==-1){if(u>b)break;var S=this.getFoldWidgetRange(p,"all",o);if(S){if(S.start.row<=c)break;if(S.isMultiLine())o=S.end.row;else if(u==b)break}f=o}}return new d(c,h,f,p.getLine(f).length)},this.getCommentRegionBlock=function(p,o,a){for(var u=o.search(/\s*$/),c=p.getLength(),h=a,f=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++a<c;){o=p.getLine(a);var b=f.exec(o);if(b&&(b[1]?v--:v++,!v))break}var S=a;if(S>h)return new d(h,u,S,o.length)}}).call(s.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(t,i,r){var l=t("../../lib/oop"),d=t("./xml").FoldMode,g=t("./cstyle").FoldMode,s=i.FoldMode=function(p){p&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+p.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+p.end))),this.xmlFoldMode=new d};l.inherits(s,g),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(p,o,a){var u=this.getFoldWidgetBase(p,o,a);return u||this.xmlFoldMode.getFoldWidget(p,o,a)},this.getFoldWidgetRange=function(p,o,a,u){var c=this.getFoldWidgetRangeBase(p,o,a,u);return c||this.xmlFoldMode.getFoldWidgetRange(p,o,a)}}).call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(t,i,r){var l=t("../lib/oop"),d=t("./text").Mode,g=t("./javascript_highlight_rules").JavaScriptHighlightRules,s=t("./matching_brace_outdent").MatchingBraceOutdent,p=t("../worker/worker_client").WorkerClient,o=t("./behaviour/javascript").JavaScriptBehaviour,a=t("./folding/javascript").FoldMode,u=function(){this.HighlightRules=g,this.$outdent=new s,this.$behaviour=new o,this.foldingRules=new a};l.inherits(u,d),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(c,h,f){var v=this.$getIndent(h),b=this.getTokenizer().getLineTokens(h,c),S=b.tokens,R=b.state;if(S.length&&S[S.length-1].type=="comment")return v;if(c=="start"||c=="no_regex"){var x=h.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);x&&(v+=f)}else if(c=="doc-start"&&(R=="start"||R=="no_regex"))return"";return v},this.checkOutdent=function(c,h,f){return this.$outdent.checkOutdent(h,f)},this.autoOutdent=function(c,h,f){this.$outdent.autoOutdent(h,f)},this.createWorker=function(c){var h=new p(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return h.attachToDocument(c.getDocument()),h.on("annotate",function(f){c.setAnnotations(f.data)}),h.on("terminate",function(){c.clearAnnotations()}),h},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(u.prototype),i.Mode=u}),function(){ace.require(["ace/mode/javascript"],function(t){n.exports=t})}()}(ta)),ta.exports}lS();var na={exports:{}},Qu;function cS(){return Qu||(Qu=1,function(n,e){ace.define("ace/theme/chrome-css",["require","exports","module"],function(t,i,r){r.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(t,i,r){i.isDark=!1,i.cssClass="ace-chrome",i.cssText=t("./chrome-css");var l=t("../lib/dom");l.importCssString(i.cssText,i.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(t){n.exports=t})}()}(na)),na.exports}cS();var ia={exports:{}},Xu;function uS(){return Xu||(Xu=1,function(n,e){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(t,i,r){var l=t("./lib/dom"),d=t("./lib/oop"),g=t("./lib/event_emitter").EventEmitter,s=t("./lib/lang"),p=t("./range").Range,o=t("./range_list").RangeList,a=t("./keyboard/hash_handler").HashHandler,u=t("./tokenizer").Tokenizer,c=t("./clipboard"),h={CURRENT_WORD:function(y){return y.session.getTextRange(y.session.getWordRange())},SELECTION:function(y,T,L){var _=y.session.getTextRange();return L?_.replace(/\n\r?([ \t]*\S)/g,`
`+L+"$1"):_},CURRENT_LINE:function(y){return y.session.getLine(y.getCursorPosition().row)},PREV_LINE:function(y){return y.session.getLine(y.getCursorPosition().row-1)},LINE_INDEX:function(y){return y.getCursorPosition().row},LINE_NUMBER:function(y){return y.getCursorPosition().row+1},SOFT_TABS:function(y){return y.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(y){return y.session.getTabSize()},CLIPBOARD:function(y){return c.getText&&c.getText()},FILENAME:function(y){return/[^/\\]*$/.exec(this.FILEPATH(y))[0]},FILENAME_BASE:function(y){return/[^/\\]*$/.exec(this.FILEPATH(y))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(y){return this.FILEPATH(y).replace(/[^/\\]*$/,"")},FILEPATH:function(y){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(y){var T=y.session.$mode||{};return T.blockComment&&T.blockComment.start||""},BLOCK_COMMENT_END:function(y){var T=y.session.$mode||{};return T.blockComment&&T.blockComment.end||""},LINE_COMMENT:function(y){var T=y.session.$mode||{};return T.lineCommentStart||""},CURRENT_YEAR:f.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:f.bind(null,{year:"2-digit"}),CURRENT_MONTH:f.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:f.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:f.bind(null,{month:"short"}),CURRENT_DATE:f.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:f.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:f.bind(null,{weekday:"short"}),CURRENT_HOUR:f.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:f.bind(null,{minute:"2-digit"}),CURRENT_SECOND:f.bind(null,{second:"2-digit"})};h.SELECTED_TEXT=h.SELECTION;function f(y){var T=new Date().toLocaleString("en-us",y);return T.length==1?"0"+T:T}var v=function(){function y(){this.snippetMap={},this.snippetNameMap={},this.variables=h}return y.prototype.getTokenizer=function(){return y.$tokenizer||this.createTokenizer()},y.prototype.createTokenizer=function(){function T(k){return k=k.substr(1),/^\d+$/.test(k)?[{tabstopId:parseInt(k,10)}]:[{text:k}]}function L(k){return"(?:[^\\\\"+k+"]|\\\\.)"}var _={regex:"/("+L("/")+"+)/",onMatch:function(k,I,w){var m=w[0];return m.fmtString=!0,m.guard=k.slice(1,-1),m.flag="",""},next:"formatString"};return y.$tokenizer=new u({start:[{regex:/\\./,onMatch:function(k,I,w){var m=k[1];return(m=="}"&&w.length||"`$\\".indexOf(m)!=-1)&&(k=m),[k]}},{regex:/}/,onMatch:function(k,I,w){return[w.length?w.shift():k]}},{regex:/\$(?:\d+|\w+)/,onMatch:T},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(k,I,w){var m=T(k.substr(1));return w.unshift(m[0]),m},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+L("\\|")+"*\\|",onMatch:function(k,I,w){var m=k.slice(1,-1).replace(/\\[,|\\]|,/g,function(A){return A.length==2?A[1]:"\0"}).split("\0").map(function(A){return{value:A}});return w[0].choices=m,[m[0]]},next:"start"},_,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(k,I,w){return w.length&&w[0].expectElse?(w[0].expectElse=!1,w[0].ifEnd={elseEnd:w[0]},[w[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(k,I,w){var m=k[1];return m=="}"&&w.length||"`$\\".indexOf(m)!=-1?k=m:m=="n"?k=`
`:m=="t"?k="	":"ulULE".indexOf(m)!=-1&&(k={changeCase:m,local:m>"a"}),[k]}},{regex:"/\\w*}",onMatch:function(k,I,w){var m=w.shift();return m&&(m.flag=k.slice(1,-1)),this.next=m&&m.tabstopId?"start":"",[m||k]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(k,I,w){return[{text:k.slice(1)}]}},{regex:/\${\w+/,onMatch:function(k,I,w){var m={text:k.slice(2)};return w.unshift(m),[m]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(k,I,w){var m=w.shift();return this.next=m&&m.tabstopId?"start":"",[m||k]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(k,I,w){var m=w[0];return m.formatFunction=k.slice(2,-1),[w.shift()]},next:"formatString"},_,{regex:/:[\?\-+]?/,onMatch:function(k,I,w){k[1]=="+"&&(w[0].ifEnd=w[0]),k[1]=="?"&&(w[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),y.$tokenizer},y.prototype.tokenizeTmSnippet=function(T,L){return this.getTokenizer().getLineTokens(T,L).tokens.map(function(_){return _.value||_})},y.prototype.getVariableValue=function(T,L,_){if(/^\d+$/.test(L))return(this.variables.__||{})[L]||"";if(/^[A-Z]\d+$/.test(L))return(this.variables[L[0]+"__"]||{})[L.substr(1)]||"";if(L=L.replace(/^TM_/,""),!this.variables.hasOwnProperty(L))return"";var k=this.variables[L];return typeof k=="function"&&(k=this.variables[L](T,L,_)),k??""},y.prototype.tmStrFormat=function(T,L,_){if(!L.fmt)return T;var k=L.flag||"",I=L.guard;I=new RegExp(I,k.replace(/[^gim]/g,""));var w=typeof L.fmt=="string"?this.tokenizeTmSnippet(L.fmt,"formatString"):L.fmt,m=this,A=T.replace(I,function(){var E=m.variables.__;m.variables.__=[].slice.call(arguments);for(var M=m.resolveVariables(w,_),O="E",$=0;$<M.length;$++){var D=M[$];if(typeof D=="object")if(M[$]="",D.changeCase&&D.local){var N=M[$+1];N&&typeof N=="string"&&(D.changeCase=="u"?M[$]=N[0].toUpperCase():M[$]=N[0].toLowerCase(),M[$+1]=N.substr(1))}else D.changeCase&&(O=D.changeCase);else O=="U"?M[$]=D.toUpperCase():O=="L"&&(M[$]=D.toLowerCase())}return m.variables.__=E,M.join("")});return A},y.prototype.tmFormatFunction=function(T,L,_){return L.formatFunction=="upcase"?T.toUpperCase():L.formatFunction=="downcase"?T.toLowerCase():T},y.prototype.resolveVariables=function(T,L){for(var _=[],k="",I=!0,w=0;w<T.length;w++){var m=T[w];if(typeof m=="string"){_.push(m),m==`
`?(I=!0,k=""):I&&(k=/^\t*/.exec(m)[0],I=/\S/.test(m));continue}if(m){if(I=!1,m.fmtString){var A=T.indexOf(m,w+1);A==-1&&(A=T.length),m.fmt=T.slice(w+1,A),w=A}if(m.text){var E=this.getVariableValue(L,m.text,k)+"";m.fmtString&&(E=this.tmStrFormat(E,m,L)),m.formatFunction&&(E=this.tmFormatFunction(E,m,L)),E&&!m.ifEnd?(_.push(E),M(m)):!E&&m.ifEnd&&M(m.ifEnd)}else m.elseEnd?M(m.elseEnd):(m.tabstopId!=null||m.changeCase!=null)&&_.push(m)}}function M(O){var $=T.indexOf(O,w+1);$!=-1&&(w=$)}return _},y.prototype.getDisplayTextForSnippet=function(T,L){var _=b.call(this,T,L);return _.text},y.prototype.insertSnippetForSelection=function(T,L,_){_===void 0&&(_={});var k=b.call(this,T,L,_),I=T.getSelectionRange(),w=T.session.replace(I,k.text),m=new S(T),A=T.inVirtualSelectionMode&&T.selection.index;m.addTabstops(k.tabstops,I.start,w,A)},y.prototype.insertSnippet=function(T,L,_){_===void 0&&(_={});var k=this;if(T.inVirtualSelectionMode)return k.insertSnippetForSelection(T,L,_);T.forEachSelection(function(){k.insertSnippetForSelection(T,L,_)},null,{keepOrder:!0}),T.tabstopManager&&T.tabstopManager.tabNext()},y.prototype.$getScope=function(T){var L=T.session.$mode.$id||"";if(L=L.split("/").pop(),L==="html"||L==="php"){L==="php"&&!T.session.$mode.inlinePhp&&(L="html");var _=T.getCursorPosition(),k=T.session.getState(_.row);typeof k=="object"&&(k=k[0]),k.substring&&(k.substring(0,3)=="js-"?L="javascript":k.substring(0,4)=="css-"?L="css":k.substring(0,4)=="php-"&&(L="php"))}return L},y.prototype.getActiveScopes=function(T){var L=this.$getScope(T),_=[L],k=this.snippetMap;return k[L]&&k[L].includeScopes&&_.push.apply(_,k[L].includeScopes),_.push("_"),_},y.prototype.expandWithTab=function(T,L){var _=this,k=T.forEachSelection(function(){return _.expandSnippetForSelection(T,L)},null,{keepOrder:!0});return k&&T.tabstopManager&&T.tabstopManager.tabNext(),k},y.prototype.expandSnippetForSelection=function(T,L){var _=T.getCursorPosition(),k=T.session.getLine(_.row),I=k.substring(0,_.column),w=k.substr(_.column),m=this.snippetMap,A;return this.getActiveScopes(T).some(function(E){var M=m[E];return M&&(A=this.findMatchingSnippet(M,I,w)),!!A},this),A?(L&&L.dryRun||(T.session.doc.removeInLine(_.row,_.column-A.replaceBefore.length,_.column+A.replaceAfter.length),this.variables.M__=A.matchBefore,this.variables.T__=A.matchAfter,this.insertSnippetForSelection(T,A.content),this.variables.M__=this.variables.T__=null),!0):!1},y.prototype.findMatchingSnippet=function(T,L,_){for(var k=T.length;k--;){var I=T[k];if(!(I.startRe&&!I.startRe.test(L))&&!(I.endRe&&!I.endRe.test(_))&&!(!I.startRe&&!I.endRe))return I.matchBefore=I.startRe?I.startRe.exec(L):[""],I.matchAfter=I.endRe?I.endRe.exec(_):[""],I.replaceBefore=I.triggerRe?I.triggerRe.exec(L)[0]:"",I.replaceAfter=I.endTriggerRe?I.endTriggerRe.exec(_)[0]:"",I}},y.prototype.register=function(T,L){var _=this.snippetMap,k=this.snippetNameMap,I=this;T||(T=[]);function w(E){return E&&!/^\^?\(.*\)\$?$|^\\b$/.test(E)&&(E="(?:"+E+")"),E||""}function m(E,M,O){return E=w(E),M=w(M),E=M+E,E&&E[E.length-1]!="$"&&(E=E+"$"),new RegExp(E)}function A(E){E.scope||(E.scope=L||"_"),L=E.scope,_[L]||(_[L]=[],k[L]={});var M=k[L];if(E.name){var O=M[E.name];O&&I.unregister(O),M[E.name]=E}_[L].push(E),E.prefix&&(E.tabTrigger=E.prefix),!E.content&&E.body&&(E.content=Array.isArray(E.body)?E.body.join(`
`):E.body),E.tabTrigger&&!E.trigger&&(!E.guard&&/^\w/.test(E.tabTrigger)&&(E.guard="\\b"),E.trigger=s.escapeRegExp(E.tabTrigger)),!(!E.trigger&&!E.guard&&!E.endTrigger&&!E.endGuard)&&(E.startRe=m(E.trigger,E.guard),E.triggerRe=new RegExp(E.trigger),E.endRe=m(E.endTrigger,E.endGuard),E.endTriggerRe=new RegExp(E.endTrigger))}Array.isArray(T)?T.forEach(A):Object.keys(T).forEach(function(E){A(T[E])}),this._signal("registerSnippets",{scope:L})},y.prototype.unregister=function(T,L){var _=this.snippetMap,k=this.snippetNameMap;function I(w){var m=k[w.scope||L];if(m&&m[w.name]){delete m[w.name];var A=_[w.scope||L],E=A&&A.indexOf(w);E>=0&&A.splice(E,1)}}T.content?I(T):Array.isArray(T)&&T.forEach(I)},y.prototype.parseSnippetFile=function(T){T=T.replace(/\r/g,"");for(var L=[],_={},k=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,I;I=k.exec(T);){if(I[1])try{_=JSON.parse(I[1]),L.push(_)}catch{}if(I[4])_.content=I[4].replace(/^\t/gm,""),L.push(_),_={};else{var w=I[2],m=I[3];if(w=="regex"){var A=/\/((?:[^\/\\]|\\.)*)|$/g;_.guard=A.exec(m)[1],_.trigger=A.exec(m)[1],_.endTrigger=A.exec(m)[1],_.endGuard=A.exec(m)[1]}else w=="snippet"?(_.tabTrigger=m.match(/^\S*/)[0],_.name||(_.name=m)):w&&(_[w]=m)}}return L},y.prototype.getSnippetByName=function(T,L){var _=this.snippetNameMap,k;return this.getActiveScopes(L).some(function(I){var w=_[I];return w&&(k=w[T]),!!k},this),k},y}();d.implement(v.prototype,g);var b=function(y,T,L){L===void 0&&(L={});var _=y.getCursorPosition(),k=y.session.getLine(_.row),I=y.session.getTabString(),w=k.match(/^\s*/)[0];_.column<w.length&&(w=w.slice(0,_.column)),T=T.replace(/\r/g,"");var m=this.tokenizeTmSnippet(T);m=this.resolveVariables(m,y),m=m.map(function(H){return H==`
`&&!L.excludeExtraIndent?H+w:typeof H=="string"?H.replace(/\t/g,I):H});var A=[];m.forEach(function(H,W){if(typeof H=="object"){var Y=H.tabstopId,q=A[Y];if(q||(q=A[Y]=[],q.index=Y,q.value="",q.parents={}),q.indexOf(H)===-1){H.choices&&!q.choices&&(q.choices=H.choices),q.push(H);var J=m.indexOf(H,W+1);if(J!==-1){var ne=m.slice(W+1,J),B=ne.some(function(U){return typeof U=="object"});B&&!q.value?q.value=ne:ne.length&&(!q.value||typeof q.value!="string")&&(q.value=ne.join(""))}}}}),A.forEach(function(H){H.length=0});var E={};function M(H){for(var W=[],Y=0;Y<H.length;Y++){var q=H[Y];if(typeof q=="object"){if(E[q.tabstopId])continue;var J=H.lastIndexOf(q,Y-1);q=W[J]||{tabstopId:q.tabstopId}}W[Y]=q}return W}for(var O=0;O<m.length;O++){var $=m[O];if(typeof $=="object"){var D=$.tabstopId,N=A[D],F=m.indexOf($,O+1);if(E[D]){E[D]===$&&(delete E[D],Object.keys(E).forEach(function(H){N.parents[H]=!0}));continue}E[D]=$;var z=N.value;typeof z!="string"?z=M(z):$.fmt&&(z=this.tmStrFormat(z,$,y)),m.splice.apply(m,[O+1,Math.max(0,F-O)].concat(z,$)),N.indexOf($)===-1&&N.push($)}}var P=0,j=0,G="";return m.forEach(function(H){if(typeof H=="string"){var W=H.split(`
`);W.length>1?(j=W[W.length-1].length,P+=W.length-1):j+=H.length,G+=H}else H&&(H.start?H.end={row:P,column:j}:H.start={row:P,column:j})}),{text:G,tabstops:A,tokens:m}},S=function(){function y(T){if(this.index=0,this.ranges=[],this.tabstops=[],T.tabstopManager)return T.tabstopManager;T.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(T)}return y.prototype.attach=function(T){this.$openTabstops=null,this.selectedTabstop=null,this.editor=T,this.session=T.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},y.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},y.prototype.onChange=function(T){for(var L=T.action[0]=="r",_=this.selectedTabstop||{},k=_.parents||{},I=this.tabstops.slice(),w=0;w<I.length;w++){var m=I[w],A=m==_||k[m.index];if(m.rangeList.$bias=A?0:1,T.action=="remove"&&m!==_){var E=m.parents&&m.parents[_.index],M=m.rangeList.pointIndex(T.start,E);M=M<0?-M-1:M+1;var O=m.rangeList.pointIndex(T.end,E);O=O<0?-O-1:O-1;for(var $=m.rangeList.ranges.slice(M,O),D=0;D<$.length;D++)this.removeRange($[D])}m.rangeList.$onChange(T)}var N=this.session;!this.$inChange&&L&&N.getLength()==1&&!N.getValue()&&this.detach()},y.prototype.updateLinkedFields=function(){var T=this.selectedTabstop;if(!(!T||!T.hasLinkedRanges||!T.firstNonLinked)){this.$inChange=!0;for(var L=this.session,_=L.getTextRange(T.firstNonLinked),k=0;k<T.length;k++){var I=T[k];if(I.linked){var w=I.original,m=i.snippetManager.tmStrFormat(_,w,this.editor);L.replace(I,m)}}this.$inChange=!1}},y.prototype.onAfterExec=function(T){T.command&&!T.command.readOnly&&this.updateLinkedFields()},y.prototype.onChangeSelection=function(){if(this.editor){for(var T=this.editor.selection.lead,L=this.editor.selection.anchor,_=this.editor.selection.isEmpty(),k=0;k<this.ranges.length;k++)if(!this.ranges[k].linked){var I=this.ranges[k].contains(T.row,T.column),w=_||this.ranges[k].contains(L.row,L.column);if(I&&w)return}this.detach()}},y.prototype.onChangeSession=function(){this.detach()},y.prototype.tabNext=function(T){var L=this.tabstops.length,_=this.index+(T||1);_=Math.min(Math.max(_,1),L),_==L&&(_=0),this.selectTabstop(_),this.updateTabstopMarkers(),_===0&&this.detach()},y.prototype.selectTabstop=function(T){this.$openTabstops=null;var L=this.tabstops[this.index];if(L&&this.addTabstopMarkers(L),this.index=T,L=this.tabstops[this.index],!(!L||!L.length)){this.selectedTabstop=L;var _=L.firstNonLinked||L;if(L.choices&&(_.cursor=_.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(_);else{var k=this.editor.multiSelect;k.toSingleRange(_);for(var I=0;I<L.length;I++)L.hasLinkedRanges&&L[I].linked||k.addRange(L[I].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},y.prototype.addTabstops=function(T,L,_){var k=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!T[0]){var I=p.fromPoints(_,_);x(I.start,L),x(I.end,L),T[0]=[I],T[0].index=0}var w=this.index,m=[w+1,0],A=this.ranges,E=this.snippetId=(this.snippetId||0)+1;T.forEach(function(M,O){var $=this.$openTabstops[O]||M;$.snippetId=E;for(var D=0;D<M.length;D++){var N=M[D],F=p.fromPoints(N.start,N.end||N.start);R(F.start,L),R(F.end,L),F.original=N,F.tabstop=$,A.push(F),$!=M?$.unshift(F):$[D]=F,N.fmtString||$.firstNonLinked&&k?(F.linked=!0,$.hasLinkedRanges=!0):$.firstNonLinked||($.firstNonLinked=F)}$.firstNonLinked||($.hasLinkedRanges=!1),$===M&&(m.push($),this.$openTabstops[O]=$),this.addTabstopMarkers($),$.rangeList=$.rangeList||new o,$.rangeList.$bias=0,$.rangeList.addList($)},this),m.length>2&&(this.tabstops.length&&m.push(m.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,m))},y.prototype.addTabstopMarkers=function(T){var L=this.session;T.forEach(function(_){_.markerId||(_.markerId=L.addMarker(_,"ace_snippet-marker","text"))})},y.prototype.removeTabstopMarkers=function(T){var L=this.session;T.forEach(function(_){L.removeMarker(_.markerId),_.markerId=null})},y.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var T=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&T--,this.tabstops.forEach(function(L){L.snippetId===T?this.addTabstopMarkers(L):this.removeTabstopMarkers(L)},this)}},y.prototype.removeRange=function(T){var L=T.tabstop.indexOf(T);L!=-1&&T.tabstop.splice(L,1),L=this.ranges.indexOf(T),L!=-1&&this.ranges.splice(L,1),L=T.tabstop.rangeList.ranges.indexOf(T),L!=-1&&T.tabstop.splice(L,1),this.session.removeMarker(T.markerId),T.tabstop.length||(L=this.tabstops.indexOf(T.tabstop),L!=-1&&this.tabstops.splice(L,1),this.tabstops.length||this.detach())},y}();S.prototype.keyboardHandler=new a,S.prototype.keyboardHandler.bindKeys({Tab:function(y){i.snippetManager&&i.snippetManager.expandWithTab(y)||(y.tabstopManager.tabNext(1),y.renderer.scrollCursorIntoView())},"Shift-Tab":function(y){y.tabstopManager.tabNext(-1),y.renderer.scrollCursorIntoView()},Esc:function(y){y.tabstopManager.detach()}});var R=function(y,T){y.row==0&&(y.column+=T.column),y.row+=T.row},x=function(y,T){y.row==T.row&&(y.column-=T.column),y.row-=T.row};l.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),i.snippetManager=new v;var C=t("./editor").Editor;(function(){this.insertSnippet=function(y,T){return i.snippetManager.insertSnippet(this,y,T)},this.expandSnippet=function(y){return i.snippetManager.expandWithTab(this,y)}}).call(C.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(t,i,r){var l=t("../virtual_renderer").VirtualRenderer,d=t("../editor").Editor,g=t("../range").Range,s=t("../lib/event"),p=t("../lib/lang"),o=t("../lib/dom"),a=t("../config").nls,u=t("./../lib/useragent"),c=function(R){return"suggest-aria-id:".concat(R)},h=u.isSafari?"menu":"listbox",f=u.isSafari?"menuitem":"option",v=u.isSafari?"aria-current":"aria-selected",b=function(R){var x=new l(R);x.$maxLines=4;var C=new d(x);return C.setHighlightActiveLine(!1),C.setShowPrintMargin(!1),C.renderer.setShowGutter(!1),C.renderer.setHighlightGutterLine(!1),C.$mouseHandler.$focusTimeout=0,C.$highlightTagPending=!0,C},S=function(){function R(x){var C=o.createElement("div"),y=b(C);x&&x.appendChild(C),C.style.display="none",y.renderer.content.style.cursor="default",y.renderer.setStyle("ace_autocomplete"),y.renderer.$textLayer.element.setAttribute("role",h),y.renderer.$textLayer.element.setAttribute("aria-roledescription",a("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),y.renderer.$textLayer.element.setAttribute("aria-label",a("autocomplete.popup.aria-label","Autocomplete suggestions")),y.renderer.textarea.setAttribute("aria-hidden","true"),y.setOption("displayIndentGuides",!1),y.setOption("dragDelay",150);var T=function(){};y.focus=T,y.$isFocused=!0,y.renderer.$cursorLayer.restartTimer=T,y.renderer.$cursorLayer.element.style.opacity="0",y.renderer.$maxLines=8,y.renderer.$keepTextAreaAtCursor=!1,y.setHighlightActiveLine(!1),y.session.highlight(""),y.session.$searchHighlight.clazz="ace_highlight-marker",y.on("mousedown",function(A){var E=A.getDocumentPosition();y.selection.moveToPosition(E),k.start.row=k.end.row=E.row,A.stop()});var L,_=new g(-1,0,-1,1/0),k=new g(-1,0,-1,1/0);k.id=y.session.addMarker(k,"ace_active-line","fullLine"),y.setSelectOnHover=function(A){A?_.id&&(y.session.removeMarker(_.id),_.id=null):_.id=y.session.addMarker(_,"ace_line-hover","fullLine")},y.setSelectOnHover(!1),y.on("mousemove",function(A){if(!L){L=A;return}if(!(L.x==A.x&&L.y==A.y)){L=A,L.scrollTop=y.renderer.scrollTop,y.isMouseOver=!0;var E=L.getDocumentPosition().row;_.start.row!=E&&(_.id||y.setRow(E),w(E))}}),y.renderer.on("beforeRender",function(){if(L&&_.start.row!=-1){L.$pos=null;var A=L.getDocumentPosition().row;_.id||y.setRow(A),w(A,!0)}}),y.renderer.on("afterRender",function(){var A=y.getRow(),E=y.renderer.$textLayer,M=E.element.childNodes[A-E.config.firstRow],O=document.activeElement;if(M!==y.selectedNode&&y.selectedNode&&(o.removeCssClass(y.selectedNode,"ace_selected"),O.removeAttribute("aria-activedescendant"),y.selectedNode.removeAttribute(v),y.selectedNode.removeAttribute("id")),y.selectedNode=M,M){o.addCssClass(M,"ace_selected");var $=c(A);M.id=$,E.element.setAttribute("aria-activedescendant",$),O.setAttribute("aria-activedescendant",$),M.setAttribute("role",f),M.setAttribute("aria-roledescription",a("autocomplete.popup.item.aria-roledescription","item")),M.setAttribute("aria-label",y.getData(A).caption||y.getData(A).value),M.setAttribute("aria-setsize",y.data.length),M.setAttribute("aria-posinset",A+1),M.setAttribute("aria-describedby","doc-tooltip"),M.setAttribute(v,"true")}});var I=function(){w(-1)},w=function(A,E){A!==_.start.row&&(_.start.row=_.end.row=A,E||y.session._emit("changeBackMarker"),y._emit("changeHoverMarker"))};y.getHoveredRow=function(){return _.start.row},s.addListener(y.container,"mouseout",function(){y.isMouseOver=!1,I()}),y.on("hide",I),y.on("changeSelection",I),y.session.doc.getLength=function(){return y.data.length},y.session.doc.getLine=function(A){var E=y.data[A];return typeof E=="string"?E:E&&E.value||""};var m=y.session.bgTokenizer;return m.$tokenizeRow=function(A){var E=y.data[A],M=[];if(!E)return M;typeof E=="string"&&(E={value:E});var O=E.caption||E.value||E.name;function $(H,W){H&&M.push({type:(E.className||"")+(W||""),value:H})}for(var D=O.toLowerCase(),N=(y.filterText||"").toLowerCase(),F=0,z=0,P=0;P<=N.length;P++)if(P!=z&&(E.matchMask&1<<P||P==N.length)){var j=N.slice(z,P);z=P;var G=D.indexOf(j,F);if(G==-1)continue;$(O.slice(F,G),""),F=G+j.length,$(O.slice(G,F),"completion-highlight")}return $(O.slice(F,O.length),""),M.push({type:"completion-spacer",value:" "}),E.meta&&M.push({type:"completion-meta",value:E.meta}),E.message&&M.push({type:"completion-message",value:E.message}),M},m.$updateOnChange=T,m.start=T,y.session.$computeWidth=function(){return this.screenWidth=0},y.isOpen=!1,y.isTopdown=!1,y.autoSelect=!0,y.filterText="",y.isMouseOver=!1,y.data=[],y.setData=function(A,E){y.filterText=E||"",y.setValue(p.stringRepeat(`
`,A.length),-1),y.data=A||[],y.setRow(0)},y.getData=function(A){return y.data[A]},y.getRow=function(){return k.start.row},y.setRow=function(A){A=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,A)),k.start.row!=A&&(y.selection.clearSelection(),k.start.row=k.end.row=A||0,y.session._emit("changeBackMarker"),y.moveCursorTo(A||0,0),y.isOpen&&y._signal("select"))},y.on("changeSelection",function(){y.isOpen&&y.setRow(y.selection.lead.row),y.renderer.scrollCursorIntoView()}),y.hide=function(){this.container.style.display="none",y.anchorPos=null,y.anchor=null,y.isOpen&&(y.isOpen=!1,this._signal("hide"))},y.tryShow=function(A,E,M,O){if(!O&&y.isOpen&&y.anchorPos&&y.anchor&&y.anchorPos.top===A.top&&y.anchorPos.left===A.left&&y.anchor===M)return!0;var $=this.container,D=window.innerHeight,N=window.innerWidth,F=this.renderer,z=F.$maxLines*E*1.4,P={top:0,bottom:0,left:0},j=D-A.top-3*this.$borderSize-E,G=A.top-3*this.$borderSize;M||(G<=j||j>=z?M="bottom":M="top"),M==="top"?(P.bottom=A.top-this.$borderSize,P.top=P.bottom-z):M==="bottom"&&(P.top=A.top+E+this.$borderSize,P.bottom=P.top+z);var H=P.top>=0&&P.bottom<=D;if(!O&&!H)return!1;H?F.$maxPixelHeight=null:M==="top"?F.$maxPixelHeight=G:F.$maxPixelHeight=j,M==="top"?($.style.top="",$.style.bottom=D-P.bottom+"px",y.isTopdown=!1):($.style.top=P.top+"px",$.style.bottom="",y.isTopdown=!0),$.style.display="";var W=A.left;return W+$.offsetWidth>N&&(W=N-$.offsetWidth),$.style.left=W+"px",$.style.right="",y.isOpen||(y.isOpen=!0,this._signal("show"),L=null),y.anchorPos=A,y.anchor=M,!0},y.show=function(A,E,M){this.tryShow(A,E,M?"bottom":void 0,!0)},y.goTo=function(A){var E=this.getRow(),M=this.session.getLength()-1;switch(A){case"up":E=E<=0?M:E-1;break;case"down":E=E>=M?-1:E+1;break;case"start":E=0;break;case"end":E=M;break}this.setRow(E)},y.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},y.$imageSize=0,y.$borderSize=1,y}return R}();o.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),i.AcePopup=S,i.$singleLineEditor=b,i.getAriaId=c}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(t,i,r){var l=function(){function d(g){this.editor=g,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return d.prototype.setScreenReaderContent=function(g){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var p=this.popup.getRow(),o=this.popup.renderer.$textLayer,a=o.element.childNodes[p-o.config.firstRow];if(a){for(var u="doc-tooltip ",c=0;c<this._lines.length;c++)u+="ace-inline-screenreader-line-".concat(c," ");a.setAttribute("aria-describedby",u)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=g.split(/\r\n|\r|\n/);var s=this.createCodeBlock();this.screenReaderDiv.appendChild(s)},d.prototype.destroy=function(){this.screenReaderDiv.remove()},d.prototype.createCodeBlock=function(){var g=document.createElement("pre");g.setAttribute("id","ace-inline-screenreader");for(var s=0;s<this._lines.length;s++){var p=document.createElement("code");p.setAttribute("id","ace-inline-screenreader-line-".concat(s));var o=document.createTextNode(this._lines[s]);p.appendChild(o),g.appendChild(p)}return g},d}();i.AceInlineScreenReader=l}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(t,i,r){var l=t("../snippets").snippetManager,d=t("./inline_screenreader").AceInlineScreenReader,g=function(){function s(){this.editor=null}return s.prototype.show=function(p,o,a){if(a=a||"",p&&this.editor&&this.editor!==p&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!p||!o)return!1;this.inlineScreenReader||(this.inlineScreenReader=new d(p));var u=o.snippet?l.getDisplayTextForSnippet(p,o.snippet):o.value;return o.hideInlinePreview||!u||!u.startsWith(a)?!1:(this.editor=p,this.inlineScreenReader.setScreenReaderContent(u),u=u.slice(a.length),u===""?p.removeGhostText():p.setGhostText(u),!0)},s.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},s.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},s.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},s}();i.AceInline=g}),ace.define("ace/autocomplete/util",["require","exports","module"],function(t,i,r){i.parForEach=function(d,g,s){var p=0,o=d.length;o===0&&s();for(var a=0;a<o;a++)g(d[a],function(u,c){p++,p===o&&s(u,c)})};var l=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;i.retrievePrecedingIdentifier=function(d,g,s){s=s||l;for(var p=[],o=g-1;o>=0&&s.test(d[o]);o--)p.push(d[o]);return p.reverse().join("")},i.retrieveFollowingIdentifier=function(d,g,s){s=s||l;for(var p=[],o=g;o<d.length&&s.test(d[o]);o++)p.push(d[o]);return p},i.getCompletionPrefix=function(d){var g=d.getCursorPosition(),s=d.session.getLine(g.row),p;return d.completers.forEach((function(o){o.identifierRegexps&&o.identifierRegexps.forEach((function(a){!p&&a&&(p=this.retrievePrecedingIdentifier(s,g.column,a))}).bind(this))}).bind(this)),p||this.retrievePrecedingIdentifier(s,g.column)},i.triggerAutocomplete=function(d,s){var s=s??d.session.getPrecedingCharacter();return d.completers.some(function(p){if(p.triggerCharacters&&Array.isArray(p.triggerCharacters))return p.triggerCharacters.includes(s)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(t,i,r){var l=t("./keyboard/hash_handler").HashHandler,d=t("./autocomplete/popup").AcePopup,g=t("./autocomplete/inline").AceInline,s=t("./autocomplete/popup").getAriaId,p=t("./autocomplete/util"),o=t("./lib/lang"),a=t("./lib/dom"),u=t("./snippets").snippetManager,c=t("./config"),h=t("./lib/event"),f=t("./lib/scroll").preventParentScroll,v=function(x,C){C.completer&&C.completer.destroy()},b=function(){function x(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new l,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=o.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=o.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=o.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=o.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=o.delayedCall((function(){var C=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!C||this.editor.completers.length===0||(this.completions=new R(x.completionsForLoading),this.openPopup(this.editor,C.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(x,"completionsForLoading",{get:function(){return[{caption:c.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),x.prototype.$init=function(){return this.popup=new d(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(C){this.insertMatch(),C.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),h.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},x.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new g,this.inlineRenderer},x.prototype.getPopup=function(){return this.popup||this.$init()},x.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},x.prototype.$seen=function(C){!this.hasSeen.has(C)&&C&&C.completer&&C.completer.onSeen&&typeof C.completer.onSeen=="function"&&(C.completer.onSeen(this.editor,C),this.hasSeen.add(C))},x.prototype.$onPopupChange=function(C){if(this.inlineRenderer&&this.inlineEnabled){var y=C?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(y),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},x.prototype.$updateGhostText=function(C){var y=this.base.row,T=this.base.column,L=this.editor.getCursorPosition().column,_=this.editor.session.getLine(y).slice(T,L);this.inlineRenderer.show(this.editor,C,_)?this.$seen(C):this.inlineRenderer.hide()},x.prototype.$onPopupRender=function(){var C=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var y=this.popup.getFirstVisibleRow();y<=this.popup.getLastVisibleRow();y++){var T=this.popup.getData(y);T&&(!C||T.hideInlinePreview)&&this.$seen(T)}},x.prototype.$onPopupShow=function(C){this.$onPopupChange(C),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},x.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var C=this.editor.container.parentNode,y=[];C;)y.push(C),C.addEventListener("scroll",this.onLayoutChange,{passive:!0}),C=C.parentNode;this.$elements=y}},x.prototype.unObserveLayoutChanges=function(){var C=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(y){y.removeEventListener("scroll",C.onLayoutChange,{passive:!0})}),this.$elements=null},x.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},x.prototype.$updatePopupPosition=function(){var C=this.editor,y=C.renderer,T=y.layerConfig.lineHeight,L=y.$cursorLayer.getPixelPosition(this.base,!0);L.left-=this.popup.getTextLeftOffset();var _=C.container.getBoundingClientRect();L.top+=_.top-y.layerConfig.offset,L.left+=_.left-C.renderer.scrollLeft,L.left+=y.gutterWidth;var k={top:L.top,left:L.left};y.$ghostText&&y.$ghostTextWidget&&this.base.row===y.$ghostText.position.row&&(k.top+=y.$ghostTextWidget.el.offsetHeight);var I=C.container.getBoundingClientRect().bottom-T,w=I<k.top?{top:I,left:k.left}:k;this.popup.tryShow(w,T,"bottom")||this.popup.tryShow(L,T,"top")||this.popup.show(L,T)},x.prototype.openPopup=function(C,y,T){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var L=this.popup.getRow(),_=this.popup.data[L];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:s(this.popup.getRow()),inline:this.inlineEnabled}),C.keyBinding.addKeyboardHandler(this.keyboardHandler);var k;this.stickySelection&&(k=this.popup.data.indexOf(_)),(!k||k===-1)&&(k=0),this.popup.setRow(this.autoSelect?k:-1),k===L&&_!==this.completions.filtered[k]&&this.$onPopupChange();var I=this.inlineRenderer&&this.inlineEnabled;if(k===L&&I){var w=this.popup.getData(this.popup.getRow());this.$updateGhostText(w)}T||(this.popup.setTheme(C.getTheme()),this.popup.setFontSize(C.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},x.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},x.prototype.changeListener=function(C){var y=this.editor.selection.lead;(y.row!=this.base.row||y.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},x.prototype.blurListener=function(C){var y=document.activeElement,T=this.editor.textInput.getElement(),L=C.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(C.relatedTarget),_=this.popup&&this.popup.container;y!=T&&y.parentNode!=_&&!L&&y!=this.tooltipNode&&C.relatedTarget!=T&&this.detach()},x.prototype.mousedownListener=function(C){this.detach()},x.prototype.mousewheelListener=function(C){this.popup&&!this.popup.isMouseOver&&this.detach()},x.prototype.mouseOutListener=function(C){this.popup.isOpen&&this.$updatePopupPosition()},x.prototype.goTo=function(C){this.popup.goTo(C)},x.prototype.insertMatch=function(C,y){if(C||(C=this.popup.getData(this.popup.getRow())),!C)return!1;if(C.value==="")return this.detach();var T=this.completions,L=this.getCompletionProvider().insertMatch(this.editor,C,T.filterText,y);return this.completions==T&&this.detach(),L},x.prototype.showPopup=function(C,y){this.editor&&this.detach(),this.activated=!0,this.editor=C,C.completer!=this&&(C.completer&&C.completer.detach(),C.completer=this),C.on("changeSelection",this.changeListener),C.on("blur",this.blurListener),C.on("mousedown",this.mousedownListener),C.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,y)},x.prototype.getCompletionProvider=function(C){return this.completionProvider||(this.completionProvider=new S(C)),this.completionProvider},x.prototype.gatherCompletions=function(C,y){return this.getCompletionProvider().gatherCompletions(C,y)},x.prototype.updateCompletions=function(C,y){if(C&&this.base&&this.completions){var L=this.editor.getCursorPosition(),_=this.editor.session.getTextRange({start:this.base,end:L});if(_==this.completions.filterText)return;if(this.completions.setFilter(_),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==_&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,_,C);return}if(y&&y.matches){var L=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(L.row,L.column),this.base.$insertRight=!0,this.completions=new R(y.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",C)}var T=this.editor.getSession(),L=this.editor.getCursorPosition(),_=p.getCompletionPrefix(this.editor);this.base=T.doc.createAnchor(L.row,L.column-_.length),this.base.$insertRight=!0;var k={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:_,pos:L}).provideCompletions(this.editor,k,(function(I,w,m){var A=w.filtered,E=p.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),m){if(!A.length){var M=!this.autoShown&&this.emptyMessage;if(typeof M=="function"&&(M=this.emptyMessage(E)),M){var O=[{caption:M,value:""}];this.completions=new R(O),this.openPopup(this.editor,E,C),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(A.length==1&&A[0].value==E&&!A[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&A.length==1)return this.insertMatch(A[0])}this.completions=!m&&this.showLoadingState?new R(x.completionsForLoading.concat(A),w.filterText):w,this.openPopup(this.editor,E,C),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!m)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},x.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},x.prototype.updateDocTooltip=function(){var C=this.popup,y=this.completions.filtered,T=y&&(y[C.getHoveredRow()]||y[C.getRow()]),L=null;if(!T||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var _=this.editor.completers.length,k=0;k<_;k++){var I=this.editor.completers[k];if(I.getDocTooltip&&T.completerId===I.id){L=I.getDocTooltip(T);break}}if(!L&&typeof T!="string"&&(L=T),typeof L=="string"&&(L={docText:L}),!L||!(L.docHTML||L.docText))return this.hideDocTooltip();this.showDocTooltip(L)},x.prototype.showDocTooltip=function(C){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",f));var y=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(y.isDark?"ace_dark ":"")+(y.cssClass||"");var T=this.tooltipNode;C.docHTML?T.innerHTML=C.docHTML:C.docText&&(T.textContent=C.docText),T.parentNode||this.popup.container.appendChild(this.tooltipNode);var L=this.popup,_=L.container.getBoundingClientRect();T.style.top=L.container.style.top,T.style.bottom=L.container.style.bottom,T.style.display="block",window.innerWidth-_.right<320?_.left<320?L.isTopdown?(T.style.top=_.bottom+"px",T.style.left=_.left+"px",T.style.right="",T.style.bottom=""):(T.style.top=L.container.offsetTop-T.offsetHeight+"px",T.style.left=_.left+"px",T.style.right="",T.style.bottom=""):(T.style.right=window.innerWidth-_.left+"px",T.style.left=""):(T.style.left=_.right+1+"px",T.style.right="")},x.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var C=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==C&&this.editor.focus(),this.tooltipNode=null,C.parentNode&&C.parentNode.removeChild(C)}},x.prototype.onTooltipClick=function(C){for(var y=C.target;y&&y!=this.tooltipNode;){if(y.nodeName=="A"&&y.href){y.rel="noreferrer",y.target="_blank";break}y=y.parentNode}},x.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var C=this.popup.container;C&&C.parentNode&&C.parentNode.removeChild(C)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",v),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},x.for=function(C){return C.completer instanceof x||(C.completer&&(C.completer.destroy(),C.completer=null),c.get("sharedPopups")?(x.$sharedInstance||(x.$sharedInstance=new x),C.completer=x.$sharedInstance):(C.completer=new x,C.once("destroy",v))),C.completer},x}();b.prototype.commands={Up:function(x){x.completer.goTo("up")},Down:function(x){x.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(x){x.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(x){x.completer.goTo("end")},Esc:function(x){x.completer.detach()},Return:function(x){return x.completer.insertMatch()},"Shift-Return":function(x){x.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(x){var C=x.completer.insertMatch();if(!C&&!x.tabstopManager)x.completer.goTo("down");else return C},Backspace:function(x){x.execCommand("backspace");var C=p.getCompletionPrefix(x);!C&&x.completer&&x.completer.detach()},PageUp:function(x){x.completer.popup.gotoPageUp()},PageDown:function(x){x.completer.popup.gotoPageDown()}},b.startCommand={name:"startAutocomplete",exec:function(x,C){var y=b.for(x);y.autoInsert=!1,y.autoSelect=!0,y.autoShown=!1,y.showPopup(x,C),y.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var S=function(){function x(C){this.initialPosition=C,this.active=!0}return x.prototype.insertByIndex=function(C,y,T){return!this.completions||!this.completions.filtered?!1:this.insertMatch(C,this.completions.filtered[y],T)},x.prototype.insertMatch=function(C,y,T){if(!y)return!1;if(C.startOperation({command:{name:"insertMatch"}}),y.completer&&y.completer.insertMatch)y.completer.insertMatch(C,y);else{if(!this.completions)return!1;var L=this.completions.filterText.length,_=0;if(y.range&&y.range.start.row===y.range.end.row&&(L-=this.initialPosition.prefix.length,L+=this.initialPosition.pos.column-y.range.start.column,_+=y.range.end.column-this.initialPosition.pos.column),L||_){var k;C.selection.getAllRanges?k=C.selection.getAllRanges():k=[C.getSelectionRange()];for(var I=0,w;w=k[I];I++)w.start.column-=L,w.end.column+=_,C.session.remove(w)}y.snippet?u.insertSnippet(C,y.snippet):this.$insertString(C,y),y.completer&&y.completer.onInsert&&typeof y.completer.onInsert=="function"&&y.completer.onInsert(C,y),y.command&&y.command==="startAutocomplete"&&C.execCommand(y.command)}return C.endOperation(),!0},x.prototype.$insertString=function(C,y){var T=y.value||y;C.execCommand("insertstring",T)},x.prototype.gatherCompletions=function(C,y){var T=C.getSession(),L=C.getCursorPosition(),_=p.getCompletionPrefix(C),k=[];this.completers=C.completers;var I=C.completers.length;return C.completers.forEach(function(w,m){w.getCompletions(C,T,L,_,function(A,E){w.hideInlinePreview&&(E=E.map(function(M){return Object.assign(M,{hideInlinePreview:w.hideInlinePreview})})),!A&&E&&(k=k.concat(E)),y(null,{prefix:p.getCompletionPrefix(C),matches:k,finished:--I===0})})}),!0},x.prototype.provideCompletions=function(C,y,T){var L=(function(w){var m=w.prefix,A=w.matches;this.completions=new R(A),y.exactMatch&&(this.completions.exactMatch=!0),y.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(m),(w.finished||this.completions.filtered.length)&&T(null,this.completions,w.finished)}).bind(this),_=!0,k=null;if(this.gatherCompletions(C,(function(w,m){if(this.active){w&&(T(w,[],!0),this.detach());var A=m.prefix;if(A.indexOf(m.prefix)===0){if(_){k=m;return}L(m)}}}).bind(this)),_=!1,k){var I=k;k=null,L(I)}},x.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(C){typeof C.cancel=="function"&&C.cancel()})},x}(),R=function(){function x(C,y){this.all=C,this.filtered=C,this.filterText=y||"",this.exactMatch=!1,this.ignoreCaption=!1}return x.prototype.setFilter=function(C){if(C.length>this.filterText&&C.lastIndexOf(this.filterText,0)===0)var y=this.filtered;else var y=this.all;this.filterText=C,y=this.filterCompletions(y,this.filterText),y=y.sort(function(L,_){return _.exactMatch-L.exactMatch||_.$score-L.$score||(L.caption||L.value).localeCompare(_.caption||_.value)});var T=null;y=y.filter(function(L){var _=L.snippet||L.caption||L.value;return _===T?!1:(T=_,!0)}),this.filtered=y},x.prototype.filterCompletions=function(C,y){var T=[],L=y.toUpperCase(),_=y.toLowerCase();e:for(var k=0,I;I=C[k];k++){var w=!this.ignoreCaption&&I.caption||I.value||I.snippet;if(w){var m=-1,A=0,E=0,M,O;if(this.exactMatch){if(y!==w.substr(0,y.length))continue e}else{var $=w.toLowerCase().indexOf(_);if($>-1)E=$;else for(var D=0;D<y.length;D++){var N=w.indexOf(_[D],m+1),F=w.indexOf(L[D],m+1);if(M=N>=0&&(F<0||N<F)?N:F,M<0)continue e;O=M-m-1,O>0&&(m===-1&&(E+=10),E+=O,A=A|1<<D),m=M}}I.matchMask=A,I.exactMatch=E?0:1,I.$score=(I.score||0)-E,T.push(I)}}return T},x}();i.Autocomplete=b,i.CompletionProvider=S,i.FilteredList=R}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(t,i,r){var l=t("../range").Range,d=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function g(p,o){var a=p.getTextRange(l.fromPoints({row:0,column:0},o));return a.split(d).length-1}function s(p,o){var a=g(p,o),u=p.getValue().split(d),c=Object.create(null),h=u[a];return u.forEach(function(f,v){if(!(!f||f===h)){var b=Math.abs(a-v),S=u.length-b;c[f]?c[f]=Math.max(S,c[f]):c[f]=S}}),c}i.getCompletions=function(p,o,a,u,c){var h=s(o,a),f=Object.keys(h);c(null,f.map(function(v){return{caption:v,value:v,score:h[v],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(t,i,r){var l=t("../snippets").snippetManager,d=t("../autocomplete").Autocomplete,g=t("../config"),s=t("../lib/lang"),p=t("../autocomplete/util"),o=t("../autocomplete/text_completer"),a={getCompletions:function(L,_,k,I,w){if(_.$mode.completer)return _.$mode.completer.getCompletions(L,_,k,I,w);var m=L.session.getState(k.row),A=_.$mode.getCompletions(m,_,k,I);A=A.map(function(E){return E.completerId=a.id,E}),w(null,A)},id:"keywordCompleter"},u=function(L){var _={};return L.replace(/\${(\d+)(:(.*?))?}/g,function(k,I,w,m){return _[I]=m||""}).replace(/\$(\d+?)/g,function(k,I){return _[I]})},c={getCompletions:function(L,_,k,I,w){var m=[],A=_.getTokenAt(k.row,k.column);A&&A.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?m.push("html-tag"):m=l.getActiveScopes(L);var E=l.snippetMap,M=[];m.forEach(function(O){for(var $=E[O]||[],D=$.length;D--;){var N=$[D],F=N.name||N.tabTrigger;F&&M.push({caption:F,snippet:N.content,meta:N.tabTrigger&&!N.name?N.tabTrigger+" ":"snippet",completerId:c.id})}},this),w(null,M)},getDocTooltip:function(L){L.snippet&&!L.docHTML&&(L.docHTML=["<b>",s.escapeHTML(L.caption),"</b>","<hr></hr>",s.escapeHTML(u(L.snippet))].join(""))},id:"snippetCompleter"},h=[c,o,a];i.setCompleters=function(L){h.length=0,L&&h.push.apply(h,L)},i.addCompleter=function(L){h.push(L)},i.textCompleter=o,i.keyWordCompleter=a,i.snippetCompleter=c;var f={name:"expandSnippet",exec:function(L){return l.expandWithTab(L)},bindKey:"Tab"},v=function(L,_){b(_.session.$mode)},b=function(L){typeof L=="string"&&(L=g.$modes[L]),L&&(l.files||(l.files={}),S(L.$id,L.snippetFileId),L.modes&&L.modes.forEach(b))},S=function(L,_){!_||!L||l.files[L]||(l.files[L]={},g.loadModule(_,function(k){k&&(l.files[L]=k,!k.snippets&&k.snippetText&&(k.snippets=l.parseSnippetFile(k.snippetText)),l.register(k.snippets||[],k.scope),k.includeScopes&&(l.snippetMap[k.scope].includeScopes=k.includeScopes,k.includeScopes.forEach(function(I){b("ace/mode/"+I)})))}))},R=function(L){var _=L.editor,k=_.completer&&_.completer.activated;if(L.command.name==="backspace")k&&!p.getCompletionPrefix(_)&&_.completer.detach();else if(L.command.name==="insertstring"&&!k){x=L;var I=L.editor.$liveAutocompletionDelay;I?C.delay(I):y(L)}},x,C=s.delayedCall(function(){y(x)},0),y=function(L){var _=L.editor,k=p.getCompletionPrefix(_),I=L.args,w=p.triggerAutocomplete(_,I);if(k&&k.length>=_.$liveAutocompletionThreshold||w){var m=d.for(_);m.autoShown=!0,m.showPopup(_)}},T=t("../editor").Editor;t("../config").defineOptions(T.prototype,"editor",{enableBasicAutocompletion:{set:function(L){L?(this.completers||(this.completers=Array.isArray(L)?L:h),this.commands.addCommand(d.startCommand)):this.commands.removeCommand(d.startCommand)},value:!1},enableLiveAutocompletion:{set:function(L){L?(this.completers||(this.completers=Array.isArray(L)?L:h),this.commands.on("afterExec",R)):this.commands.off("afterExec",R)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(L){L?(this.commands.addCommand(f),this.on("changeMode",v),v(null,this)):(this.commands.removeCommand(f),this.off("changeMode",v))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(t){n.exports=t})}()}(ia)),ia.exports}uS();const hS=["name","id"],dS={__name:"CodeEditor",props:{value:String,form:Object},setup(n){const{formModel:e}=Qo(Ir()),t=Ie(null),i=Ie(""),r=n;return Et(i,()=>{e.value[r.form.name]=i.value},{immediate:!0}),gn(async()=>{i.value=r.value;const l=[];try{const s=await Xe.collection("salary_component").getFullList();l.push(...s.map(o=>o.abbreviation));const p=await Xe.send("/api/get_collection/employee");l.push(...p.collection.fields.map(o=>o.name))}catch{}const d=t.value.getAceInstance(),g={getCompletions:function(s,p,o,a,u){u(null,l.map(function(c){return{caption:c,value:c,meta:"static"}}))}};d.completers.push(g)}),(l,d)=>(he(),ye(Ve,null,[Mt(ue("input",{type:"hidden",name:r.form.name,id:r.form.name,"onUpdate:modelValue":d[0]||(d[0]=g=>i.value=g)},null,8,hS),[[fi,i.value]]),Ke(ke(aS),{ref_key:"aceRef",ref:t,value:i.value,"onUpdate:value":d[1]||(d[1]=g=>i.value=g),options:{enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0},lang:"javascript",theme:"chrome",style:{height:"300px"}},null,8,["value"])],64))}},fS={class:"field"},pS=["for"],gS={class:"has-text-weight-bold"},mS={key:0,class:"has-text-danger"},vS={class:"control"},yS=["id","name","placeholder","required","disabled"],bS=["id","name","placeholder","required"],wS=["id","name","placeholder","required"],AS=["name","placeholder"],SS={key:6,class:"select"},CS=["name"],xS=["value","selected"],ES={key:8,class:"file has-name"},TS={class:"file-label"},kS=["name"],_S={class:"file-name"},LS=["name"],RS=["id","checked"],MS={key:13,class:"help is-danger"},$S={__name:"RenderForms",props:{form:{type:Object},errors:{type:Object,default:()=>({})},defaultValue:{default:""}},setup(n){const{formModel:e}=Qo(Ir()),t=n,i=t.form.showLabel===void 0?!0:t.form.showLabel;t.form.type==="select"&&(e.value[t.form.name]=t.defaultValue);const r=Ie(""),l=Ie("checkbox_off");function d(o){const a=o.target.files[0];e.value[t.form.name]=a,a&&(r.value=a.name)}function g(o){l.value=o.target.checked?"checkbox_on":"checkbox_off"}const s=o=>t.form.type===o;function p(o){return o!==""&&o!=="checkbox_off"}return e.value[t.form.name]=t.defaultValue,t.form.type==="file"&&(r.value=t.defaultValue),(o,a)=>(he(),ye("div",fS,[ke(i)?(he(),ye("label",{key:0,for:n.form.name},[ue("small",gS,[Ci(it(n.form.label)+" ",1),n.form.required?(he(),ye("span",mS,"*")):Me("",!0)])],8,pS)):Me("",!0),ue("div",vS,[s("text")||s("url")||s("email")?Mt((he(),ye("input",{key:0,id:n.form.name,name:n.form.name,class:"input",type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>ke(e)[n.form.name]=u),placeholder:n.form.placeholder,required:n.form.required,disabled:n.form.disabled},null,8,yS)),[[fi,ke(e)[n.form.name]]]):Me("",!0),s("password")?Mt((he(),ye("input",{key:1,id:n.form.name,name:n.form.name,class:"input",type:"password","onUpdate:modelValue":a[1]||(a[1]=u=>ke(e)[n.form.name]=u),placeholder:n.form.placeholder,required:n.form.required},null,8,bS)),[[fi,ke(e)[n.form.name]]]):Me("",!0),s("number")?Mt((he(),ye("input",{key:2,id:n.form.name,name:n.form.name,"onUpdate:modelValue":a[2]||(a[2]=u=>ke(e)[n.form.name]=u),class:"input",type:"number",placeholder:n.form.placeholder,required:n.form.required},null,8,wS)),[[fi,ke(e)[n.form.name]]]):Me("",!0),s("date")?(he(),st(Vb,{key:3,placeholder:n.form.placeholder,required:n.form.required,name:n.form.name,form:n.form,value:t.defaultValue.split(" ")[0]},null,8,["placeholder","required","name","form","value"])):Me("",!0),s("textarea")?Mt((he(),ye("textarea",{key:4,class:"textarea",name:n.form.name,"onUpdate:modelValue":a[3]||(a[3]=u=>ke(e)[n.form.name]=u),placeholder:n.form.placeholder},"                "+it(t.defaultValue)+`
            `,9,AS)),[[fi,ke(e)[n.form.name]]]):Me("",!0),s("formula")?(he(),st(dS,{key:5,value:t.defaultValue,form:n.form},null,8,["value","form"])):Me("",!0),s("select")?(he(),ye("div",SS,[Mt(ue("select",{name:n.form.name,"onUpdate:modelValue":a[4]||(a[4]=u=>ke(e)[n.form.name]=u)},[(he(!0),ye(Ve,null,yr(n.form.options,u=>(he(),ye("option",{value:u.value,selected:u.value===t.defaultValue},it(u.label),9,xS))),256))],8,CS),[[xm,ke(e)[n.form.name]]])])):Me("",!0),s("rich_text")||s("editor")?(he(),st(G0,{key:7,name:n.form.name,initialContent:t.defaultValue},null,8,["name","initialContent"])):Me("",!0),s("file")?(he(),ye("div",ES,[ue("label",TS,[ue("input",{class:"file-input",onChange:d,type:"file",name:n.form.name},null,40,kS),a[7]||(a[7]=ue("span",{class:"file-cta"},[ue("span",{class:"file-icon"},[ue("i",{class:"bi bi-file-earmark-arrow-up"})]),ue("span",{class:"file-label"}," Choose a file ")],-1)),ue("span",_S,it(r.value),1)])])):Me("",!0),s("custom_component")?(he(),st(ro(n.form.component),{key:9,defaultValue:t.defaultValue,form:n.form},null,8,["defaultValue","form"])):Me("",!0),s("bool")?Mt((he(),ye("input",{key:10,type:"hidden",name:n.form.name,"onUpdate:modelValue":a[5]||(a[5]=u=>l.value=u)},null,8,LS)),[[fi,l.value]]):Me("",!0),s("bool")?Mt((he(),ye("input",{key:11,id:n.form.name,"onUpdate:modelValue":a[6]||(a[6]=u=>ke(e)[n.form.name]=u),checked:p(t.defaultValue),onChange:g,value:"off",type:"checkbox",class:"checkbox custom-checkbox"},null,40,RS)),[[Cm,ke(e)[n.form.name]]]):Me("",!0),s("relational_field_select")?(he(),st(BA,{key:12,name:n.form.name,collection:n.form.collection,labelField:n.form.labelField,firstOption:n.form.firstOption,selected:t.defaultValue,isCombinedField:n.form.isCombinedField,combinedFields:n.form.combinedFields,multiple:n.form.multiple!==void 0?n.form.multiple:!1},null,8,["name","collection","labelField","firstOption","selected","isCombinedField","combinedFields","multiple"])):Me("",!0),t.errors[n.form.name]!=null?(he(),ye("p",MS,it(t.errors[n.form.name]),1)):Me("",!0)])]))}},DS=Mi($S,[["__scopeId","data-v-99c8c5f2"]]),OS={class:"has-text-grey"},IS={class:"has-text-grey"},NS={class:"has-text-grey"},FS={class:"has-text-grey"},PS={key:2,class:"has-text-danger"},BS={__name:"LeaveSummary",props:{employee:Object},setup(n){var u;const e=JSON.parse(es("settings").value),t=Ie(0),i=Ie(0),r=Ie(!1),l=Ie(null),d=Ie(null),g=Ie(0),{formModel:s}=Ir(),p=Ie({employee:(u=Xe.authStore.record)==null?void 0:u.employee}),o={name:"employee",label:"Employee",collection:"employee",labelField:"full_name",firstOption:"select employee",type:"relational_field_select",isCombinedField:!0,combinedFields:["first_name","middle_name","last_name"],required:!0,showLabel:!1};gn(()=>{var c,h;((c=Xe.authStore.record)==null?void 0:c.employee)!==void 0&&(d.value=(h=Xe.authStore.record)==null?void 0:h.employee)}),Et(d,async()=>{if(l.value=null,r.value=!0,d.value)try{console.log(d.value);const c=await Xe.collection("employee").getOne(d.value,{expand:"leave_type",requestKey:null}),h=c==null?void 0:c.expand.leave_type;g.value=h==null?void 0:h.reduce((v,b)=>v+b.allowed_paid_leave,0);const f=await Xe.collection("leave").getFullList({filter:`employee='${c.id}'`,requestKey:null});console.log(c,f),i.value=Lb(f,e.fy_year.from_date.value,e.fy_year.to_date.value),t.value=g.value-i.value}catch(c){console.log(c),l.value=c.data.message}finally{r.value=!1}},{immediate:!0}),Et(s,(c,h)=>{const f=c.employee.slice(-1)[0];p.value.employee=f,d.value=f});function a(){const c=e==null?void 0:e.fy_year.from_date.value,h=e==null?void 0:e.fy_year.to_date.value;return`${c.split("-")[0].slice(2)}/${h.split("-")[0].slice(2)}`}return(c,h)=>(he(),ye(Ve,null,[r.value?(he(),st(Qd,{key:0})):Me("",!0),r.value?Me("",!0):(he(),ye(Ve,{key:1},[h[0]||(h[0]=ue("p",{class:"is-size-5 mb-2 has-text-weight-bold"},"Leave Summary",-1)),Ke(DS,{form:o,defaultValue:p.value[o.name]},null,8,["defaultValue"]),ue("p",OS,"FY Year "+it(a()),1),ue("p",IS,"Allowed Leave: "+it(g.value),1),ue("p",NS,"Leave Taken: "+it(i.value),1),ue("p",FS,"Leave Balance: "+it(t.value),1)],64)),l.value!==null?(he(),ye("p",PS,it(l.value),1)):Me("",!0)],64))}},WS={class:"columns"},HS={class:"column"},jS={class:"card",style:{width:"32rem"}},zS={class:"card-content"},US={class:"column"},VS={class:"card",style:{width:"32rem"}},KS={class:"card-content"},GS={__name:"HomeView",setup(n){const e=JSON.parse(es("employee").value);return(t,i)=>(he(),ye("main",null,[ue("div",WS,[ue("div",HS,[ue("div",jS,[ue("div",zS,[ke(e)?(he(),st(BS,{key:0,employee:ke(e)},null,8,["employee"])):Me("",!0)])])]),ue("div",US,[ue("div",VS,[ue("div",KS,[Ke(_b)])])])])]))}},YS=Hv({history:vv("/"),routes:[{path:"/",name:"dashboard",component:GS},{path:"/about",name:"about",component:()=>Oe(()=>import("./AboutView-DmV4LqrK.js"),[])},{path:"/employee",name:"employee",children:[{path:"",name:"list_employee",component:()=>Oe(()=>import("./Employee-BT_ws9Q_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))},{path:"add",name:"add_employee",component:()=>Oe(()=>import("./Add-W5Yar_ZZ.js"),__vite__mapDeps([9,3,4,7,8,5]))},{path:"edit/:id",name:"edit_employee",component:()=>Oe(()=>import("./Edit-BW8fppNK.js"),__vite__mapDeps([10,7,8,3,4,5]))},{path:"view/:id",name:"view_employee",component:()=>Oe(()=>import("./View-kvb64s85.js"),__vite__mapDeps([11,12,7,8,13]))}]},{path:"/settings",name:"settings",component:()=>Oe(()=>import("./Setting-BPUYQk20.js"),__vite__mapDeps([14,15,16])),children:[{path:"/settings/collection/:id",name:"settings_collection",component:()=>Oe(()=>import("./List-BZ4BNmpe.js"),__vite__mapDeps([17,18,4,2,3,19,5,7,8,20])),props:{parentRoute:"settings",label:"Settings"}},{path:"/settings/collection/:id/add",name:"settings_collection_add",component:()=>Oe(()=>import("./Add-C9OHZXUn.js"),__vite__mapDeps([21,18,4,5,7,8])),props:{parentRoute:"settings",label:"Settings"}},{path:"/settings/collection/:id/edit/:collectionID",name:"settings_collection_edit",component:()=>Oe(()=>import("./Edit-B7zDAbhv.js"),__vite__mapDeps([22,18,4,5,7,8])),props:{parentRoute:"settings",label:"Settings"}}]},{path:"/leave",name:"leave",component:()=>Oe(()=>import("./Leave-BPlzRLFl.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,19,24]))},{path:"/leave/add",name:"leave_add",component:()=>Oe(()=>import("./Add-DotsiNdV.js"),__vite__mapDeps([25,7,8,26,4,18,5]))},{path:"/leave/edit/:id",name:"leave_edit",component:()=>Oe(()=>import("./Edit-CJlMPAMV.js"),__vite__mapDeps([27,7,8,26,4,18,5]))},{path:"/leave/view/:id",name:"leave_view",component:()=>Oe(()=>import("./View-CGxaAPr3.js"),__vite__mapDeps([28,12,7,8,13,19]))},{path:"/payslip_list",name:"payslip_list",component:()=>Oe(()=>import("./List-CXAQHsdy.js"),__vite__mapDeps([29,7,8,1,2,3,4,5,6]))},{path:"/payslip_list/view_payslip",name:"view_payslip",component:()=>Oe(()=>import("./Payslip-D5VmHJSQ.js"),__vite__mapDeps([30,7,8,13,31]))},{path:"/payroll",name:"payroll",component:()=>Oe(()=>import("./Payrolls-LRDVVIDe.js"),__vite__mapDeps([32,15,16])),children:[{path:"payroll_list",name:"payroll_main",component:()=>Oe(()=>import("./Main-awsGW3zB.js"),__vite__mapDeps([33,18,4,7,8,1,2,3,5,6]))},{path:"add",name:"payroll_add",component:()=>Oe(()=>import("./Add-CUs50zgK.js"),__vite__mapDeps([34,7,8,18,4,5]))},{path:"salary_structure",name:"salary_structure",component:()=>Oe(()=>import("./SalaryStructure-CeQmhM3o.js"),__vite__mapDeps([35,7,8,1,2,3,4,5,6]))},{path:"salary_structure/add",name:"salary_structure_add",component:()=>Oe(()=>import("./Add-WFJL_Rnr.js"),__vite__mapDeps([36,7,8,5,37]))},{path:"salary_structure/edit/:id",name:"salary_structure_edit",component:()=>Oe(()=>import("./Edit-CiqGaM21.js"),__vite__mapDeps([38,7,8,5,39]))},{path:"salary_component",name:"salary_component",component:()=>Oe(()=>import("./List-CjNEaWIU.js"),__vite__mapDeps([40,7,8,1,2,3,4,5,6]))},{path:"salary_component/add",name:"salary_component_add",component:()=>Oe(()=>import("./Add-B_fwn0hp.js"),__vite__mapDeps([41,7,8,42,18,4,5]))},{path:"salary_component/edit/:id",name:"salary_component_edit",component:()=>Oe(()=>import("./Edit-C_9b11-L.js"),__vite__mapDeps([43,7,8,42,4,5]))},{path:"payslip",name:"payslip",component:()=>Oe(()=>import("./Payslip-D5VmHJSQ.js"),__vite__mapDeps([30,7,8,13,31]))},{path:"collection/:id",name:"payroll_setting_collection",component:()=>Oe(()=>import("./List-BZ4BNmpe.js"),__vite__mapDeps([17,18,4,2,3,19,5,7,8,20])),props:{parentRoute:"payroll",label:"Payroll"}},{path:"collection/:id/add",name:"payroll_setting_collection_add",component:()=>Oe(()=>import("./Add-C9OHZXUn.js"),__vite__mapDeps([21,18,4,5,7,8])),props:{parentRoute:"payroll",label:"Payroll"}},{path:"collection/:id/edit/:collectionID",name:"payroll_setting_collection_edit",component:()=>Oe(()=>import("./Edit-B7zDAbhv.js"),__vite__mapDeps([22,18,4,5,7,8])),props:{parentRoute:"payroll",label:"Payroll"}}]},{path:"/attendance",name:"attendance",component:()=>Oe(()=>import("./Attendance-CsY2ormi.js"),__vite__mapDeps([44,7,8,1,2,3,4,5,6,19,18,24]))},{path:"/attendance/checkin",name:"attendance_checkin",component:()=>Oe(()=>import("./CheckIn-CG6MoemH.js"),__vite__mapDeps([45,7,8,18,4,5]))},{path:"/attendance/checkout",name:"attendance_checkout",component:()=>Oe(()=>import("./CheckOut-DHXoHO_j.js"),__vite__mapDeps([46,7,8,18,4,5]))},{path:"/import",name:"import",component:()=>Oe(()=>import("./Import-D4_QuTxb.js"),__vite__mapDeps([47,7,8]))},{path:"/import/:collection",name:"import_add",component:()=>Oe(()=>import("./Add-iMs52Udr.js"),__vite__mapDeps([48,7,8,18,4,5]))}]}),Tl=Lm(Sb);Tl.use(Dm());Tl.use(YS);Tl.mount("#app");export{sy as $,qS as A,vt as B,es as C,Lb as D,ro as E,Ve as F,sC as G,Op as H,ma as I,rC as J,oC as K,Qd as L,nC as M,iC as N,fi as O,Xp as P,rr as Q,Dd as R,Mr as S,fd as T,tC as U,Ri as V,wt as W,XS as X,eC as Y,my as Z,Mi as _,ue as a,dn as a0,ly as a1,QS as a2,cy as a3,Wd as a4,ZS as a5,sl as a6,Xd as a7,Ke as b,ye as c,Me as d,Ci as e,yr as f,Xe as g,Mt as h,Es as i,DS as j,JS as k,Ir as l,Et as m,fn as n,he as o,st as p,zv as q,Ie as r,Hh as s,it as t,ke as u,hc as v,Rn as w,gn as x,Cm as y,zd as z};

import{r as d,c as r,b as m,a as e,I as v,F as u,f as h,u as g,o,n as x,j as A,k as S,g as j}from"./index-DhUzF4e6.js";import{B as w}from"./BreadCrumb-QusY3eB5.js";import{f as k}from"./form-BqK9qc89.js";import{t as B}from"./utils-RVpx9FsL.js";import{S as F}from"./sweetalert2.esm.all-CIewtpap.js";import"./index.esm-DyswK6GF.js";const O={class:"card"},V={class:"card-content"},C=["disabled"],E={class:"columns mt-4 is-multiline"},M={__name:"Add",setup(D){const f={depends_on_payment_days:!0,is_tax_applicable:!0},s=d(!1),l=d({}),p=S();async function b(n){s.value=!0;const a=new FormData(n.target);let t=B(Object.fromEntries(a.entries()));try{await j.collection("salary_component").create(t),F.fire({title:"success",text:"successfully created salary components",icon:"success"}),p.push("/payroll/salary_component")}catch(i){if(i.data.data){const c={};Object.entries(i.data.data).forEach(([_,y])=>{c[_]=y.message}),l.value=c}}finally{s.value=!1}}return(n,a)=>(o(),r(u,null,[m(w,{links:[{label:"Dashboard",path:"/",isActive:!1},{label:"Payroll",path:"/payroll",isActive:!0},{label:"Sarary Component",path:"/payroll/salary_component",isActive:!1},{label:"Add",path:"/payroll/salary_component/add",isActive:!0}]}),e("div",O,[e("div",V,[e("form",{novalidate:"",onSubmit:v(b,["prevent"])},[e("fieldset",{disabled:s.value},[a[0]||(a[0]=e("legend",{class:"has-text-weight-bold"}," Add Salary Component ",-1)),a[1]||(a[1]=e("div",{class:"is-flex is-flex-direction-row-reverse"},[e("button",{type:"submit",class:"button is-dark"}," Save ")],-1)),e("div",E,[(o(!0),r(u,null,h(g(k),t=>(o(),r("div",{class:x(["column",t.size])},[m(A,{form:t,errors:l.value,defaultValue:f[t.name]},null,8,["form","errors","defaultValue"])],2))),256))])],8,C)],32)])])],64))}};export{M as default};

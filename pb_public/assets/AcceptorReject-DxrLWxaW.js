import{S as r}from"./sweetalert2.esm.all-CIewtpap.js";import{o as l,c as u,a as c,g as m}from"./index-DhUzF4e6.js";const d={__name:"AcceptorReject",props:{item:Object,header:Object,reloadData:Function},setup(a){const e=a;async function o(s,t){if((await r.fire({title:`Are you sure want to ${t}?`,text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#171717",cancelButtonColor:"#d33",confirmButtonText:`Yes, ${t} it!`})).isConfirmed){if(e.header.collection==="check_in"){if(e.item.check_in_time===""){r.fire({title:"Error!",text:"please! check in first",icon:"error"});return}if(e.item.check_out_time===""){r.fire({title:"Error!",text:"please! check out first",icon:"error"});return}}try{const n=await m.collection(e.header.collection).update(e.item.id,{status:t})}catch(n){r.fire({title:"Error!",text:n.data.message,icon:"error"})}finally{e.reloadData!==void 0&&e.reloadData()}}}return(s,t)=>(l(),u("span",null,[c("button",{class:"button is-success is-small",onClick:t[0]||(t[0]=i=>o(e.item,"accepted"))}," Accept "),c("button",{class:"button is-danger is-small ml-2",onClick:t[1]||(t[1]=i=>o(e.item,"rejected"))}," Reject ")]))}};export{d as _};

import{G as I,_ as H,r as A,m as J,c as m,b as U,u as L,p as K,d as N,F as P,a as e,t as l,f as V,n as Q,q as X,o as h,g as C,L as Y}from"./index-DhUzF4e6.js";import{B as Z}from"./BreadCrumb-QusY3eB5.js";import{k as ee}from"./index-Ddm7-nYC.js";var $={exports:{}};/*!
 * Number-To-Words util
 * @version v1.2.4
 * @link https://github.com/marlun78/number-to-words
 * @author Martin Eneqvist (https://github.com/marlun78)
 * @contributors Aleksey Pilyugin (https://github.com/pilyugin),Jeremiah Hall (https://github.com/jeremiahrhall),Adriano Melo (https://github.com/adrianomelo),dmrzn (https://github.com/dmrzn)
 * @license MIT
 */var G;function te(){return G||(G=1,function(j,M){(function(){typeof self=="object"&&self.self===self&&self||typeof I=="object"&&I.global===I&&I;var v=9007199254740991;function E(s){return!(typeof s!="number"||s!=s||s===1/0||s===-1/0)}function o(s){return typeof s=="number"&&Math.abs(s)<=v}var b=/(hundred|thousand|(m|b|tr|quadr)illion)$/,f=/teen$/,q=/y$/,x=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,D={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function W(s){return b.test(s)||f.test(s)?s+"th":q.test(s)?s.replace(q,"ieth"):x.test(s)?s.replace(x,B):s}function B(s,y){return D[y]}var w=10,k=100,z=1e3,r=1e6,n=1e9,c=1e12,a=1e15,T=9007199254740992,S=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],u=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function O(s,y){var g,R=parseInt(s,10);if(!E(R))throw new TypeError("Not a finite number: "+s+" ("+typeof s+")");if(!o(R))throw new RangeError("Input is not a safe number, it’s either too large or too small.");return g=function p(t){var i,d,_=arguments[1];return t===0?_?_.join(" ").replace(/,$/,""):"zero":(_||(_=[]),t<0&&(_.push("minus"),t=Math.abs(t)),t<20?(i=0,d=S[t]):t<k?(i=t%w,d=u[Math.floor(t/w)],i&&(d+="-"+S[i],i=0)):t<z?(i=t%k,d=p(Math.floor(t/k))+" hundred"):t<r?(i=t%z,d=p(Math.floor(t/z))+" thousand,"):t<n?(i=t%r,d=p(Math.floor(t/r))+" million,"):t<c?(i=t%n,d=p(Math.floor(t/n))+" billion,"):t<a?(i=t%c,d=p(Math.floor(t/c))+" trillion,"):t<=T&&(i=t%a,d=p(Math.floor(t/a))+" quadrillion,"),_.push(d),p(i,_))}(R),y?W(g):g}var F={toOrdinal:function(s){var y=parseInt(s,10);if(!E(y))throw new TypeError("Not a finite number: "+s+" ("+typeof s+")");if(!o(y))throw new RangeError("Input is not a safe number, it’s either too large or too small.");var g=String(y),R=Math.abs(y%100),p=11<=R&&R<=13,t=g.charAt(g.length-1);return g+(p?"th":t==="1"?"st":t==="2"?"nd":t==="3"?"rd":"th")},toWords:O,toWordsOrdinal:function(s){return W(O(s))}};j.exports&&(M=j.exports=F),M.numberToWords=F})()}($,$.exports)),$.exports}var se=te();const ne={class:"container"},oe={class:"is-flex is-flex-direction-row-reverse"},le={class:"card-content"},ae={class:"columns"},re={class:"column is-half"},ie=["src"],ue={class:"is-size-4 has-text-weight-bold"},ce=["innerHTML"],de={class:"columns"},he={class:"column"},pe={class:"is-size-6 has-text-grey"},me={class:"column"},fe={class:"is-size-6 has-text-grey"},ye={class:"column"},ve={class:"is-size-6 has-text-grey"},ge={class:"table is-fullwidth is-bordered"},_e={key:0},be={class:"has-text-right"},xe={class:"has-text-grey has-text-right"},we={key:0},ke={class:"has-text-right"},ze={class:"has-text-grey has-text-right"},Te={class:"has-text-right"},Re={class:"has-text-grey"},Le={class:"has-text-grey"},Me={key:2,class:"has-text-danger"},Ee={__name:"Payslip",setup(j){var z;const M=A(),v=X(),E=A(!1),o=A(null),b=A(null),f=A(null),q=JSON.parse(localStorage.getItem("employee"));let x=[],D="";v.path==="/payslip_list/view_payslip"&&(D="margin_for_payslip"),q.expand.roles.name==="Admin"?x=[{path:"/",label:"Dashboard",isActive:!1},{path:"/payroll/payroll_list",label:"Payroll",isActive:!1},{path:"/payroll/payslip",label:"Pay Slip",isActive:!0},{path:"/payroll/payslip",label:v.query.full_name,isActive:!0}]:x=[{path:"/",label:"Dashboard",isActive:!1},{path:"/payslip_list",label:"Pay Slip",isActive:!1},{path:"/payslip_list",label:v.query.full_name,isActive:!0}];async function W(){o.value=b.value=null;try{const r=(await C.collection("company").getList(1,1,{})).items[0];f.value=r,console.log(r);const n=await C.collection("payroll").getOne(v.query.id,{expand:"employee"});o.value=n}catch(r){b.value=r.data.message}finally{E.value=!1}}J(v.query,W,{immediate:!0});function B(r,n){return n.filter(a=>a.type===r).reduce((a,T)=>a+T.amount,0)}function w(r){return r.reduce((c,a)=>a.type==="Earning"?c+a.amount:c-a.amount,0)}const{handlePrint:k}=ee({content:M,documentTitle:`Payslip ${(z=o==null?void 0:o.value)==null?void 0:z.employee}`});return(r,n)=>{var c,a,T,S;return h(),m("div",ne,[U(Z,{links:L(x)},null,8,["links"]),E.value?(h(),K(Y,{key:0})):N("",!0),o.value!==null?(h(),m(P,{key:1},[e("div",oe,[e("button",{class:"button is-light mb-2 mr-4",onClick:n[0]||(n[0]=(...u)=>L(k)&&L(k)(...u))},n[1]||(n[1]=[e("i",{class:"bi bi-printer"},null,-1)]))]),e("div",{class:Q(["card",L(D)]),ref_key:"componentRef",ref:M},[e("div",le,[e("div",ae,[e("div",re,[e("img",{src:L(C).files.getURL(f.value,(c=f.value)==null?void 0:c.logo),class:"image is-128x128",alt:"company logo"},null,8,ie),e("p",ue,l((a=f.value)==null?void 0:a.name),1),e("p",{innerHTML:(T=f.value)==null?void 0:T.address},null,8,ce),e("p",null,l((S=f.value)==null?void 0:S.contact_no),1)])]),e("div",de,[e("div",he,[e("p",pe," Employee: "+l(o.value.expand.employee.full_name),1)]),e("div",me,[e("p",fe," From Date: "+l(o.value.from_date.split(" ")[0]),1)]),e("div",ye,[e("p",ve," To Date: "+l(o.value.to_date.split(" ")[0]),1)])]),e("table",ge,[n[7]||(n[7]=e("thead",null,[e("tr",null,[e("th",{class:"has-text-weight-bold is-size-5"},"Particulars"),e("th",{class:"has-text-weight-bold is-size-5"},"Amount")])],-1)),e("tbody",null,[n[5]||(n[5]=e("tr",null,[e("td",{colspan:"2",class:"has-text-weight-bold is-size-6"},"Earnings")],-1)),(h(!0),m(P,null,V(o.value.details.component,u=>(h(),m(P,null,[u.type==="Earning"?(h(),m("tr",_e,[e("td",null,l(u.name),1),e("td",be,"Rs. "+l(u.amount.toLocaleString()),1)])):N("",!0)],64))),256)),e("tr",null,[n[2]||(n[2]=e("td",{class:"has-text-grey"},"Total Earnings",-1)),e("td",xe,"Rs. "+l(B("Earning",o.value.details.component)),1)]),n[6]||(n[6]=e("tr",null,[e("td",{colspan:"2",class:"has-text-weight-bold is-size-6"},"Deductions")],-1)),(h(!0),m(P,null,V(o.value.details.component,u=>(h(),m(P,null,[u.type==="Deduction"?(h(),m("tr",we,[e("td",null,l(u.name),1),e("td",ke,"Rs. "+l(u.amount.toLocaleString()),1)])):N("",!0)],64))),256)),e("tr",null,[n[3]||(n[3]=e("td",{class:"has-text-grey"},"Total Deduction",-1)),e("td",ze,"Rs. "+l(B("Deduction",o.value.details.component).toLocaleString()),1)]),e("tr",null,[n[4]||(n[4]=e("td",{class:"is-size-5"},[e("strong",null,"Net Pay")],-1)),e("td",Te,[e("strong",null,"Rs. "+l(w(o.value.details.component).toLocaleString()),1)])])])]),e("p",Re," Net Pay: Rs. "+l(w(o.value.details.component).toLocaleString()),1),e("p",Le,"Amoumn in word: "+l(L(se.toWords)(w(o.value.details.component))),1),n[8]||(n[8]=e("p",{class:"mt-3 has-text-grey"},"**This is a system-generated payslip, so it does not require a signature. ",-1))])],2)],64)):N("",!0),b.value!=null?(h(),m("p",Me,l(b.value),1)):N("",!0)])}}},Pe=H(Ee,[["__scopeId","data-v-e065c0e3"]]);export{Pe as default};

import{c as b,B as _}from"./BreadCrumb-TF3kDMJB.js";import{f as h,v as S}from"./forms-CjjuBC5h.js";import{R as g}from"./RenderForms-DFjF9nMb.js";import{t as x,v as w}from"./utils-cUNVy0Hq.js";import{S as d}from"./sweetalert2.esm.all-DPo3DB14.js";import{r as m,c as i,d as u,a as e,F as y,f as A,u as E,o as l,h as F}from"./index-C7IYLqTz.js";import"./index.esm-CWnM2rkH.js";const B={class:"container"},j={class:"card"},k={class:"card-content"},D=["disabled"],O={class:"columns is-multiline"},R={class:"column is-4"},H={__name:"Add",setup(L){const s=m({}),r=m(!1),f=F();async function v(a){a.preventDefault();const t=a.target,o=new FormData(t);let c=x(Object.fromEntries(o.entries()));const n=await w(Object.fromEntries(c.entries()),S);if(n!==!0){s.value=n;return}r.value=!0,s.value={};try{await b.collection("leave").create(c)}catch(p){d.fire({title:"Error!",text:p.data.message,icon:"error"})}finally{d.fire({title:"Success!",text:"Successfully create leave",icon:"success"}),f.push("/leave")}r.value=!1}return(a,t)=>(l(),i("div",B,[u(_,{links:[{label:"Dashboard",path:"/",isActive:!1},{label:"Leave",path:"/leave",isActive:!1},{label:"Add",path:"/leave/add",isActive:!0}]}),e("div",j,[e("div",k,[e("form",{novalidate:"",onSubmit:v},[e("fieldset",{disabled:r.value},[t[0]||(t[0]=e("legend",{class:"has-text-weight-bold"}," Add Employee ",-1)),t[1]||(t[1]=e("div",{class:"is-flex is-flex-direction-row-reverse"},[e("button",{class:"button is-dark",type:"submit"}," Save ")],-1)),e("div",O,[(l(!0),i(y,null,A(E(h),o=>(l(),i("div",R,[u(g,{form:o,errors:s.value},null,8,["form","errors"])]))),256))])],8,D)],32)])])]))}};export{H as default};

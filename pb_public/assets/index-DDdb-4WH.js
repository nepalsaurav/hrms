import{H as re,I as le,J as ie,u as se,K as ue,L as ce,M as ae,r as L,b as q,N as V,O as fe,P as z,Q as F,S as A,i as x}from"./index-7R5MiFNN.js";function X(e){return le()?(ie(e),!0):!1}function h(e){return typeof e=="function"?e():se(e)}const Z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const de=e=>e!=null,ve=Object.prototype.toString,me=e=>ve.call(e)==="[object Object]",T=()=>{},J=pe();function pe(){var e,t;return Z&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ee(e,t){function n(...o){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(a)})}return n}function he(e,t={}){let n,o,i=T;const a=r=>{clearTimeout(r),i(),i=T};return r=>{const c=h(e),l=h(t.maxWait);return n&&a(n),c<=0||l!==void 0&&l<=0?(o&&(a(o),o=null),Promise.resolve(r())):new Promise((s,f)=>{i=t.rejectOnCancel?f:s,l&&!o&&(o=setTimeout(()=>{n&&a(n),o=null,s(r())},l)),n=setTimeout(()=>{o&&a(o),o=null,s(r())},c)})}}function we(...e){let t=0,n,o=!0,i=T,a,d,r,c,l;!fe(e[0])&&typeof e[0]=="object"?{delay:d,trailing:r=!0,leading:c=!0,rejectOnCancel:l=!1}=e[0]:[d,r=!0,c=!0,l=!1]=e;const s=()=>{n&&(clearTimeout(n),n=void 0,i(),i=T)};return v=>{const m=h(d),p=Date.now()-t,E=()=>a=v();return s(),m<=0?(t=Date.now(),E()):(p>m&&(c||!o)?(t=Date.now(),E()):r&&(a=new Promise((g,w)=>{i=l?w:g,n=setTimeout(()=>{t=Date.now(),o=!0,g(E()),s()},Math.max(0,m-p))})),!c&&!n&&(n=setTimeout(()=>o=!0,m)),o=!1,a)}}function te(e){return z()}function ge(...e){if(e.length!==1)return ue(...e);const t=e[0];return typeof t=="function"?ce(ae(()=>({get:t,set:T}))):L(t)}function ye(e,t=200,n={}){return ee(he(t,n),e)}function be(e,t=200,n=!1,o=!0,i=!1){return ee(we(t,n,o,i),e)}function Se(e,t=!0,n){te()?q(e,n):t?e():V(e)}function Te(e,t){te()&&re(e,t)}const H=Z?window:void 0;function W(e){var t;const n=h(e);return(t=n==null?void 0:n.$el)!=null?t:n}function N(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=H):[t,n,o,i]=e,!t)return T;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const a=[],d=()=>{a.forEach(s=>s()),a.length=0},r=(s,f,v,m)=>(s.addEventListener(f,v,m),()=>s.removeEventListener(f,v,m)),c=x(()=>[W(t),h(i)],([s,f])=>{if(d(),!s)return;const v=me(f)?{...f}:f;a.push(...n.flatMap(m=>o.map(p=>r(s,m,p,v))))},{immediate:!0,flush:"post"}),l=()=>{c(),d()};return X(l),l}function Ee(){const e=L(!1),t=z();return t&&q(()=>{e.value=!0},t),e}function Le(e){const t=Ee();return A(()=>(t.value,!!e()))}function Oe(e,t,n={}){const{root:o,rootMargin:i="0px",threshold:a=0,window:d=H,immediate:r=!0}=n,c=Le(()=>d&&"IntersectionObserver"in d),l=A(()=>{const p=h(e);return(Array.isArray(p)?p:[p]).map(W).filter(de)});let s=T;const f=L(r),v=c.value?x(()=>[l.value,W(o),f.value],([p,E])=>{if(s(),!f.value||!p.length)return;const g=new IntersectionObserver(t,{root:W(E),rootMargin:i,threshold:a});p.forEach(w=>w&&g.observe(w)),s=()=>{g.disconnect(),s=T}},{immediate:r,flush:"post"}):T,m=()=>{s(),v(),f.value=!1};return X(m),{isSupported:c,isActive:f,pause(){s(),f.value=!1},resume(){f.value=!0},stop:m}}function De(e,t={}){const{window:n=H,scrollTarget:o,threshold:i=0,rootMargin:a}=t,d=L(!1);return Oe(e,r=>{let c=d.value,l=0;for(const s of r)s.time>=l&&(l=s.time,c=s.isIntersecting);d.value=c},{root:o,window:n,threshold:i,rootMargin:h(a)}),d}function C(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const K=1;function _e(e,t={}){const{throttle:n=0,idle:o=200,onStop:i=T,onScroll:a=T,offset:d={left:0,right:0,top:0,bottom:0},eventListenerOptions:r={capture:!1,passive:!0},behavior:c="auto",window:l=H,onError:s=u=>{console.error(u)}}=t,f=L(0),v=L(0),m=A({get(){return f.value},set(u){E(u,void 0)}}),p=A({get(){return v.value},set(u){E(void 0,u)}});function E(u,D){var y,M,I,k;if(!l)return;const S=h(e);if(!S)return;(I=S instanceof Document?l.document.body:S)==null||I.scrollTo({top:(y=h(D))!=null?y:p.value,left:(M=h(u))!=null?M:m.value,behavior:h(c)});const O=((k=S==null?void 0:S.document)==null?void 0:k.documentElement)||(S==null?void 0:S.documentElement)||S;m!=null&&(f.value=O.scrollLeft),p!=null&&(v.value=O.scrollTop)}const g=L(!1),w=F({left:!0,right:!1,top:!0,bottom:!1}),b=F({left:!1,right:!1,top:!1,bottom:!1}),P=u=>{g.value&&(g.value=!1,b.left=!1,b.right=!1,b.top=!1,b.bottom=!1,i(u))},oe=ye(P,n+o),j=u=>{var D;if(!l)return;const y=((D=u==null?void 0:u.document)==null?void 0:D.documentElement)||(u==null?void 0:u.documentElement)||W(u),{display:M,flexDirection:I,direction:k}=getComputedStyle(y),S=k==="rtl"?-1:1,O=y.scrollLeft;b.left=O<f.value,b.right=O>f.value;const B=O*S<=(d.left||0),G=O*S+y.clientWidth>=y.scrollWidth-(d.right||0)-K;M==="flex"&&I==="row-reverse"?(w.left=G,w.right=B):(w.left=B,w.right=G),f.value=O;let _=y.scrollTop;u===l.document&&!_&&(_=l.document.body.scrollTop),b.top=_<v.value,b.bottom=_>v.value;const U=_<=(d.top||0),$=_+y.clientHeight>=y.scrollHeight-(d.bottom||0)-K;M==="flex"&&I==="column-reverse"?(w.top=$,w.bottom=U):(w.top=U,w.bottom=$),v.value=_},Y=u=>{var D;if(!l)return;const y=(D=u.target.documentElement)!=null?D:u.target;j(y),g.value=!0,oe(u),a(u)};return N(e,"scroll",n?be(Y,n,!0,!1):Y,r),Se(()=>{try{const u=h(e);if(!u)return;j(u)}catch(u){s(u)}}),N(e,"scrollend",P,r),{x:m,y:p,isScrolling:g,arrivedState:w,directions:b,measure(){const u=h(e);l&&u&&j(u)}}}function Q(e,t,n={}){var o;const{direction:i="bottom",interval:a=100,canLoadMore:d=()=>!0}=n,r=F(_e(e,{...n,offset:{[i]:(o=n.distance)!=null?o:0,...n.offset}})),c=L(),l=A(()=>!!c.value),s=A(()=>C(h(e))),f=De(s);function v(){if(r.measure(),!s.value||!f.value||!d(s.value))return;const{scrollHeight:p,clientHeight:E,scrollWidth:g,clientWidth:w}=s.value,b=i==="bottom"||i==="top"?p<=E:g<=w;(r.arrivedState[i]||b)&&(c.value||(c.value=Promise.all([t(r),new Promise(P=>setTimeout(P,a))]).finally(()=>{c.value=null,V(()=>v())})))}const m=x(()=>[r.arrivedState[i],f.value],v,{immediate:!0});return Te(m),{isLoading:l,reset(){V(()=>v())}}}const xe={mounted(e,t){typeof t.value=="function"?Q(e,t.value):Q(e,...t.value)}};function ne(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:ne(n)}}function Ae(e){const t=e||window.event,n=t.target;return ne(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const R=new WeakMap;function Me(e,t=!1){const n=L(t);let o=null,i="";x(ge(e),r=>{const c=C(h(r));if(c){const l=c;if(R.get(l)||R.set(l,l.style.overflow),l.style.overflow!=="hidden"&&(i=l.style.overflow),l.style.overflow==="hidden")return n.value=!0;if(n.value)return l.style.overflow="hidden"}},{immediate:!0});const a=()=>{const r=C(h(e));!r||n.value||(J&&(o=N(r,"touchmove",c=>{Ae(c)},{passive:!1})),r.style.overflow="hidden",n.value=!0)},d=()=>{const r=C(h(e));!r||!n.value||(J&&(o==null||o()),r.style.overflow=i,R.delete(r),n.value=!1)};return X(d),A({get(){return n.value},set(r){r?a():d()}})}function Ie(){let e=!1;const t=L(!1);return(n,o)=>{if(t.value=o.value,e)return;e=!0;const i=Me(n,o.value);x(t,a=>i.value=a)}}Ie();export{xe as v};

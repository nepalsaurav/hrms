import{r as c,c as d,b as m,a as e,I as g,F as y,f as C,o as u,j as x,k as F,g as w}from"./index-DhUzF4e6.js";import{B as j}from"./BreadCrumb-QusY3eB5.js";import{l as f,m as A}from"./utils-RVpx9FsL.js";import{S as B}from"./sweetalert2.esm.all-CIewtpap.js";import"./index.esm-DyswK6GF.js";const E={class:"container"},I={class:"card"},O={class:"card-content"},S=["disabled"],V={class:"columns is-multiline"},D={class:"column is-4"},P={__name:"CheckIn",setup(L){const _=[{name:"employee",label:"Employee",collection:"employee",labelField:"first_name",firstOption:"select employee",type:"relational_field_select",isCombinedField:!0,combinedFields:["first_name","middle_name","last_name"],required:!0},{name:"check_in_time",label:"Check In Time",type:"text",disabled:!0}],r=c(!1),n=c({}),b=F(),h={check_in_time:f()};async function p(i){const t=i.target,s=new FormData(t);let a=Object.fromEntries(s.entries());a.date=A(),a.check_in_time=f(),a.status="pending",r.value=!0;try{await w.collection("check_in").create(a),B.fire({title:"success!",text:"check in added",icon:"success"}),b.push("/attendance")}catch(o){if(o.data.data){const l={};Object.entries(o.data.data).forEach(([v,k])=>{l[v]=k.message}),n.value=l}}finally{r.value=!1}}return(i,t)=>(u(),d("div",E,[m(j,{links:[{path:"/",label:"Dashboard",isActive:!1},{path:"/attendance",label:"Attendance",isActive:!1},{path:"/attendance/checkin",label:"Check In",isActive:!0}]}),e("div",I,[e("div",O,[e("form",{novalidate:"",onSubmit:g(p,["prevent"])},[e("fieldset",{disabled:r.value},[t[0]||(t[0]=e("legend",{class:"has-text-weight-bold"}," Add Check In ",-1)),t[1]||(t[1]=e("div",{class:"is-flex is-flex-direction-row-reverse"},[e("button",{class:"button is-dark",type:"submit"}," Save ")],-1)),e("div",V,[(u(),d(y,null,C(_,s=>e("div",D,[m(x,{form:s,errors:n.value,defaultValue:h[s.name]},null,8,["form","errors","defaultValue"])])),64))])],8,S)],32)])])]))}};export{P as default};

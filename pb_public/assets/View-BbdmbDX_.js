import{B as x,c as L}from"./BreadCrumb-DXLpQOAS.js";import{r as d,b as k,i as w,o as e,c as a,j as _,k as o,a as t,F as s,f as p,d as g,t as D,l as B}from"./index-7R5MiFNN.js";import{L as N}from"./LoadingSkeleton-BnsbOEAN.js";import{s as A}from"./print-Dy9ZJ0iI.js";import{_ as C}from"./Avatar-CUvU5epV.js";const V="http://localhost:5173",M={key:2},P={id:"contentToPrint"},T={key:0,class:"pl-6"},j={class:"card mt-4"},E={class:"card-content"},S={class:"columns is-multiline"},$={class:"table is-bordered"},F=["value"],H=["innerHTML"],O={__name:"DetailView",props:{collection:String,breadcrumb:Object,breadcrumbLabel:String,viewList:Object},setup(r){const c=r,u=d(!1),i=d(null),v=d(null),m=d(null),y=B();k(()=>{m.value=c.breadcrumb}),w(()=>y.params.id,h,{immediate:!0});async function h(b){v.value=null,i.value=null,u.value=!0;try{const l=await L.collection(c.collection).getOne(y.params.id);m.value.push({label:l[c.breadcrumbLabel],path:`/employee/view/${l.id}`,isActive:!0}),i.value=l,console.log(l)}catch(l){l.value=l.data.message}finally{u.value=!1}}function f(){var b=document.getElementById("contentToPrint").outerHTML;A(b),window.open(`${V}/#print`,"_blank","width=800,height=600")}return(b,l)=>(e(),a(s,null,[m.value?(e(),_(x,{key:0,links:m.value},null,8,["links"])):o("",!0),u.value?(e(),_(N,{key:1})):o("",!0),i.value!=null?(e(),a("div",M,[t("div",{class:"is-flex is-flex-direction-row-reverse mb-4"},[t("button",{class:"button is-secondary",onClick:f},l[0]||(l[0]=[t("i",{class:"bi bi-printer"},null,-1)]))]),t("div",P,[(e(!0),a(s,null,p(r.viewList,n=>(e(),a(s,null,[n.type==="profile_photo"?(e(),a("div",T,[g(C,{filename:i.value[n.name],record:i.value,size:"128x128"},null,8,["filename","record"])])):o("",!0)],64))),256)),t("div",j,[t("div",E,[t("div",S,[t("table",$,[t("tbody",null,[(e(!0),a(s,null,p(r.viewList,n=>(e(),a("tr",null,[n.type==="text"?(e(),a(s,{key:0},[t("td",null,D(n.label),1),t("td",null,[t("input",{type:"text",class:"input",value:i.value[n.name],readonly:"",disabled:""},null,8,F)])],64)):o("",!0)]))),256))])])]),(e(!0),a(s,null,p(r.viewList,n=>(e(),a(s,null,[n.type==="rich_text"?(e(),a("div",{key:0,class:"box",style:{width:"60rem"},innerHTML:i.value[n.name]},null,8,H)):o("",!0)],64))),256))])])])])):o("",!0)],64))}},G={__name:"View",setup(r){const c=d([{label:"Dashboard",path:"/",isActive:!1},{label:"Employee",path:"/employee",isActive:!1},{label:"View",path:"/employee",isActive:!1}]),u=[{name:"photo",label:"PP",type:"profile_photo"},{name:"first_name",label:"First Name",type:"text"},{name:"middle_name",label:"Middle Name",type:"text"},{name:"last_name",label:"Last Name",type:"text"},{name:"date_of_birth_ad",label:"Date of birth (AD)",type:"date"},{name:"nationality",label:"Nationality",type:"text"},{name:"contact_number",label:"Contact Number",type:"text"},{name:"email",label:"Email",type:"text"},{name:"address",label:"Address",type:"textarea"},{name:"designation",label:"Designation",type:"text"},{name:"department",label:"Department",type:"text"},{name:"joining_date",label:"Joining Date",type:"date"},{name:"bio",label:"Bio",type:"rich_text"}];return(i,v)=>(e(),_(O,{collection:"employee",breadcrumb:c.value,breadcrumbLabel:"first_name",viewList:u},null,8,["breadcrumb"]))}};export{G as default};
